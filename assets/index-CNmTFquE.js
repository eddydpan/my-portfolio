var PT=Object.defineProperty;var FE=n=>{throw TypeError(n)};var LT=(n,t,e)=>t in n?PT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var At=(n,t,e)=>LT(n,typeof t!="symbol"?t+"":t,e),U1=(n,t,e)=>t.has(n)||FE("Cannot "+e);var m=(n,t,e)=>(U1(n,t,"read from private field"),e?e.call(n):t.get(n)),$=(n,t,e)=>t.has(n)?FE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),D=(n,t,e,i)=>(U1(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),N=(n,t,e)=>(U1(n,t,"access private method"),e);var on=(n,t,e,i)=>({set _(s){D(n,t,s,e)},get _(){return m(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),e}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:a}}return reactJsxRuntime_production.Fragment=t,reactJsxRuntime_production.jsx=e,reactJsxRuntime_production.jsxs=e,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function R(I,at,pt){this.props=I,this.context=at,this.refs=S,this.updater=pt||x}R.prototype.isReactComponent={},R.prototype.setState=function(I,at){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,at,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function w(){}w.prototype=R.prototype;function L(I,at,pt){this.props=I,this.context=at,this.refs=S,this.updater=pt||x}var P=L.prototype=new w;P.constructor=L,E(P,R.prototype),P.isPureReactComponent=!0;var V=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function H(I,at,pt,z,St,Tt){return pt=Tt.ref,{$$typeof:n,type:I,key:at,ref:pt!==void 0?pt:null,props:Tt}}function K(I,at){return H(I.type,at,void 0,void 0,void 0,I.props)}function J(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function G(I){var at={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(pt){return at[pt]})}var et=/\/+/g;function ut(I,at){return typeof I=="object"&&I!==null&&I.key!=null?G(""+I.key):at.toString(36)}function Et(){}function ot(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Et,Et):(I.status="pending",I.then(function(at){I.status==="pending"&&(I.status="fulfilled",I.value=at)},function(at){I.status==="pending"&&(I.status="rejected",I.reason=at)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function dt(I,at,pt,z,St){var Tt=typeof I;(Tt==="undefined"||Tt==="boolean")&&(I=null);var wt=!1;if(I===null)wt=!0;else switch(Tt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(I.$$typeof){case n:case t:wt=!0;break;case f:return wt=I._init,dt(wt(I._payload),at,pt,z,St)}}if(wt)return St=St(I),wt=z===""?"."+ut(I,0):z,V(St)?(pt="",wt!=null&&(pt=wt.replace(et,"$&/")+"/"),dt(St,at,pt,"",function(Xt){return Xt})):St!=null&&(J(St)&&(St=K(St,pt+(St.key==null||I&&I.key===St.key?"":(""+St.key).replace(et,"$&/")+"/")+wt)),at.push(St)),1;wt=0;var Lt=z===""?".":z+":";if(V(I))for(var Ot=0;Ot<I.length;Ot++)z=I[Ot],Tt=Lt+ut(z,Ot),wt+=dt(z,at,pt,Tt,St);else if(Ot=b(I),typeof Ot=="function")for(I=Ot.call(I),Ot=0;!(z=I.next()).done;)z=z.value,Tt=Lt+ut(z,Ot++),wt+=dt(z,at,pt,Tt,St);else if(Tt==="object"){if(typeof I.then=="function")return dt(ot(I),at,pt,z,St);throw at=String(I),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Q(I,at,pt){if(I==null)return I;var z=[],St=0;return dt(I,z,"","",function(Tt){return at.call(pt,Tt,St++)}),z}function Z(I){if(I._status===-1){var at=I._result;at=at(),at.then(function(pt){(I._status===0||I._status===-1)&&(I._status=1,I._result=pt)},function(pt){(I._status===0||I._status===-1)&&(I._status=2,I._result=pt)}),I._status===-1&&(I._status=0,I._result=at)}if(I._status===1)return I._result.default;throw I._result}var it=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Ct(){}return react_production.Children={map:Q,forEach:function(I,at,pt){Q(I,function(){at.apply(this,arguments)},pt)},count:function(I){var at=0;return Q(I,function(){at++}),at},toArray:function(I){return Q(I,function(at){return at})||[]},only:function(I){if(!J(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},react_production.Component=R,react_production.Fragment=e,react_production.Profiler=s,react_production.PureComponent=L,react_production.StrictMode=i,react_production.Suspense=h,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(I){return B.H.useMemoCache(I)}},react_production.cache=function(I){return function(){return I.apply(null,arguments)}},react_production.cloneElement=function(I,at,pt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var z=E({},I.props),St=I.key,Tt=void 0;if(at!=null)for(wt in at.ref!==void 0&&(Tt=void 0),at.key!==void 0&&(St=""+at.key),at)!F.call(at,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&at.ref===void 0||(z[wt]=at[wt]);var wt=arguments.length-2;if(wt===1)z.children=pt;else if(1<wt){for(var Lt=Array(wt),Ot=0;Ot<wt;Ot++)Lt[Ot]=arguments[Ot+2];z.children=Lt}return H(I.type,St,void 0,void 0,Tt,z)},react_production.createContext=function(I){return I={$$typeof:o,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:a,_context:I},I},react_production.createElement=function(I,at,pt){var z,St={},Tt=null;if(at!=null)for(z in at.key!==void 0&&(Tt=""+at.key),at)F.call(at,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(St[z]=at[z]);var wt=arguments.length-2;if(wt===1)St.children=pt;else if(1<wt){for(var Lt=Array(wt),Ot=0;Ot<wt;Ot++)Lt[Ot]=arguments[Ot+2];St.children=Lt}if(I&&I.defaultProps)for(z in wt=I.defaultProps,wt)St[z]===void 0&&(St[z]=wt[z]);return H(I,Tt,void 0,void 0,null,St)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(I){return{$$typeof:u,render:I}},react_production.isValidElement=J,react_production.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:Z}},react_production.memo=function(I,at){return{$$typeof:d,type:I,compare:at===void 0?null:at}},react_production.startTransition=function(I){var at=B.T,pt={};B.T=pt;try{var z=I(),St=B.S;St!==null&&St(pt,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(Ct,it)}catch(Tt){it(Tt)}finally{B.T=at}},react_production.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},react_production.use=function(I){return B.H.use(I)},react_production.useActionState=function(I,at,pt){return B.H.useActionState(I,at,pt)},react_production.useCallback=function(I,at){return B.H.useCallback(I,at)},react_production.useContext=function(I){return B.H.useContext(I)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(I,at){return B.H.useDeferredValue(I,at)},react_production.useEffect=function(I,at,pt){var z=B.H;if(typeof pt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(I,at)},react_production.useId=function(){return B.H.useId()},react_production.useImperativeHandle=function(I,at,pt){return B.H.useImperativeHandle(I,at,pt)},react_production.useInsertionEffect=function(I,at){return B.H.useInsertionEffect(I,at)},react_production.useLayoutEffect=function(I,at){return B.H.useLayoutEffect(I,at)},react_production.useMemo=function(I,at){return B.H.useMemo(I,at)},react_production.useOptimistic=function(I,at){return B.H.useOptimistic(I,at)},react_production.useReducer=function(I,at,pt){return B.H.useReducer(I,at,pt)},react_production.useRef=function(I){return B.H.useRef(I)},react_production.useState=function(I){return B.H.useState(I)},react_production.useSyncExternalStore=function(I,at,pt){return B.H.useSyncExternalStore(I,at,pt)},react_production.useTransition=function(){return B.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(n){function t(Q,Z){var it=Q.length;Q.push(Z);t:for(;0<it;){var Ct=it-1>>>1,I=Q[Ct];if(0<s(I,Z))Q[Ct]=Z,Q[it]=I,it=Ct;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var Z=Q[0],it=Q.pop();if(it!==Z){Q[0]=it;t:for(var Ct=0,I=Q.length,at=I>>>1;Ct<at;){var pt=2*(Ct+1)-1,z=Q[pt],St=pt+1,Tt=Q[St];if(0>s(z,it))St<I&&0>s(Tt,z)?(Q[Ct]=Tt,Q[St]=it,Ct=St):(Q[Ct]=z,Q[pt]=it,Ct=pt);else if(St<I&&0>s(Tt,it))Q[Ct]=Tt,Q[St]=it,Ct=St;else break t}}return Z}function s(Q,Z){var it=Q.sortIndex-Z.sortIndex;return it!==0?it:Q.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var h=[],d=[],f=1,g=null,b=3,x=!1,E=!1,S=!1,R=!1,w=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function V(Q){for(var Z=e(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=Q)i(d),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=e(d)}}function B(Q){if(S=!1,V(Q),!E)if(e(h)!==null)E=!0,F||(F=!0,ut());else{var Z=e(d);Z!==null&&dt(B,Z.startTime-Q)}}var F=!1,H=-1,K=5,J=-1;function G(){return R?!0:!(n.unstable_now()-J<K)}function et(){if(R=!1,F){var Q=n.unstable_now();J=Q;var Z=!0;try{t:{E=!1,S&&(S=!1,L(H),H=-1),x=!0;var it=b;try{e:{for(V(Q),g=e(h);g!==null&&!(g.expirationTime>Q&&G());){var Ct=g.callback;if(typeof Ct=="function"){g.callback=null,b=g.priorityLevel;var I=Ct(g.expirationTime<=Q);if(Q=n.unstable_now(),typeof I=="function"){g.callback=I,V(Q),Z=!0;break e}g===e(h)&&i(h),V(Q)}else i(h);g=e(h)}if(g!==null)Z=!0;else{var at=e(d);at!==null&&dt(B,at.startTime-Q),Z=!1}}break t}finally{g=null,b=it,x=!1}Z=void 0}}finally{Z?ut():F=!1}}}var ut;if(typeof P=="function")ut=function(){P(et)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,ot=Et.port2;Et.port1.onmessage=et,ut=function(){ot.postMessage(null)}}else ut=function(){w(et,0)};function dt(Q,Z){H=w(function(){Q(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var it=b;b=Z;try{return Q()}finally{b=it}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(Q,Z){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var it=b;b=Q;try{return Z()}finally{b=it}},n.unstable_scheduleCallback=function(Q,Z,it){var Ct=n.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?Ct+it:Ct):it=Ct,Q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=it+I,Q={id:f++,callback:Z,priorityLevel:Q,startTime:it,expirationTime:I,sortIndex:-1},it>Ct?(Q.sortIndex=it,t(d,Q),e(h)===null&&Q===e(d)&&(S?(L(H),H=-1):S=!0,dt(B,it-Ct))):(Q.sortIndex=I,t(h,Q),E||x||(E=!0,F||(F=!0,ut()))),Q},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(Q){var Z=b;return function(){var it=b;b=Z;try{return Q.apply(this,arguments)}finally{b=it}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var n=requireReact();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:d,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,reactDom_production.createPortal=function(h,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,f)},reactDom_production.flushSync=function(h){var d=o.T,f=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=d,i.p=f,i.d.f()}},reactDom_production.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},reactDom_production.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},reactDom_production.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var f=d.as,g=u(f,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):f==="script"&&i.d.X(h,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},reactDom_production.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=u(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},reactDom_production.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=u(f,d.crossOrigin);i.d.L(h,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},reactDom_production.preloadModule=function(h,d){if(typeof h=="string")if(d){var f=u(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},reactDom_production.requestFormReset=function(h){i.d.r(h)},reactDom_production.unstable_batchedUpdates=function(h,d){return h(d)},reactDom_production.useFormState=function(h,d,f){return o.H.useFormState(h,d,f)},reactDom_production.useFormStatus=function(){return o.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=requireScheduler(),t=requireReact(),e=requireReactDom();function i(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var c=l,p=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(p=c.return),l=c.return;while(l)}return c.tag===3?p:null}function o(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(i(188))}function h(l){var c=l.alternate;if(!c){if(c=a(l),c===null)throw Error(i(188));return c!==l?null:l}for(var p=l,y=c;;){var v=p.return;if(v===null)break;var A=v.alternate;if(A===null){if(y=v.return,y!==null){p=y;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===p)return u(v),l;if(A===y)return u(v),c;A=A.sibling}throw Error(i(188))}if(p.return!==y.return)p=v,y=A;else{for(var O=!1,U=v.child;U;){if(U===p){O=!0,p=v,y=A;break}if(U===y){O=!0,y=v,p=A;break}U=U.sibling}if(!O){for(U=A.child;U;){if(U===p){O=!0,p=A,y=v;break}if(U===y){O=!0,y=A,p=v;break}U=U.sibling}if(!O)throw Error(i(189))}}if(p.alternate!==y)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?l:c}function d(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=d(l),c!==null)return c;l=l.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function ut(l){return l===null||typeof l!="object"?null:(l=et&&l[et]||l["@@iterator"],typeof l=="function"?l:null)}var Et=Symbol.for("react.client.reference");function ot(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Et?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case E:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case B:return"Suspense";case F:return"SuspenseList";case J:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case x:return"Portal";case P:return(l.displayName||"Context")+".Provider";case L:return(l._context.displayName||"Context")+".Consumer";case V:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case H:return c=l.displayName||null,c!==null?c:ot(l.type)||"Memo";case K:c=l._payload,l=l._init;try{return ot(l(c))}catch{}}return null}var dt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},Ct=[],I=-1;function at(l){return{current:l}}function pt(l){0>I||(l.current=Ct[I],Ct[I]=null,I--)}function z(l,c){I++,Ct[I]=l.current,l.current=c}var St=at(null),Tt=at(null),wt=at(null),Lt=at(null);function Ot(l,c){switch(z(wt,c),z(Tt,l),z(St,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?fE(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=fE(c),l=pE(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}pt(St),z(St,l)}function Xt(){pt(St),pt(Tt),pt(wt)}function jt(l){l.memoizedState!==null&&z(Lt,l);var c=St.current,p=pE(c,l.type);c!==p&&(z(Tt,l),z(St,p))}function ue(l){Tt.current===l&&(pt(St),pt(Tt)),Lt.current===l&&(pt(Lt),vd._currentValue=it)}var Me=Object.prototype.hasOwnProperty,Ft=n.unstable_scheduleCallback,Yt=n.unstable_cancelCallback,ae=n.unstable_shouldYield,ce=n.unstable_requestPaint,ge=n.unstable_now,Ye=n.unstable_getCurrentPriorityLevel,Un=n.unstable_ImmediatePriority,zn=n.unstable_UserBlockingPriority,Ke=n.unstable_NormalPriority,Xe=n.unstable_LowPriority,Zn=n.unstable_IdlePriority,Fi=n.log,_=n.unstable_setDisableYieldValue,Y=null,M=null;function T(l){if(typeof Fi=="function"&&_(l),M&&typeof M.setStrictMode=="function")try{M.setStrictMode(Y,l)}catch{}}var C=Math.clz32?Math.clz32:q,k=Math.log,j=Math.LN2;function q(l){return l>>>=0,l===0?32:31-(k(l)/j|0)|0}var X=256,ct=4194304;function mt(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function lt(l,c,p){var y=l.pendingLanes;if(y===0)return 0;var v=0,A=l.suspendedLanes,O=l.pingedLanes;l=l.warmLanes;var U=y&134217727;return U!==0?(y=U&~A,y!==0?v=mt(y):(O&=U,O!==0?v=mt(O):p||(p=U&~l,p!==0&&(v=mt(p))))):(U=y&~A,U!==0?v=mt(U):O!==0?v=mt(O):p||(p=y&~l,p!==0&&(v=mt(p)))),v===0?0:c!==0&&c!==v&&(c&A)===0&&(A=v&-v,p=c&-c,A>=p||A===32&&(p&4194048)!==0)?c:v}function vt(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function gt(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var l=X;return X<<=1,(X&4194048)===0&&(X=256),l}function te(){var l=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),l}function Ut(l){for(var c=[],p=0;31>p;p++)c.push(l);return c}function Fe(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function xS(l,c,p,y,v,A){var O=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var U=l.entanglements,W=l.expirationTimes,st=l.hiddenUpdates;for(p=O&~p;0<p;){var yt=31-C(p),xt=1<<yt;U[yt]=0,W[yt]=-1;var ht=st[yt];if(ht!==null)for(st[yt]=null,yt=0;yt<ht.length;yt++){var ft=ht[yt];ft!==null&&(ft.lane&=-536870913)}p&=~xt}y!==0&&Qb(l,y,0),A!==0&&v===0&&l.tag!==0&&(l.suspendedLanes|=A&~(O&~c))}function Qb(l,c,p){l.pendingLanes|=c,l.suspendedLanes&=~c;var y=31-C(c);l.entangledLanes|=c,l.entanglements[y]=l.entanglements[y]|1073741824|p&4194090}function Zb(l,c){var p=l.entangledLanes|=c;for(l=l.entanglements;p;){var y=31-C(p),v=1<<y;v&c|l[y]&c&&(l[y]|=c),p&=~v}}function Pg(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Lg(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Jb(){var l=Z.p;return l!==0?l:(l=window.event,l===void 0?32:LE(l.type))}function vS(l,c){var p=Z.p;try{return Z.p=l,c()}finally{Z.p=p}}var aa=Math.random().toString(36).slice(2),Ln="__reactFiber$"+aa,Jn="__reactProps$"+aa,lu="__reactContainer$"+aa,$g="__reactEvents$"+aa,ES="__reactListeners$"+aa,AS="__reactHandles$"+aa,tx="__reactResources$"+aa,Dh="__reactMarker$"+aa;function Og(l){delete l[Ln],delete l[Jn],delete l[$g],delete l[ES],delete l[AS]}function uu(l){var c=l[Ln];if(c)return c;for(var p=l.parentNode;p;){if(c=p[lu]||p[Ln]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(l=bE(l);l!==null;){if(p=l[Ln])return p;l=bE(l)}return c}l=p,p=l.parentNode}return null}function cu(l){if(l=l[Ln]||l[lu]){var c=l.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return l}return null}function Mh(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(i(33))}function hu(l){var c=l[tx];return c||(c=l[tx]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function dn(l){l[Dh]=!0}var ex=new Set,nx={};function Ro(l,c){du(l,c),du(l+"Capture",c)}function du(l,c){for(nx[l]=c,l=0;l<c.length;l++)ex.add(c[l])}var SS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ix={},rx={};function wS(l){return Me.call(rx,l)?!0:Me.call(ix,l)?!1:SS.test(l)?rx[l]=!0:(ix[l]=!0,!1)}function Tp(l,c,p){if(wS(c))if(p===null)l.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+p)}}function Cp(l,c,p){if(p===null)l.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+p)}}function is(l,c,p,y){if(y===null)l.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(c,p,""+y)}}var Ig,sx;function fu(l){if(Ig===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Ig=c&&c[1]||"",sx=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ig+l+sx}var Bg=!1;function Ng(l,c){if(!l||Bg)return"";Bg=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(ft){var ht=ft}Reflect.construct(l,[],xt)}else{try{xt.call()}catch(ft){ht=ft}l.call(xt.prototype)}}else{try{throw Error()}catch(ft){ht=ft}(xt=l())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(ft){if(ft&&ht&&typeof ft.stack=="string")return[ft.stack,ht.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=y.DetermineComponentFrameRoot(),O=A[0],U=A[1];if(O&&U){var W=O.split(`
`),st=U.split(`
`);for(v=y=0;y<W.length&&!W[y].includes("DetermineComponentFrameRoot");)y++;for(;v<st.length&&!st[v].includes("DetermineComponentFrameRoot");)v++;if(y===W.length||v===st.length)for(y=W.length-1,v=st.length-1;1<=y&&0<=v&&W[y]!==st[v];)v--;for(;1<=y&&0<=v;y--,v--)if(W[y]!==st[v]){if(y!==1||v!==1)do if(y--,v--,0>v||W[y]!==st[v]){var yt=`
`+W[y].replace(" at new "," at ");return l.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",l.displayName)),yt}while(1<=y&&0<=v);break}}}finally{Bg=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?fu(p):""}function TS(l){switch(l.tag){case 26:case 27:case 5:return fu(l.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 15:return Ng(l.type,!1);case 11:return Ng(l.type.render,!1);case 1:return Ng(l.type,!0);case 31:return fu("Activity");default:return""}}function ax(l){try{var c="";do c+=TS(l),l=l.return;while(l);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Vi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ox(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function CS(l){var c=ox(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),y=""+l[c];if(!l.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,A=p.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return v.call(this)},set:function(O){y=""+O,A.call(this,O)}}),Object.defineProperty(l,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(O){y=""+O},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Rp(l){l._valueTracker||(l._valueTracker=CS(l))}function lx(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return l&&(y=ox(l)?l.checked?"true":"false":l.value),l=y,l!==p?(c.setValue(l),!0):!1}function _p(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var RS=/[\n"\\]/g;function ji(l){return l.replace(RS,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Fg(l,c,p,y,v,A,O,U){l.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?l.type=O:l.removeAttribute("type"),c!=null?O==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+Vi(c)):l.value!==""+Vi(c)&&(l.value=""+Vi(c)):O!=="submit"&&O!=="reset"||l.removeAttribute("value"),c!=null?Vg(l,O,Vi(c)):p!=null?Vg(l,O,Vi(p)):y!=null&&l.removeAttribute("value"),v==null&&A!=null&&(l.defaultChecked=!!A),v!=null&&(l.checked=v&&typeof v!="function"&&typeof v!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?l.name=""+Vi(U):l.removeAttribute("name")}function ux(l,c,p,y,v,A,O,U){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(l.type=A),c!=null||p!=null){if(!(A!=="submit"&&A!=="reset"||c!=null))return;p=p!=null?""+Vi(p):"",c=c!=null?""+Vi(c):p,U||c===l.value||(l.value=c),l.defaultValue=c}y=y??v,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=U?l.checked:!!y,l.defaultChecked=!!y,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.name=O)}function Vg(l,c,p){c==="number"&&_p(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function pu(l,c,p,y){if(l=l.options,c){c={};for(var v=0;v<p.length;v++)c["$"+p[v]]=!0;for(p=0;p<l.length;p++)v=c.hasOwnProperty("$"+l[p].value),l[p].selected!==v&&(l[p].selected=v),v&&y&&(l[p].defaultSelected=!0)}else{for(p=""+Vi(p),c=null,v=0;v<l.length;v++){if(l[v].value===p){l[v].selected=!0,y&&(l[v].defaultSelected=!0);return}c!==null||l[v].disabled||(c=l[v])}c!==null&&(c.selected=!0)}}function cx(l,c,p){if(c!=null&&(c=""+Vi(c),c!==l.value&&(l.value=c),p==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=p!=null?""+Vi(p):""}function hx(l,c,p,y){if(c==null){if(y!=null){if(p!=null)throw Error(i(92));if(dt(y)){if(1<y.length)throw Error(i(93));y=y[0]}p=y}p==null&&(p=""),c=p}p=Vi(c),l.defaultValue=p,y=l.textContent,y===p&&y!==""&&y!==null&&(l.value=y)}function mu(l,c){if(c){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=c;return}}l.textContent=c}var _S=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dx(l,c,p){var y=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":y?l.setProperty(c,p):typeof p!="number"||p===0||_S.has(c)?c==="float"?l.cssFloat=p:l[c]=(""+p).trim():l[c]=p+"px"}function fx(l,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(l=l.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var v in c)y=c[v],c.hasOwnProperty(v)&&p[v]!==y&&dx(l,v,y)}else for(var A in c)c.hasOwnProperty(A)&&dx(l,A,c[A])}function jg(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kp(l){return DS.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Ug=null;function zg(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var gu=null,yu=null;function mx(l){var c=cu(l);if(c&&(l=c.stateNode)){var p=l[Jn]||null;t:switch(l=c.stateNode,c.type){case"input":if(Fg(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ji(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==l&&y.form===l.form){var v=y[Jn]||null;if(!v)throw Error(i(90));Fg(y,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<p.length;c++)y=p[c],y.form===l.form&&lx(y)}break t;case"textarea":cx(l,p.value,p.defaultValue);break t;case"select":c=p.value,c!=null&&pu(l,!!p.multiple,c,!1)}}}var Hg=!1;function gx(l,c,p){if(Hg)return l(c,p);Hg=!0;try{var y=l(c);return y}finally{if(Hg=!1,(gu!==null||yu!==null)&&(pm(),gu&&(c=gu,l=yu,yu=gu=null,mx(c),l)))for(c=0;c<l.length;c++)mx(l[c])}}function Ph(l,c){var p=l.stateNode;if(p===null)return null;var y=p[Jn]||null;if(y===null)return null;p=y[c];t:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break t;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qg=!1;if(rs)try{var Lh={};Object.defineProperty(Lh,"passive",{get:function(){qg=!0}}),window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{qg=!1}var oa=null,Gg=null,Dp=null;function yx(){if(Dp)return Dp;var l,c=Gg,p=c.length,y,v="value"in oa?oa.value:oa.textContent,A=v.length;for(l=0;l<p&&c[l]===v[l];l++);var O=p-l;for(y=1;y<=O&&c[p-y]===v[A-y];y++);return Dp=v.slice(l,1<y?1-y:void 0)}function Mp(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Pp(){return!0}function bx(){return!1}function ti(l){function c(p,y,v,A,O){this._reactName=p,this._targetInst=v,this.type=y,this.nativeEvent=A,this.target=O,this.currentTarget=null;for(var U in l)l.hasOwnProperty(U)&&(p=l[U],this[U]=p?p(A):A[U]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Pp:bx,this.isPropagationStopped=bx,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Pp)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Pp)},persist:function(){},isPersistent:Pp}),c}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=ti(_o),$h=f({},_o,{view:0,detail:0}),MS=ti($h),Yg,Kg,Oh,$p=f({},$h,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Oh&&(Oh&&l.type==="mousemove"?(Yg=l.screenX-Oh.screenX,Kg=l.screenY-Oh.screenY):Kg=Yg=0,Oh=l),Yg)},movementY:function(l){return"movementY"in l?l.movementY:Kg}}),xx=ti($p),PS=f({},$p,{dataTransfer:0}),LS=ti(PS),$S=f({},$h,{relatedTarget:0}),Xg=ti($S),OS=f({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),IS=ti(OS),BS=f({},_o,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),NS=ti(BS),FS=f({},_o,{data:0}),vx=ti(FS),VS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},US={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zS(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=US[l])?!!c[l]:!1}function Wg(){return zS}var HS=f({},$h,{key:function(l){if(l.key){var c=VS[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=Mp(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?jS[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wg,charCode:function(l){return l.type==="keypress"?Mp(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Mp(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),qS=ti(HS),GS=f({},$p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ex=ti(GS),YS=f({},$h,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wg}),KS=ti(YS),XS=f({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),WS=ti(XS),QS=f({},$p,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),ZS=ti(QS),JS=f({},_o,{newState:0,oldState:0}),tw=ti(JS),ew=[9,13,27,32],Qg=rs&&"CompositionEvent"in window,Ih=null;rs&&"documentMode"in document&&(Ih=document.documentMode);var nw=rs&&"TextEvent"in window&&!Ih,Ax=rs&&(!Qg||Ih&&8<Ih&&11>=Ih),Sx=" ",wx=!1;function Tx(l,c){switch(l){case"keyup":return ew.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cx(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var bu=!1;function iw(l,c){switch(l){case"compositionend":return Cx(c);case"keypress":return c.which!==32?null:(wx=!0,Sx);case"textInput":return l=c.data,l===Sx&&wx?null:l;default:return null}}function rw(l,c){if(bu)return l==="compositionend"||!Qg&&Tx(l,c)?(l=yx(),Dp=Gg=oa=null,bu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ax&&c.locale!=="ko"?null:c.data;default:return null}}var sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rx(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!sw[l.type]:c==="textarea"}function _x(l,c,p,y){gu?yu?yu.push(y):yu=[y]:gu=y,c=vm(c,"onChange"),0<c.length&&(p=new Lp("onChange","change",null,p,y),l.push({event:p,listeners:c}))}var Bh=null,Nh=null;function aw(l){lE(l,0)}function Op(l){var c=Mh(l);if(lx(c))return l}function kx(l,c){if(l==="change")return c}var Dx=!1;if(rs){var Zg;if(rs){var Jg="oninput"in document;if(!Jg){var Mx=document.createElement("div");Mx.setAttribute("oninput","return;"),Jg=typeof Mx.oninput=="function"}Zg=Jg}else Zg=!1;Dx=Zg&&(!document.documentMode||9<document.documentMode)}function Px(){Bh&&(Bh.detachEvent("onpropertychange",Lx),Nh=Bh=null)}function Lx(l){if(l.propertyName==="value"&&Op(Nh)){var c=[];_x(c,Nh,l,zg(l)),gx(aw,c)}}function ow(l,c,p){l==="focusin"?(Px(),Bh=c,Nh=p,Bh.attachEvent("onpropertychange",Lx)):l==="focusout"&&Px()}function lw(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Op(Nh)}function uw(l,c){if(l==="click")return Op(c)}function cw(l,c){if(l==="input"||l==="change")return Op(c)}function hw(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var di=typeof Object.is=="function"?Object.is:hw;function Fh(l,c){if(di(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var p=Object.keys(l),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var v=p[y];if(!Me.call(c,v)||!di(l[v],c[v]))return!1}return!0}function $x(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ox(l,c){var p=$x(l);l=0;for(var y;p;){if(p.nodeType===3){if(y=l+p.textContent.length,l<=c&&y>=c)return{node:p,offset:c-l};l=y}t:{for(;p;){if(p.nextSibling){p=p.nextSibling;break t}p=p.parentNode}p=void 0}p=$x(p)}}function Ix(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?Ix(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Bx(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=_p(l.document);c instanceof l.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)l=c.contentWindow;else break;c=_p(l.document)}return c}function ty(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var dw=rs&&"documentMode"in document&&11>=document.documentMode,xu=null,ey=null,Vh=null,ny=!1;function Nx(l,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ny||xu==null||xu!==_p(y)||(y=xu,"selectionStart"in y&&ty(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Vh&&Fh(Vh,y)||(Vh=y,y=vm(ey,"onSelect"),0<y.length&&(c=new Lp("onSelect","select",null,c,p),l.push({event:c,listeners:y}),c.target=xu)))}function ko(l,c){var p={};return p[l.toLowerCase()]=c.toLowerCase(),p["Webkit"+l]="webkit"+c,p["Moz"+l]="moz"+c,p}var vu={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionrun:ko("Transition","TransitionRun"),transitionstart:ko("Transition","TransitionStart"),transitioncancel:ko("Transition","TransitionCancel"),transitionend:ko("Transition","TransitionEnd")},iy={},Fx={};rs&&(Fx=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function Do(l){if(iy[l])return iy[l];if(!vu[l])return l;var c=vu[l],p;for(p in c)if(c.hasOwnProperty(p)&&p in Fx)return iy[l]=c[p];return l}var Vx=Do("animationend"),jx=Do("animationiteration"),Ux=Do("animationstart"),fw=Do("transitionrun"),pw=Do("transitionstart"),mw=Do("transitioncancel"),zx=Do("transitionend"),Hx=new Map,ry="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ry.push("scrollEnd");function lr(l,c){Hx.set(l,c),Ro(c,[l])}var qx=new WeakMap;function Ui(l,c){if(typeof l=="object"&&l!==null){var p=qx.get(l);return p!==void 0?p:(c={value:l,source:c,stack:ax(c)},qx.set(l,c),c)}return{value:l,source:c,stack:ax(c)}}var zi=[],Eu=0,sy=0;function Ip(){for(var l=Eu,c=sy=Eu=0;c<l;){var p=zi[c];zi[c++]=null;var y=zi[c];zi[c++]=null;var v=zi[c];zi[c++]=null;var A=zi[c];if(zi[c++]=null,y!==null&&v!==null){var O=y.pending;O===null?v.next=v:(v.next=O.next,O.next=v),y.pending=v}A!==0&&Gx(p,v,A)}}function Bp(l,c,p,y){zi[Eu++]=l,zi[Eu++]=c,zi[Eu++]=p,zi[Eu++]=y,sy|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function ay(l,c,p,y){return Bp(l,c,p,y),Np(l)}function Au(l,c){return Bp(l,null,null,c),Np(l)}function Gx(l,c,p){l.lanes|=p;var y=l.alternate;y!==null&&(y.lanes|=p);for(var v=!1,A=l.return;A!==null;)A.childLanes|=p,y=A.alternate,y!==null&&(y.childLanes|=p),A.tag===22&&(l=A.stateNode,l===null||l._visibility&1||(v=!0)),l=A,A=A.return;return l.tag===3?(A=l.stateNode,v&&c!==null&&(v=31-C(p),l=A.hiddenUpdates,y=l[v],y===null?l[v]=[c]:y.push(c),c.lane=p|536870912),A):null}function Np(l){if(50<dd)throw dd=0,d1=null,Error(i(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var Su={};function gw(l,c,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(l,c,p,y){return new gw(l,c,p,y)}function oy(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ss(l,c){var p=l.alternate;return p===null?(p=fi(l.tag,c,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=c,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,c=l.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function Yx(l,c){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,c=p.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Fp(l,c,p,y,v,A){var O=0;if(y=l,typeof l=="function")oy(l)&&(O=1);else if(typeof l=="string")O=xT(l,p,St.current)?26:l==="html"||l==="head"||l==="body"?27:5;else t:switch(l){case J:return l=fi(31,p,c,v),l.elementType=J,l.lanes=A,l;case E:return Mo(p.children,v,A,c);case S:O=8,v|=24;break;case R:return l=fi(12,p,c,v|2),l.elementType=R,l.lanes=A,l;case B:return l=fi(13,p,c,v),l.elementType=B,l.lanes=A,l;case F:return l=fi(19,p,c,v),l.elementType=F,l.lanes=A,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case w:case P:O=10;break t;case L:O=9;break t;case V:O=11;break t;case H:O=14;break t;case K:O=16,y=null;break t}O=29,p=Error(i(130,l===null?"null":typeof l,"")),y=null}return c=fi(O,p,c,v),c.elementType=l,c.type=y,c.lanes=A,c}function Mo(l,c,p,y){return l=fi(7,l,y,c),l.lanes=p,l}function ly(l,c,p){return l=fi(6,l,null,c),l.lanes=p,l}function uy(l,c,p){return c=fi(4,l.children!==null?l.children:[],l.key,c),c.lanes=p,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var wu=[],Tu=0,Vp=null,jp=0,Hi=[],qi=0,Po=null,as=1,os="";function Lo(l,c){wu[Tu++]=jp,wu[Tu++]=Vp,Vp=l,jp=c}function Kx(l,c,p){Hi[qi++]=as,Hi[qi++]=os,Hi[qi++]=Po,Po=l;var y=as;l=os;var v=32-C(y)-1;y&=~(1<<v),p+=1;var A=32-C(c)+v;if(30<A){var O=v-v%5;A=(y&(1<<O)-1).toString(32),y>>=O,v-=O,as=1<<32-C(c)+v|p<<v|y,os=A+l}else as=1<<A|p<<v|y,os=l}function cy(l){l.return!==null&&(Lo(l,1),Kx(l,1,0))}function hy(l){for(;l===Vp;)Vp=wu[--Tu],wu[Tu]=null,jp=wu[--Tu],wu[Tu]=null;for(;l===Po;)Po=Hi[--qi],Hi[qi]=null,os=Hi[--qi],Hi[qi]=null,as=Hi[--qi],Hi[qi]=null}var Hn=null,Ve=null,oe=!1,$o=null,Rr=!1,dy=Error(i(519));function Oo(l){var c=Error(i(418,""));throw zh(Ui(c,l)),dy}function Xx(l){var c=l.stateNode,p=l.type,y=l.memoizedProps;switch(c[Ln]=l,c[Jn]=y,p){case"dialog":Jt("cancel",c),Jt("close",c);break;case"iframe":case"object":case"embed":Jt("load",c);break;case"video":case"audio":for(p=0;p<pd.length;p++)Jt(pd[p],c);break;case"source":Jt("error",c);break;case"img":case"image":case"link":Jt("error",c),Jt("load",c);break;case"details":Jt("toggle",c);break;case"input":Jt("invalid",c),ux(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Rp(c);break;case"select":Jt("invalid",c);break;case"textarea":Jt("invalid",c),hx(c,y.value,y.defaultValue,y.children),Rp(c)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||y.suppressHydrationWarning===!0||dE(c.textContent,p)?(y.popover!=null&&(Jt("beforetoggle",c),Jt("toggle",c)),y.onScroll!=null&&Jt("scroll",c),y.onScrollEnd!=null&&Jt("scrollend",c),y.onClick!=null&&(c.onclick=Em),c=!0):c=!1,c||Oo(l)}function Wx(l){for(Hn=l.return;Hn;)switch(Hn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:Hn=Hn.return}}function jh(l){if(l!==Hn)return!1;if(!oe)return Wx(l),oe=!0,!1;var c=l.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||_1(l.type,l.memoizedProps)),p=!p),p&&Ve&&Oo(l),Wx(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));t:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(c===0){Ve=cr(l.nextSibling);break t}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;l=l.nextSibling}Ve=null}}else c===27?(c=Ve,Sa(l.type)?(l=P1,P1=null,Ve=l):Ve=c):Ve=Hn?cr(l.stateNode.nextSibling):null;return!0}function Uh(){Ve=Hn=null,oe=!1}function Qx(){var l=$o;return l!==null&&(ii===null?ii=l:ii.push.apply(ii,l),$o=null),l}function zh(l){$o===null?$o=[l]:$o.push(l)}var fy=at(null),Io=null,ls=null;function la(l,c,p){z(fy,c._currentValue),c._currentValue=p}function us(l){l._currentValue=fy.current,pt(fy)}function py(l,c,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),l===p)break;l=l.return}}function my(l,c,p,y){var v=l.child;for(v!==null&&(v.return=l);v!==null;){var A=v.dependencies;if(A!==null){var O=v.child;A=A.firstContext;t:for(;A!==null;){var U=A;A=v;for(var W=0;W<c.length;W++)if(U.context===c[W]){A.lanes|=p,U=A.alternate,U!==null&&(U.lanes|=p),py(A.return,p,l),y||(O=null);break t}A=U.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(i(341));O.lanes|=p,A=O.alternate,A!==null&&(A.lanes|=p),py(O,p,l),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===l){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Hh(l,c,p,y){l=null;for(var v=c,A=!1;v!==null;){if(!A){if((v.flags&524288)!==0)A=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var U=v.type;di(v.pendingProps.value,O.value)||(l!==null?l.push(U):l=[U])}}else if(v===Lt.current){if(O=v.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(l!==null?l.push(vd):l=[vd])}v=v.return}l!==null&&my(c,l,p,y),c.flags|=262144}function Up(l){for(l=l.firstContext;l!==null;){if(!di(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Bo(l){Io=l,ls=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function $n(l){return Zx(Io,l)}function zp(l,c){return Io===null&&Bo(l),Zx(l,c)}function Zx(l,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},ls===null){if(l===null)throw Error(i(308));ls=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else ls=ls.next=c;return p}var yw=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(p,y){l.push(y)}};this.abort=function(){c.aborted=!0,l.forEach(function(p){return p()})}},bw=n.unstable_scheduleCallback,xw=n.unstable_NormalPriority,sn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gy(){return{controller:new yw,data:new Map,refCount:0}}function qh(l){l.refCount--,l.refCount===0&&bw(xw,function(){l.controller.abort()})}var Gh=null,yy=0,Cu=0,Ru=null;function Ew(l,c){if(Gh===null){var p=Gh=[];yy=0,Cu=x1(),Ru={status:"pending",value:void 0,then:function(y){p.push(y)}}}return yy++,c.then(Jx,Jx),c}function Jx(){if(--yy===0&&Gh!==null){Ru!==null&&(Ru.status="fulfilled");var l=Gh;Gh=null,Cu=0,Ru=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function Aw(l,c){var p=[],y={status:"pending",value:null,reason:null,then:function(v){p.push(v)}};return l.then(function(){y.status="fulfilled",y.value=c;for(var v=0;v<p.length;v++)(0,p[v])(c)},function(v){for(y.status="rejected",y.reason=v,v=0;v<p.length;v++)(0,p[v])(void 0)}),y}var t0=Q.S;Q.S=function(l,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Ew(l,c),t0!==null&&t0(l,c)};var No=at(null);function by(){var l=No.current;return l!==null?l:ke.pooledCache}function Hp(l,c){c===null?z(No,No.current):z(No,c.pool)}function e0(){var l=by();return l===null?null:{parent:sn._currentValue,pool:l}}var Yh=Error(i(460)),n0=Error(i(474)),qp=Error(i(542)),xy={then:function(){}};function i0(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Gp(){}function r0(l,c,p){switch(p=l[p],p===void 0?l.push(c):p!==c&&(c.then(Gp,Gp),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,a0(l),l;default:if(typeof c.status=="string")c.then(Gp,Gp);else{if(l=ke,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=c,l.status="pending",l.then(function(y){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=y}},function(y){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,a0(l),l}throw Kh=c,Yh}}var Kh=null;function s0(){if(Kh===null)throw Error(i(459));var l=Kh;return Kh=null,l}function a0(l){if(l===Yh||l===qp)throw Error(i(483))}var ua=!1;function vy(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ey(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ca(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function ha(l,c,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(de&2)!==0){var v=y.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),y.pending=c,c=Np(l),Gx(l,null,p),c}return Bp(l,y,c,p),Np(l)}function Xh(l,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var y=c.lanes;y&=l.pendingLanes,p|=y,c.lanes=p,Zb(l,p)}}function Ay(l,c){var p=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var v=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var O={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?v=A=O:A=A.next=O,p=p.next}while(p!==null);A===null?v=A=c:A=A.next=c}else v=A=c;p={baseState:y.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:y.shared,callbacks:y.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=c}var Sy=!1;function Wh(){if(Sy){var l=Ru;if(l!==null)throw l}}function Qh(l,c,p,y){Sy=!1;var v=l.updateQueue;ua=!1;var A=v.firstBaseUpdate,O=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var W=U,st=W.next;W.next=null,O===null?A=st:O.next=st,O=W;var yt=l.alternate;yt!==null&&(yt=yt.updateQueue,U=yt.lastBaseUpdate,U!==O&&(U===null?yt.firstBaseUpdate=st:U.next=st,yt.lastBaseUpdate=W))}if(A!==null){var xt=v.baseState;O=0,yt=st=W=null,U=A;do{var ht=U.lane&-536870913,ft=ht!==U.lane;if(ft?(ee&ht)===ht:(y&ht)===ht){ht!==0&&ht===Cu&&(Sy=!0),yt!==null&&(yt=yt.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});t:{var Vt=l,It=U;ht=c;var xe=p;switch(It.tag){case 1:if(Vt=It.payload,typeof Vt=="function"){xt=Vt.call(xe,xt,ht);break t}xt=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=It.payload,ht=typeof Vt=="function"?Vt.call(xe,xt,ht):Vt,ht==null)break t;xt=f({},xt,ht);break t;case 2:ua=!0}}ht=U.callback,ht!==null&&(l.flags|=64,ft&&(l.flags|=8192),ft=v.callbacks,ft===null?v.callbacks=[ht]:ft.push(ht))}else ft={lane:ht,tag:U.tag,payload:U.payload,callback:U.callback,next:null},yt===null?(st=yt=ft,W=xt):yt=yt.next=ft,O|=ht;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;ft=U,U=ft.next,ft.next=null,v.lastBaseUpdate=ft,v.shared.pending=null}}while(!0);yt===null&&(W=xt),v.baseState=W,v.firstBaseUpdate=st,v.lastBaseUpdate=yt,A===null&&(v.shared.lanes=0),xa|=O,l.lanes=O,l.memoizedState=xt}}function o0(l,c){if(typeof l!="function")throw Error(i(191,l));l.call(c)}function l0(l,c){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)o0(p[l],c)}var _u=at(null),Yp=at(0);function u0(l,c){l=gs,z(Yp,l),z(_u,c),gs=l|c.baseLanes}function wy(){z(Yp,gs),z(_u,_u.current)}function Ty(){gs=Yp.current,pt(_u),pt(Yp)}var da=0,Kt=null,ye=null,tn=null,Kp=!1,ku=!1,Fo=!1,Xp=0,Zh=0,Du=null,Sw=0;function We(){throw Error(i(321))}function Cy(l,c){if(c===null)return!1;for(var p=0;p<c.length&&p<l.length;p++)if(!di(l[p],c[p]))return!1;return!0}function Ry(l,c,p,y,v,A){return da=A,Kt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Q.H=l===null||l.memoizedState===null?G0:Y0,Fo=!1,A=p(y,v),Fo=!1,ku&&(A=h0(c,p,y,v)),c0(l),A}function c0(l){Q.H=em;var c=ye!==null&&ye.next!==null;if(da=0,tn=ye=Kt=null,Kp=!1,Zh=0,Du=null,c)throw Error(i(300));l===null||fn||(l=l.dependencies,l!==null&&Up(l)&&(fn=!0))}function h0(l,c,p,y){Kt=l;var v=0;do{if(ku&&(Du=null),Zh=0,ku=!1,25<=v)throw Error(i(301));if(v+=1,tn=ye=null,l.updateQueue!=null){var A=l.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}Q.H=Dw,A=c(p,y)}while(ku);return A}function ww(){var l=Q.H,c=l.useState()[0];return c=typeof c.then=="function"?Jh(c):c,l=l.useState()[0],(ye!==null?ye.memoizedState:null)!==l&&(Kt.flags|=1024),c}function _y(){var l=Xp!==0;return Xp=0,l}function ky(l,c,p){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~p}function Dy(l){if(Kp){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Kp=!1}da=0,tn=ye=Kt=null,ku=!1,Zh=Xp=0,Du=null}function ei(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Kt.memoizedState=tn=l:tn=tn.next=l,tn}function en(){if(ye===null){var l=Kt.alternate;l=l!==null?l.memoizedState:null}else l=ye.next;var c=tn===null?Kt.memoizedState:tn.next;if(c!==null)tn=c,ye=l;else{if(l===null)throw Kt.alternate===null?Error(i(467)):Error(i(310));ye=l,l={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},tn===null?Kt.memoizedState=tn=l:tn=tn.next=l}return tn}function My(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jh(l){var c=Zh;return Zh+=1,Du===null&&(Du=[]),l=r0(Du,l,c),c=Kt,(tn===null?c.memoizedState:tn.next)===null&&(c=c.alternate,Q.H=c===null||c.memoizedState===null?G0:Y0),l}function Wp(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Jh(l);if(l.$$typeof===P)return $n(l)}throw Error(i(438,String(l)))}function Py(l){var c=null,p=Kt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var y=Kt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=My(),Kt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(l),y=0;y<l;y++)p[y]=G;return c.index++,p}function cs(l,c){return typeof c=="function"?c(l):c}function Qp(l){var c=en();return Ly(c,ye,l)}function Ly(l,c,p){var y=l.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=p;var v=l.baseQueue,A=y.pending;if(A!==null){if(v!==null){var O=v.next;v.next=A.next,A.next=O}c.baseQueue=v=A,y.pending=null}if(A=l.baseState,v===null)l.memoizedState=A;else{c=v.next;var U=O=null,W=null,st=c,yt=!1;do{var xt=st.lane&-536870913;if(xt!==st.lane?(ee&xt)===xt:(da&xt)===xt){var ht=st.revertLane;if(ht===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),xt===Cu&&(yt=!0);else if((da&ht)===ht){st=st.next,ht===Cu&&(yt=!0);continue}else xt={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},W===null?(U=W=xt,O=A):W=W.next=xt,Kt.lanes|=ht,xa|=ht;xt=st.action,Fo&&p(A,xt),A=st.hasEagerState?st.eagerState:p(A,xt)}else ht={lane:xt,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},W===null?(U=W=ht,O=A):W=W.next=ht,Kt.lanes|=xt,xa|=xt;st=st.next}while(st!==null&&st!==c);if(W===null?O=A:W.next=U,!di(A,l.memoizedState)&&(fn=!0,yt&&(p=Ru,p!==null)))throw p;l.memoizedState=A,l.baseState=O,l.baseQueue=W,y.lastRenderedState=A}return v===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function $y(l){var c=en(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=l;var y=p.dispatch,v=p.pending,A=c.memoizedState;if(v!==null){p.pending=null;var O=v=v.next;do A=l(A,O.action),O=O.next;while(O!==v);di(A,c.memoizedState)||(fn=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),p.lastRenderedState=A}return[A,y]}function d0(l,c,p){var y=Kt,v=en(),A=oe;if(A){if(p===void 0)throw Error(i(407));p=p()}else p=c();var O=!di((ye||v).memoizedState,p);O&&(v.memoizedState=p,fn=!0),v=v.queue;var U=m0.bind(null,y,v,l);if(td(2048,8,U,[l]),v.getSnapshot!==c||O||tn!==null&&tn.memoizedState.tag&1){if(y.flags|=2048,Mu(9,Zp(),p0.bind(null,y,v,p,c),null),ke===null)throw Error(i(349));A||(da&124)!==0||f0(y,c,p)}return p}function f0(l,c,p){l.flags|=16384,l={getSnapshot:c,value:p},c=Kt.updateQueue,c===null?(c=My(),Kt.updateQueue=c,c.stores=[l]):(p=c.stores,p===null?c.stores=[l]:p.push(l))}function p0(l,c,p,y){c.value=p,c.getSnapshot=y,g0(c)&&y0(l)}function m0(l,c,p){return p(function(){g0(c)&&y0(l)})}function g0(l){var c=l.getSnapshot;l=l.value;try{var p=c();return!di(l,p)}catch{return!0}}function y0(l){var c=Au(l,2);c!==null&&bi(c,l,2)}function Oy(l){var c=ei();if(typeof l=="function"){var p=l;if(l=p(),Fo){T(!0);try{p()}finally{T(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:l},c}function b0(l,c,p,y){return l.baseState=p,Ly(l,ye,typeof y=="function"?y:cs)}function Tw(l,c,p,y,v){if(tm(l))throw Error(i(485));if(l=c.action,l!==null){var A={payload:v,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){A.listeners.push(O)}};Q.T!==null?p(!0):A.isTransition=!1,y(A),p=c.pending,p===null?(A.next=c.pending=A,x0(c,A)):(A.next=p.next,c.pending=p.next=A)}}function x0(l,c){var p=c.action,y=c.payload,v=l.state;if(c.isTransition){var A=Q.T,O={};Q.T=O;try{var U=p(v,y),W=Q.S;W!==null&&W(O,U),v0(l,c,U)}catch(st){Iy(l,c,st)}finally{Q.T=A}}else try{A=p(v,y),v0(l,c,A)}catch(st){Iy(l,c,st)}}function v0(l,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){E0(l,c,y)},function(y){return Iy(l,c,y)}):E0(l,c,p)}function E0(l,c,p){c.status="fulfilled",c.value=p,A0(c),l.state=p,c=l.pending,c!==null&&(p=c.next,p===c?l.pending=null:(p=p.next,c.next=p,x0(l,p)))}function Iy(l,c,p){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=p,A0(c),c=c.next;while(c!==y)}l.action=null}function A0(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function S0(l,c){return c}function w0(l,c){if(oe){var p=ke.formState;if(p!==null){t:{var y=Kt;if(oe){if(Ve){e:{for(var v=Ve,A=Rr;v.nodeType!==8;){if(!A){v=null;break e}if(v=cr(v.nextSibling),v===null){v=null;break e}}A=v.data,v=A==="F!"||A==="F"?v:null}if(v){Ve=cr(v.nextSibling),y=v.data==="F!";break t}}Oo(y)}y=!1}y&&(c=p[0])}}return p=ei(),p.memoizedState=p.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:c},p.queue=y,p=z0.bind(null,Kt,y),y.dispatch=p,y=Oy(!1),A=jy.bind(null,Kt,!1,y.queue),y=ei(),v={state:c,dispatch:null,action:l,pending:null},y.queue=v,p=Tw.bind(null,Kt,v,A,p),v.dispatch=p,y.memoizedState=l,[c,p,!1]}function T0(l){var c=en();return C0(c,ye,l)}function C0(l,c,p){if(c=Ly(l,c,S0)[0],l=Qp(cs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=Jh(c)}catch(O){throw O===Yh?qp:O}else y=c;c=en();var v=c.queue,A=v.dispatch;return p!==c.memoizedState&&(Kt.flags|=2048,Mu(9,Zp(),Cw.bind(null,v,p),null)),[y,A,l]}function Cw(l,c){l.action=c}function R0(l){var c=en(),p=ye;if(p!==null)return C0(c,p,l);en(),c=c.memoizedState,p=en();var y=p.queue.dispatch;return p.memoizedState=l,[c,y,!1]}function Mu(l,c,p,y){return l={tag:l,create:p,deps:y,inst:c,next:null},c=Kt.updateQueue,c===null&&(c=My(),Kt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,c.lastEffect=l),l}function Zp(){return{destroy:void 0,resource:void 0}}function _0(){return en().memoizedState}function Jp(l,c,p,y){var v=ei();y=y===void 0?null:y,Kt.flags|=l,v.memoizedState=Mu(1|c,Zp(),p,y)}function td(l,c,p,y){var v=en();y=y===void 0?null:y;var A=v.memoizedState.inst;ye!==null&&y!==null&&Cy(y,ye.memoizedState.deps)?v.memoizedState=Mu(c,A,p,y):(Kt.flags|=l,v.memoizedState=Mu(1|c,A,p,y))}function k0(l,c){Jp(8390656,8,l,c)}function D0(l,c){td(2048,8,l,c)}function M0(l,c){return td(4,2,l,c)}function P0(l,c){return td(4,4,l,c)}function L0(l,c){if(typeof c=="function"){l=l();var p=c(l);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function $0(l,c,p){p=p!=null?p.concat([l]):null,td(4,4,L0.bind(null,c,l),p)}function By(){}function O0(l,c){var p=en();c=c===void 0?null:c;var y=p.memoizedState;return c!==null&&Cy(c,y[1])?y[0]:(p.memoizedState=[l,c],l)}function I0(l,c){var p=en();c=c===void 0?null:c;var y=p.memoizedState;if(c!==null&&Cy(c,y[1]))return y[0];if(y=l(),Fo){T(!0);try{l()}finally{T(!1)}}return p.memoizedState=[y,c],y}function Ny(l,c,p){return p===void 0||(da&1073741824)!==0?l.memoizedState=c:(l.memoizedState=p,l=Fv(),Kt.lanes|=l,xa|=l,p)}function B0(l,c,p,y){return di(p,c)?p:_u.current!==null?(l=Ny(l,p,y),di(l,c)||(fn=!0),l):(da&42)===0?(fn=!0,l.memoizedState=p):(l=Fv(),Kt.lanes|=l,xa|=l,c)}function N0(l,c,p,y,v){var A=Z.p;Z.p=A!==0&&8>A?A:8;var O=Q.T,U={};Q.T=U,jy(l,!1,c,p);try{var W=v(),st=Q.S;if(st!==null&&st(U,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var yt=Aw(W,y);ed(l,c,yt,yi(l))}else ed(l,c,y,yi(l))}catch(xt){ed(l,c,{then:function(){},status:"rejected",reason:xt},yi())}finally{Z.p=A,Q.T=O}}function Rw(){}function Fy(l,c,p,y){if(l.tag!==5)throw Error(i(476));var v=F0(l).queue;N0(l,v,c,it,p===null?Rw:function(){return V0(l),p(y)})}function F0(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:it},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:p},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function V0(l){var c=F0(l).next.queue;ed(l,c,{},yi())}function Vy(){return $n(vd)}function j0(){return en().memoizedState}function U0(){return en().memoizedState}function _w(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var p=yi();l=ca(p);var y=ha(c,l,p);y!==null&&(bi(y,c,p),Xh(y,c,p)),c={cache:gy()},l.payload=c;return}c=c.return}}function kw(l,c,p){var y=yi();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},tm(l)?H0(c,p):(p=ay(l,c,p,y),p!==null&&(bi(p,l,y),q0(p,c,y)))}function z0(l,c,p){var y=yi();ed(l,c,p,y)}function ed(l,c,p,y){var v={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(tm(l))H0(c,v);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var O=c.lastRenderedState,U=A(O,p);if(v.hasEagerState=!0,v.eagerState=U,di(U,O))return Bp(l,c,v,0),ke===null&&Ip(),!1}catch{}finally{}if(p=ay(l,c,v,y),p!==null)return bi(p,l,y),q0(p,c,y),!0}return!1}function jy(l,c,p,y){if(y={lane:2,revertLane:x1(),action:y,hasEagerState:!1,eagerState:null,next:null},tm(l)){if(c)throw Error(i(479))}else c=ay(l,p,y,2),c!==null&&bi(c,l,2)}function tm(l){var c=l.alternate;return l===Kt||c!==null&&c===Kt}function H0(l,c){ku=Kp=!0;var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}function q0(l,c,p){if((p&4194048)!==0){var y=c.lanes;y&=l.pendingLanes,p|=y,c.lanes=p,Zb(l,p)}}var em={readContext:$n,use:Wp,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},G0={readContext:$n,use:Wp,useCallback:function(l,c){return ei().memoizedState=[l,c===void 0?null:c],l},useContext:$n,useEffect:k0,useImperativeHandle:function(l,c,p){p=p!=null?p.concat([l]):null,Jp(4194308,4,L0.bind(null,c,l),p)},useLayoutEffect:function(l,c){return Jp(4194308,4,l,c)},useInsertionEffect:function(l,c){Jp(4,2,l,c)},useMemo:function(l,c){var p=ei();c=c===void 0?null:c;var y=l();if(Fo){T(!0);try{l()}finally{T(!1)}}return p.memoizedState=[y,c],y},useReducer:function(l,c,p){var y=ei();if(p!==void 0){var v=p(c);if(Fo){T(!0);try{p(c)}finally{T(!1)}}}else v=c;return y.memoizedState=y.baseState=v,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:v},y.queue=l,l=l.dispatch=kw.bind(null,Kt,l),[y.memoizedState,l]},useRef:function(l){var c=ei();return l={current:l},c.memoizedState=l},useState:function(l){l=Oy(l);var c=l.queue,p=z0.bind(null,Kt,c);return c.dispatch=p,[l.memoizedState,p]},useDebugValue:By,useDeferredValue:function(l,c){var p=ei();return Ny(p,l,c)},useTransition:function(){var l=Oy(!1);return l=N0.bind(null,Kt,l.queue,!0,!1),ei().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,p){var y=Kt,v=ei();if(oe){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),ke===null)throw Error(i(349));(ee&124)!==0||f0(y,c,p)}v.memoizedState=p;var A={value:p,getSnapshot:c};return v.queue=A,k0(m0.bind(null,y,A,l),[l]),y.flags|=2048,Mu(9,Zp(),p0.bind(null,y,A,p,c),null),p},useId:function(){var l=ei(),c=ke.identifierPrefix;if(oe){var p=os,y=as;p=(y&~(1<<32-C(y)-1)).toString(32)+p,c=""+c+"R"+p,p=Xp++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=Sw++,c=""+c+"r"+p.toString(32)+"";return l.memoizedState=c},useHostTransitionStatus:Vy,useFormState:w0,useActionState:w0,useOptimistic:function(l){var c=ei();c.memoizedState=c.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=jy.bind(null,Kt,!0,p),p.dispatch=c,[l,c]},useMemoCache:Py,useCacheRefresh:function(){return ei().memoizedState=_w.bind(null,Kt)}},Y0={readContext:$n,use:Wp,useCallback:O0,useContext:$n,useEffect:D0,useImperativeHandle:$0,useInsertionEffect:M0,useLayoutEffect:P0,useMemo:I0,useReducer:Qp,useRef:_0,useState:function(){return Qp(cs)},useDebugValue:By,useDeferredValue:function(l,c){var p=en();return B0(p,ye.memoizedState,l,c)},useTransition:function(){var l=Qp(cs)[0],c=en().memoizedState;return[typeof l=="boolean"?l:Jh(l),c]},useSyncExternalStore:d0,useId:j0,useHostTransitionStatus:Vy,useFormState:T0,useActionState:T0,useOptimistic:function(l,c){var p=en();return b0(p,ye,l,c)},useMemoCache:Py,useCacheRefresh:U0},Dw={readContext:$n,use:Wp,useCallback:O0,useContext:$n,useEffect:D0,useImperativeHandle:$0,useInsertionEffect:M0,useLayoutEffect:P0,useMemo:I0,useReducer:$y,useRef:_0,useState:function(){return $y(cs)},useDebugValue:By,useDeferredValue:function(l,c){var p=en();return ye===null?Ny(p,l,c):B0(p,ye.memoizedState,l,c)},useTransition:function(){var l=$y(cs)[0],c=en().memoizedState;return[typeof l=="boolean"?l:Jh(l),c]},useSyncExternalStore:d0,useId:j0,useHostTransitionStatus:Vy,useFormState:R0,useActionState:R0,useOptimistic:function(l,c){var p=en();return ye!==null?b0(p,ye,l,c):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:Py,useCacheRefresh:U0},Pu=null,nd=0;function nm(l){var c=nd;return nd+=1,Pu===null&&(Pu=[]),r0(Pu,l,c)}function rd(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function im(l,c){throw c.$$typeof===g?Error(i(525)):(l=Object.prototype.toString.call(c),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function K0(l){var c=l._init;return c(l._payload)}function X0(l){function c(nt,tt){if(l){var rt=nt.deletions;rt===null?(nt.deletions=[tt],nt.flags|=16):rt.push(tt)}}function p(nt,tt){if(!l)return null;for(;tt!==null;)c(nt,tt),tt=tt.sibling;return null}function y(nt){for(var tt=new Map;nt!==null;)nt.key!==null?tt.set(nt.key,nt):tt.set(nt.index,nt),nt=nt.sibling;return tt}function v(nt,tt){return nt=ss(nt,tt),nt.index=0,nt.sibling=null,nt}function A(nt,tt,rt){return nt.index=rt,l?(rt=nt.alternate,rt!==null?(rt=rt.index,rt<tt?(nt.flags|=67108866,tt):rt):(nt.flags|=67108866,tt)):(nt.flags|=1048576,tt)}function O(nt){return l&&nt.alternate===null&&(nt.flags|=67108866),nt}function U(nt,tt,rt,bt){return tt===null||tt.tag!==6?(tt=ly(rt,nt.mode,bt),tt.return=nt,tt):(tt=v(tt,rt),tt.return=nt,tt)}function W(nt,tt,rt,bt){var Dt=rt.type;return Dt===E?yt(nt,tt,rt.props.children,bt,rt.key):tt!==null&&(tt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===K&&K0(Dt)===tt.type)?(tt=v(tt,rt.props),rd(tt,rt),tt.return=nt,tt):(tt=Fp(rt.type,rt.key,rt.props,null,nt.mode,bt),rd(tt,rt),tt.return=nt,tt)}function st(nt,tt,rt,bt){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==rt.containerInfo||tt.stateNode.implementation!==rt.implementation?(tt=uy(rt,nt.mode,bt),tt.return=nt,tt):(tt=v(tt,rt.children||[]),tt.return=nt,tt)}function yt(nt,tt,rt,bt,Dt){return tt===null||tt.tag!==7?(tt=Mo(rt,nt.mode,bt,Dt),tt.return=nt,tt):(tt=v(tt,rt),tt.return=nt,tt)}function xt(nt,tt,rt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=ly(""+tt,nt.mode,rt),tt.return=nt,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return rt=Fp(tt.type,tt.key,tt.props,null,nt.mode,rt),rd(rt,tt),rt.return=nt,rt;case x:return tt=uy(tt,nt.mode,rt),tt.return=nt,tt;case K:var bt=tt._init;return tt=bt(tt._payload),xt(nt,tt,rt)}if(dt(tt)||ut(tt))return tt=Mo(tt,nt.mode,rt,null),tt.return=nt,tt;if(typeof tt.then=="function")return xt(nt,nm(tt),rt);if(tt.$$typeof===P)return xt(nt,zp(nt,tt),rt);im(nt,tt)}return null}function ht(nt,tt,rt,bt){var Dt=tt!==null?tt.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Dt!==null?null:U(nt,tt,""+rt,bt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case b:return rt.key===Dt?W(nt,tt,rt,bt):null;case x:return rt.key===Dt?st(nt,tt,rt,bt):null;case K:return Dt=rt._init,rt=Dt(rt._payload),ht(nt,tt,rt,bt)}if(dt(rt)||ut(rt))return Dt!==null?null:yt(nt,tt,rt,bt,null);if(typeof rt.then=="function")return ht(nt,tt,nm(rt),bt);if(rt.$$typeof===P)return ht(nt,tt,zp(nt,rt),bt);im(nt,rt)}return null}function ft(nt,tt,rt,bt,Dt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return nt=nt.get(rt)||null,U(tt,nt,""+bt,Dt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case b:return nt=nt.get(bt.key===null?rt:bt.key)||null,W(tt,nt,bt,Dt);case x:return nt=nt.get(bt.key===null?rt:bt.key)||null,st(tt,nt,bt,Dt);case K:var Wt=bt._init;return bt=Wt(bt._payload),ft(nt,tt,rt,bt,Dt)}if(dt(bt)||ut(bt))return nt=nt.get(rt)||null,yt(tt,nt,bt,Dt,null);if(typeof bt.then=="function")return ft(nt,tt,rt,nm(bt),Dt);if(bt.$$typeof===P)return ft(nt,tt,rt,zp(tt,bt),Dt);im(tt,bt)}return null}function Vt(nt,tt,rt,bt){for(var Dt=null,Wt=null,Pt=tt,Nt=tt=0,mn=null;Pt!==null&&Nt<rt.length;Nt++){Pt.index>Nt?(mn=Pt,Pt=null):mn=Pt.sibling;var se=ht(nt,Pt,rt[Nt],bt);if(se===null){Pt===null&&(Pt=mn);break}l&&Pt&&se.alternate===null&&c(nt,Pt),tt=A(se,tt,Nt),Wt===null?Dt=se:Wt.sibling=se,Wt=se,Pt=mn}if(Nt===rt.length)return p(nt,Pt),oe&&Lo(nt,Nt),Dt;if(Pt===null){for(;Nt<rt.length;Nt++)Pt=xt(nt,rt[Nt],bt),Pt!==null&&(tt=A(Pt,tt,Nt),Wt===null?Dt=Pt:Wt.sibling=Pt,Wt=Pt);return oe&&Lo(nt,Nt),Dt}for(Pt=y(Pt);Nt<rt.length;Nt++)mn=ft(Pt,nt,Nt,rt[Nt],bt),mn!==null&&(l&&mn.alternate!==null&&Pt.delete(mn.key===null?Nt:mn.key),tt=A(mn,tt,Nt),Wt===null?Dt=mn:Wt.sibling=mn,Wt=mn);return l&&Pt.forEach(function(_a){return c(nt,_a)}),oe&&Lo(nt,Nt),Dt}function It(nt,tt,rt,bt){if(rt==null)throw Error(i(151));for(var Dt=null,Wt=null,Pt=tt,Nt=tt=0,mn=null,se=rt.next();Pt!==null&&!se.done;Nt++,se=rt.next()){Pt.index>Nt?(mn=Pt,Pt=null):mn=Pt.sibling;var _a=ht(nt,Pt,se.value,bt);if(_a===null){Pt===null&&(Pt=mn);break}l&&Pt&&_a.alternate===null&&c(nt,Pt),tt=A(_a,tt,Nt),Wt===null?Dt=_a:Wt.sibling=_a,Wt=_a,Pt=mn}if(se.done)return p(nt,Pt),oe&&Lo(nt,Nt),Dt;if(Pt===null){for(;!se.done;Nt++,se=rt.next())se=xt(nt,se.value,bt),se!==null&&(tt=A(se,tt,Nt),Wt===null?Dt=se:Wt.sibling=se,Wt=se);return oe&&Lo(nt,Nt),Dt}for(Pt=y(Pt);!se.done;Nt++,se=rt.next())se=ft(Pt,nt,Nt,se.value,bt),se!==null&&(l&&se.alternate!==null&&Pt.delete(se.key===null?Nt:se.key),tt=A(se,tt,Nt),Wt===null?Dt=se:Wt.sibling=se,Wt=se);return l&&Pt.forEach(function(MT){return c(nt,MT)}),oe&&Lo(nt,Nt),Dt}function xe(nt,tt,rt,bt){if(typeof rt=="object"&&rt!==null&&rt.type===E&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case b:t:{for(var Dt=rt.key;tt!==null;){if(tt.key===Dt){if(Dt=rt.type,Dt===E){if(tt.tag===7){p(nt,tt.sibling),bt=v(tt,rt.props.children),bt.return=nt,nt=bt;break t}}else if(tt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===K&&K0(Dt)===tt.type){p(nt,tt.sibling),bt=v(tt,rt.props),rd(bt,rt),bt.return=nt,nt=bt;break t}p(nt,tt);break}else c(nt,tt);tt=tt.sibling}rt.type===E?(bt=Mo(rt.props.children,nt.mode,bt,rt.key),bt.return=nt,nt=bt):(bt=Fp(rt.type,rt.key,rt.props,null,nt.mode,bt),rd(bt,rt),bt.return=nt,nt=bt)}return O(nt);case x:t:{for(Dt=rt.key;tt!==null;){if(tt.key===Dt)if(tt.tag===4&&tt.stateNode.containerInfo===rt.containerInfo&&tt.stateNode.implementation===rt.implementation){p(nt,tt.sibling),bt=v(tt,rt.children||[]),bt.return=nt,nt=bt;break t}else{p(nt,tt);break}else c(nt,tt);tt=tt.sibling}bt=uy(rt,nt.mode,bt),bt.return=nt,nt=bt}return O(nt);case K:return Dt=rt._init,rt=Dt(rt._payload),xe(nt,tt,rt,bt)}if(dt(rt))return Vt(nt,tt,rt,bt);if(ut(rt)){if(Dt=ut(rt),typeof Dt!="function")throw Error(i(150));return rt=Dt.call(rt),It(nt,tt,rt,bt)}if(typeof rt.then=="function")return xe(nt,tt,nm(rt),bt);if(rt.$$typeof===P)return xe(nt,tt,zp(nt,rt),bt);im(nt,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,tt!==null&&tt.tag===6?(p(nt,tt.sibling),bt=v(tt,rt),bt.return=nt,nt=bt):(p(nt,tt),bt=ly(rt,nt.mode,bt),bt.return=nt,nt=bt),O(nt)):p(nt,tt)}return function(nt,tt,rt,bt){try{nd=0;var Dt=xe(nt,tt,rt,bt);return Pu=null,Dt}catch(Pt){if(Pt===Yh||Pt===qp)throw Pt;var Wt=fi(29,Pt,null,nt.mode);return Wt.lanes=bt,Wt.return=nt,Wt}finally{}}}var Lu=X0(!0),W0=X0(!1),Gi=at(null),_r=null;function fa(l){var c=l.alternate;z(an,an.current&1),z(Gi,l),_r===null&&(c===null||_u.current!==null||c.memoizedState!==null)&&(_r=l)}function Q0(l){if(l.tag===22){if(z(an,an.current),z(Gi,l),_r===null){var c=l.alternate;c!==null&&c.memoizedState!==null&&(_r=l)}}else pa()}function pa(){z(an,an.current),z(Gi,Gi.current)}function hs(l){pt(Gi),_r===l&&(_r=null),pt(an)}var an=at(0);function rm(l){for(var c=l;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||M1(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Uy(l,c,p,y){c=l.memoizedState,p=p(y,c),p=p==null?c:f({},c,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var zy={enqueueSetState:function(l,c,p){l=l._reactInternals;var y=yi(),v=ca(y);v.payload=c,p!=null&&(v.callback=p),c=ha(l,v,y),c!==null&&(bi(c,l,y),Xh(c,l,y))},enqueueReplaceState:function(l,c,p){l=l._reactInternals;var y=yi(),v=ca(y);v.tag=1,v.payload=c,p!=null&&(v.callback=p),c=ha(l,v,y),c!==null&&(bi(c,l,y),Xh(c,l,y))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var p=yi(),y=ca(p);y.tag=2,c!=null&&(y.callback=c),c=ha(l,y,p),c!==null&&(bi(c,l,p),Xh(c,l,p))}};function Z0(l,c,p,y,v,A,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,A,O):c.prototype&&c.prototype.isPureReactComponent?!Fh(p,y)||!Fh(v,A):!0}function J0(l,c,p,y){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==l&&zy.enqueueReplaceState(c,c.state,null)}function Vo(l,c){var p=c;if("ref"in c){p={};for(var y in c)y!=="ref"&&(p[y]=c[y])}if(l=l.defaultProps){p===c&&(p=f({},p));for(var v in l)p[v]===void 0&&(p[v]=l[v])}return p}var sm=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function tv(l){sm(l)}function ev(l){console.error(l)}function nv(l){sm(l)}function am(l,c){try{var p=l.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function iv(l,c,p){try{var y=l.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Hy(l,c,p){return p=ca(p),p.tag=3,p.payload={element:null},p.callback=function(){am(l,c)},p}function rv(l){return l=ca(l),l.tag=3,l}function sv(l,c,p,y){var v=p.type.getDerivedStateFromError;if(typeof v=="function"){var A=y.value;l.payload=function(){return v(A)},l.callback=function(){iv(c,p,y)}}var O=p.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){iv(c,p,y),typeof v!="function"&&(va===null?va=new Set([this]):va.add(this));var U=y.stack;this.componentDidCatch(y.value,{componentStack:U!==null?U:""})})}function Mw(l,c,p,y,v){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=p.alternate,c!==null&&Hh(c,p,v,!0),p=Gi.current,p!==null){switch(p.tag){case 13:return _r===null?p1():p.alternate===null&&je===0&&(je=3),p.flags&=-257,p.flags|=65536,p.lanes=v,y===xy?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([y]):c.add(y),g1(l,y,v)),!1;case 22:return p.flags|=65536,y===xy?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([y]):p.add(y)),g1(l,y,v)),!1}throw Error(i(435,p.tag))}return g1(l,y,v),p1(),!1}if(oe)return c=Gi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,y!==dy&&(l=Error(i(422),{cause:y}),zh(Ui(l,p)))):(y!==dy&&(c=Error(i(423),{cause:y}),zh(Ui(c,p))),l=l.current.alternate,l.flags|=65536,v&=-v,l.lanes|=v,y=Ui(y,p),v=Hy(l.stateNode,y,v),Ay(l,v),je!==4&&(je=2)),!1;var A=Error(i(520),{cause:y});if(A=Ui(A,p),hd===null?hd=[A]:hd.push(A),je!==4&&(je=2),c===null)return!0;y=Ui(y,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,l=v&-v,p.lanes|=l,l=Hy(p.stateNode,y,l),Ay(p,l),!1;case 1:if(c=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(va===null||!va.has(A))))return p.flags|=65536,v&=-v,p.lanes|=v,v=rv(v),sv(v,l,p,y),Ay(p,v),!1}p=p.return}while(p!==null);return!1}var av=Error(i(461)),fn=!1;function Sn(l,c,p,y){c.child=l===null?W0(c,null,p,y):Lu(c,l.child,p,y)}function ov(l,c,p,y,v){p=p.render;var A=c.ref;if("ref"in y){var O={};for(var U in y)U!=="ref"&&(O[U]=y[U])}else O=y;return Bo(c),y=Ry(l,c,p,O,A,v),U=_y(),l!==null&&!fn?(ky(l,c,v),ds(l,c,v)):(oe&&U&&cy(c),c.flags|=1,Sn(l,c,y,v),c.child)}function lv(l,c,p,y,v){if(l===null){var A=p.type;return typeof A=="function"&&!oy(A)&&A.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=A,uv(l,c,A,y,v)):(l=Fp(p.type,null,y,c,c.mode,v),l.ref=c.ref,l.return=c,c.child=l)}if(A=l.child,!Zy(l,v)){var O=A.memoizedProps;if(p=p.compare,p=p!==null?p:Fh,p(O,y)&&l.ref===c.ref)return ds(l,c,v)}return c.flags|=1,l=ss(A,y),l.ref=c.ref,l.return=c,c.child=l}function uv(l,c,p,y,v){if(l!==null){var A=l.memoizedProps;if(Fh(A,y)&&l.ref===c.ref)if(fn=!1,c.pendingProps=y=A,Zy(l,v))(l.flags&131072)!==0&&(fn=!0);else return c.lanes=l.lanes,ds(l,c,v)}return qy(l,c,p,y,v)}function cv(l,c,p){var y=c.pendingProps,v=y.children,A=l!==null?l.memoizedState:null;if(y.mode==="hidden"){if((c.flags&128)!==0){if(y=A!==null?A.baseLanes|p:p,l!==null){for(v=c.child=l.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;c.childLanes=A&~y}else c.childLanes=0,c.child=null;return hv(l,c,y,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&Hp(c,A!==null?A.cachePool:null),A!==null?u0(c,A):wy(),Q0(c);else return c.lanes=c.childLanes=536870912,hv(l,c,A!==null?A.baseLanes|p:p,p)}else A!==null?(Hp(c,A.cachePool),u0(c,A),pa(),c.memoizedState=null):(l!==null&&Hp(c,null),wy(),pa());return Sn(l,c,v,p),c.child}function hv(l,c,p,y){var v=by();return v=v===null?null:{parent:sn._currentValue,pool:v},c.memoizedState={baseLanes:p,cachePool:v},l!==null&&Hp(c,null),wy(),Q0(c),l!==null&&Hh(l,c,y,!0),null}function om(l,c){var p=c.ref;if(p===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(l===null||l.ref!==p)&&(c.flags|=4194816)}}function qy(l,c,p,y,v){return Bo(c),p=Ry(l,c,p,y,void 0,v),y=_y(),l!==null&&!fn?(ky(l,c,v),ds(l,c,v)):(oe&&y&&cy(c),c.flags|=1,Sn(l,c,p,v),c.child)}function dv(l,c,p,y,v,A){return Bo(c),c.updateQueue=null,p=h0(c,y,p,v),c0(l),y=_y(),l!==null&&!fn?(ky(l,c,A),ds(l,c,A)):(oe&&y&&cy(c),c.flags|=1,Sn(l,c,p,A),c.child)}function fv(l,c,p,y,v){if(Bo(c),c.stateNode===null){var A=Su,O=p.contextType;typeof O=="object"&&O!==null&&(A=$n(O)),A=new p(y,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=zy,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=y,A.state=c.memoizedState,A.refs={},vy(c),O=p.contextType,A.context=typeof O=="object"&&O!==null?$n(O):Su,A.state=c.memoizedState,O=p.getDerivedStateFromProps,typeof O=="function"&&(Uy(c,p,O,y),A.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(O=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),O!==A.state&&zy.enqueueReplaceState(A,A.state,null),Qh(c,y,A,v),Wh(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(l===null){A=c.stateNode;var U=c.memoizedProps,W=Vo(p,U);A.props=W;var st=A.context,yt=p.contextType;O=Su,typeof yt=="object"&&yt!==null&&(O=$n(yt));var xt=p.getDerivedStateFromProps;yt=typeof xt=="function"||typeof A.getSnapshotBeforeUpdate=="function",U=c.pendingProps!==U,yt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U||st!==O)&&J0(c,A,y,O),ua=!1;var ht=c.memoizedState;A.state=ht,Qh(c,y,A,v),Wh(),st=c.memoizedState,U||ht!==st||ua?(typeof xt=="function"&&(Uy(c,p,xt,y),st=c.memoizedState),(W=ua||Z0(c,p,W,y,ht,st,O))?(yt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=st),A.props=y,A.state=st,A.context=O,y=W):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{A=c.stateNode,Ey(l,c),O=c.memoizedProps,yt=Vo(p,O),A.props=yt,xt=c.pendingProps,ht=A.context,st=p.contextType,W=Su,typeof st=="object"&&st!==null&&(W=$n(st)),U=p.getDerivedStateFromProps,(st=typeof U=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==xt||ht!==W)&&J0(c,A,y,W),ua=!1,ht=c.memoizedState,A.state=ht,Qh(c,y,A,v),Wh();var ft=c.memoizedState;O!==xt||ht!==ft||ua||l!==null&&l.dependencies!==null&&Up(l.dependencies)?(typeof U=="function"&&(Uy(c,p,U,y),ft=c.memoizedState),(yt=ua||Z0(c,p,yt,y,ht,ft,W)||l!==null&&l.dependencies!==null&&Up(l.dependencies))?(st||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(y,ft,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(y,ft,W)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===l.memoizedProps&&ht===l.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&ht===l.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=ft),A.props=y,A.state=ft,A.context=W,y=yt):(typeof A.componentDidUpdate!="function"||O===l.memoizedProps&&ht===l.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&ht===l.memoizedState||(c.flags|=1024),y=!1)}return A=y,om(l,c),y=(c.flags&128)!==0,A||y?(A=c.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,l!==null&&y?(c.child=Lu(c,l.child,null,v),c.child=Lu(c,null,p,v)):Sn(l,c,p,v),c.memoizedState=A.state,l=c.child):l=ds(l,c,v),l}function pv(l,c,p,y){return Uh(),c.flags|=256,Sn(l,c,p,y),c.child}var Gy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yy(l){return{baseLanes:l,cachePool:e0()}}function Ky(l,c,p){return l=l!==null?l.childLanes&~p:0,c&&(l|=Yi),l}function mv(l,c,p){var y=c.pendingProps,v=!1,A=(c.flags&128)!==0,O;if((O=A)||(O=l!==null&&l.memoizedState===null?!1:(an.current&2)!==0),O&&(v=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,l===null){if(oe){if(v?fa(c):pa(),oe){var U=Ve,W;if(W=U){t:{for(W=U,U=Rr;W.nodeType!==8;){if(!U){U=null;break t}if(W=cr(W.nextSibling),W===null){U=null;break t}}U=W}U!==null?(c.memoizedState={dehydrated:U,treeContext:Po!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},W=fi(18,null,null,0),W.stateNode=U,W.return=c,c.child=W,Hn=c,Ve=null,W=!0):W=!1}W||Oo(c)}if(U=c.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return M1(U)?c.lanes=32:c.lanes=536870912,null;hs(c)}return U=y.children,y=y.fallback,v?(pa(),v=c.mode,U=lm({mode:"hidden",children:U},v),y=Mo(y,v,p,null),U.return=c,y.return=c,U.sibling=y,c.child=U,v=c.child,v.memoizedState=Yy(p),v.childLanes=Ky(l,O,p),c.memoizedState=Gy,y):(fa(c),Xy(c,U))}if(W=l.memoizedState,W!==null&&(U=W.dehydrated,U!==null)){if(A)c.flags&256?(fa(c),c.flags&=-257,c=Wy(l,c,p)):c.memoizedState!==null?(pa(),c.child=l.child,c.flags|=128,c=null):(pa(),v=y.fallback,U=c.mode,y=lm({mode:"visible",children:y.children},U),v=Mo(v,U,p,null),v.flags|=2,y.return=c,v.return=c,y.sibling=v,c.child=y,Lu(c,l.child,null,p),y=c.child,y.memoizedState=Yy(p),y.childLanes=Ky(l,O,p),c.memoizedState=Gy,c=v);else if(fa(c),M1(U)){if(O=U.nextSibling&&U.nextSibling.dataset,O)var st=O.dgst;O=st,y=Error(i(419)),y.stack="",y.digest=O,zh({value:y,source:null,stack:null}),c=Wy(l,c,p)}else if(fn||Hh(l,c,p,!1),O=(p&l.childLanes)!==0,fn||O){if(O=ke,O!==null&&(y=p&-p,y=(y&42)!==0?1:Pg(y),y=(y&(O.suspendedLanes|p))!==0?0:y,y!==0&&y!==W.retryLane))throw W.retryLane=y,Au(l,y),bi(O,l,y),av;U.data==="$?"||p1(),c=Wy(l,c,p)}else U.data==="$?"?(c.flags|=192,c.child=l.child,c=null):(l=W.treeContext,Ve=cr(U.nextSibling),Hn=c,oe=!0,$o=null,Rr=!1,l!==null&&(Hi[qi++]=as,Hi[qi++]=os,Hi[qi++]=Po,as=l.id,os=l.overflow,Po=c),c=Xy(c,y.children),c.flags|=4096);return c}return v?(pa(),v=y.fallback,U=c.mode,W=l.child,st=W.sibling,y=ss(W,{mode:"hidden",children:y.children}),y.subtreeFlags=W.subtreeFlags&65011712,st!==null?v=ss(st,v):(v=Mo(v,U,p,null),v.flags|=2),v.return=c,y.return=c,y.sibling=v,c.child=y,y=v,v=c.child,U=l.child.memoizedState,U===null?U=Yy(p):(W=U.cachePool,W!==null?(st=sn._currentValue,W=W.parent!==st?{parent:st,pool:st}:W):W=e0(),U={baseLanes:U.baseLanes|p,cachePool:W}),v.memoizedState=U,v.childLanes=Ky(l,O,p),c.memoizedState=Gy,y):(fa(c),p=l.child,l=p.sibling,p=ss(p,{mode:"visible",children:y.children}),p.return=c,p.sibling=null,l!==null&&(O=c.deletions,O===null?(c.deletions=[l],c.flags|=16):O.push(l)),c.child=p,c.memoizedState=null,p)}function Xy(l,c){return c=lm({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function lm(l,c){return l=fi(22,l,null,c),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Wy(l,c,p){return Lu(c,l.child,null,p),l=Xy(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function gv(l,c,p){l.lanes|=c;var y=l.alternate;y!==null&&(y.lanes|=c),py(l.return,c,p)}function Qy(l,c,p,y,v){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:v}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=p,A.tailMode=v)}function yv(l,c,p){var y=c.pendingProps,v=y.revealOrder,A=y.tail;if(Sn(l,c,y.children,p),y=an.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)t:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&gv(l,p,c);else if(l.tag===19)gv(l,p,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break t;for(;l.sibling===null;){if(l.return===null||l.return===c)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}switch(z(an,y),v){case"forwards":for(p=c.child,v=null;p!==null;)l=p.alternate,l!==null&&rm(l)===null&&(v=p),p=p.sibling;p=v,p===null?(v=c.child,c.child=null):(v=p.sibling,p.sibling=null),Qy(c,!1,v,p,A);break;case"backwards":for(p=null,v=c.child,c.child=null;v!==null;){if(l=v.alternate,l!==null&&rm(l)===null){c.child=v;break}l=v.sibling,v.sibling=p,p=v,v=l}Qy(c,!0,p,null,A);break;case"together":Qy(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ds(l,c,p){if(l!==null&&(c.dependencies=l.dependencies),xa|=c.lanes,(p&c.childLanes)===0)if(l!==null){if(Hh(l,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(i(153));if(c.child!==null){for(l=c.child,p=ss(l,l.pendingProps),c.child=p,p.return=c;l.sibling!==null;)l=l.sibling,p=p.sibling=ss(l,l.pendingProps),p.return=c;p.sibling=null}return c.child}function Zy(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&Up(l)))}function Pw(l,c,p){switch(c.tag){case 3:Ot(c,c.stateNode.containerInfo),la(c,sn,l.memoizedState.cache),Uh();break;case 27:case 5:jt(c);break;case 4:Ot(c,c.stateNode.containerInfo);break;case 10:la(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(fa(c),c.flags|=128,null):(p&c.child.childLanes)!==0?mv(l,c,p):(fa(c),l=ds(l,c,p),l!==null?l.sibling:null);fa(c);break;case 19:var v=(l.flags&128)!==0;if(y=(p&c.childLanes)!==0,y||(Hh(l,c,p,!1),y=(p&c.childLanes)!==0),v){if(y)return yv(l,c,p);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),z(an,an.current),y)break;return null;case 22:case 23:return c.lanes=0,cv(l,c,p);case 24:la(c,sn,l.memoizedState.cache)}return ds(l,c,p)}function bv(l,c,p){if(l!==null)if(l.memoizedProps!==c.pendingProps)fn=!0;else{if(!Zy(l,p)&&(c.flags&128)===0)return fn=!1,Pw(l,c,p);fn=(l.flags&131072)!==0}else fn=!1,oe&&(c.flags&1048576)!==0&&Kx(c,jp,c.index);switch(c.lanes=0,c.tag){case 16:t:{l=c.pendingProps;var y=c.elementType,v=y._init;if(y=v(y._payload),c.type=y,typeof y=="function")oy(y)?(l=Vo(y,l),c.tag=1,c=fv(null,c,y,l,p)):(c.tag=0,c=qy(null,c,y,l,p));else{if(y!=null){if(v=y.$$typeof,v===V){c.tag=11,c=ov(null,c,y,l,p);break t}else if(v===H){c.tag=14,c=lv(null,c,y,l,p);break t}}throw c=ot(y)||y,Error(i(306,c,""))}}return c;case 0:return qy(l,c,c.type,c.pendingProps,p);case 1:return y=c.type,v=Vo(y,c.pendingProps),fv(l,c,y,v,p);case 3:t:{if(Ot(c,c.stateNode.containerInfo),l===null)throw Error(i(387));y=c.pendingProps;var A=c.memoizedState;v=A.element,Ey(l,c),Qh(c,y,null,p);var O=c.memoizedState;if(y=O.cache,la(c,sn,y),y!==A.cache&&my(c,[sn],p,!0),Wh(),y=O.element,A.isDehydrated)if(A={element:y,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){c=pv(l,c,y,p);break t}else if(y!==v){v=Ui(Error(i(424)),c),zh(v),c=pv(l,c,y,p);break t}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Ve=cr(l.firstChild),Hn=c,oe=!0,$o=null,Rr=!0,p=W0(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Uh(),y===v){c=ds(l,c,p);break t}Sn(l,c,y,p)}c=c.child}return c;case 26:return om(l,c),l===null?(p=AE(c.type,null,c.pendingProps,null))?c.memoizedState=p:oe||(p=c.type,l=c.pendingProps,y=Am(wt.current).createElement(p),y[Ln]=c,y[Jn]=l,Tn(y,p,l),dn(y),c.stateNode=y):c.memoizedState=AE(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return jt(c),l===null&&oe&&(y=c.stateNode=xE(c.type,c.pendingProps,wt.current),Hn=c,Rr=!0,v=Ve,Sa(c.type)?(P1=v,Ve=cr(y.firstChild)):Ve=v),Sn(l,c,c.pendingProps.children,p),om(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&oe&&((v=y=Ve)&&(y=aT(y,c.type,c.pendingProps,Rr),y!==null?(c.stateNode=y,Hn=c,Ve=cr(y.firstChild),Rr=!1,v=!0):v=!1),v||Oo(c)),jt(c),v=c.type,A=c.pendingProps,O=l!==null?l.memoizedProps:null,y=A.children,_1(v,A)?y=null:O!==null&&_1(v,O)&&(c.flags|=32),c.memoizedState!==null&&(v=Ry(l,c,ww,null,null,p),vd._currentValue=v),om(l,c),Sn(l,c,y,p),c.child;case 6:return l===null&&oe&&((l=p=Ve)&&(p=oT(p,c.pendingProps,Rr),p!==null?(c.stateNode=p,Hn=c,Ve=null,l=!0):l=!1),l||Oo(c)),null;case 13:return mv(l,c,p);case 4:return Ot(c,c.stateNode.containerInfo),y=c.pendingProps,l===null?c.child=Lu(c,null,y,p):Sn(l,c,y,p),c.child;case 11:return ov(l,c,c.type,c.pendingProps,p);case 7:return Sn(l,c,c.pendingProps,p),c.child;case 8:return Sn(l,c,c.pendingProps.children,p),c.child;case 12:return Sn(l,c,c.pendingProps.children,p),c.child;case 10:return y=c.pendingProps,la(c,c.type,y.value),Sn(l,c,y.children,p),c.child;case 9:return v=c.type._context,y=c.pendingProps.children,Bo(c),v=$n(v),y=y(v),c.flags|=1,Sn(l,c,y,p),c.child;case 14:return lv(l,c,c.type,c.pendingProps,p);case 15:return uv(l,c,c.type,c.pendingProps,p);case 19:return yv(l,c,p);case 31:return y=c.pendingProps,p=c.mode,y={mode:y.mode,children:y.children},l===null?(p=lm(y,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=ss(l.child,y),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return cv(l,c,p);case 24:return Bo(c),y=$n(sn),l===null?(v=by(),v===null&&(v=ke,A=gy(),v.pooledCache=A,A.refCount++,A!==null&&(v.pooledCacheLanes|=p),v=A),c.memoizedState={parent:y,cache:v},vy(c),la(c,sn,v)):((l.lanes&p)!==0&&(Ey(l,c),Qh(c,null,null,p),Wh()),v=l.memoizedState,A=c.memoizedState,v.parent!==y?(v={parent:y,cache:y},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),la(c,sn,y)):(y=A.cache,la(c,sn,y),y!==v.cache&&my(c,[sn],p,!0))),Sn(l,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function fs(l){l.flags|=4}function xv(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!RE(c)){if(c=Gi.current,c!==null&&((ee&4194048)===ee?_r!==null:(ee&62914560)!==ee&&(ee&536870912)===0||c!==_r))throw Kh=xy,n0;l.flags|=8192}}function um(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?te():536870912,l.lanes|=c,Bu|=c)}function sd(l,c){if(!oe)switch(l.tailMode){case"hidden":c=l.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Be(l){var c=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(c)for(var v=l.child;v!==null;)p|=v.lanes|v.childLanes,y|=v.subtreeFlags&65011712,y|=v.flags&65011712,v.return=l,v=v.sibling;else for(v=l.child;v!==null;)p|=v.lanes|v.childLanes,y|=v.subtreeFlags,y|=v.flags,v.return=l,v=v.sibling;return l.subtreeFlags|=y,l.childLanes=p,c}function Lw(l,c,p){var y=c.pendingProps;switch(hy(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(c),null;case 1:return Be(c),null;case 3:return p=c.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),us(sn),Xt(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(jh(c)?fs(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Qx())),Be(c),null;case 26:return p=c.memoizedState,l===null?(fs(c),p!==null?(Be(c),xv(c,p)):(Be(c),c.flags&=-16777217)):p?p!==l.memoizedState?(fs(c),Be(c),xv(c,p)):(Be(c),c.flags&=-16777217):(l.memoizedProps!==y&&fs(c),Be(c),c.flags&=-16777217),null;case 27:ue(c),p=wt.current;var v=c.type;if(l!==null&&c.stateNode!=null)l.memoizedProps!==y&&fs(c);else{if(!y){if(c.stateNode===null)throw Error(i(166));return Be(c),null}l=St.current,jh(c)?Xx(c):(l=xE(v,y,p),c.stateNode=l,fs(c))}return Be(c),null;case 5:if(ue(c),p=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==y&&fs(c);else{if(!y){if(c.stateNode===null)throw Error(i(166));return Be(c),null}if(l=St.current,jh(c))Xx(c);else{switch(v=Am(wt.current),l){case 1:l=v.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=v.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=v.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=v.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=v.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof y.is=="string"?v.createElement("select",{is:y.is}):v.createElement("select"),y.multiple?l.multiple=!0:y.size&&(l.size=y.size);break;default:l=typeof y.is=="string"?v.createElement(p,{is:y.is}):v.createElement(p)}}l[Ln]=c,l[Jn]=y;t:for(v=c.child;v!==null;){if(v.tag===5||v.tag===6)l.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===c)break t;for(;v.sibling===null;){if(v.return===null||v.return===c)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}c.stateNode=l;t:switch(Tn(l,p,y),p){case"button":case"input":case"select":case"textarea":l=!!y.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&fs(c)}}return Be(c),c.flags&=-16777217,null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==y&&fs(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(i(166));if(l=wt.current,jh(c)){if(l=c.stateNode,p=c.memoizedProps,y=null,v=Hn,v!==null)switch(v.tag){case 27:case 5:y=v.memoizedProps}l[Ln]=c,l=!!(l.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||dE(l.nodeValue,p)),l||Oo(c)}else l=Am(l).createTextNode(y),l[Ln]=c,c.stateNode=l}return Be(c),null;case 13:if(y=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(v=jh(c),y!==null&&y.dehydrated!==null){if(l===null){if(!v)throw Error(i(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ln]=c}else Uh(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Be(c),v=!1}else v=Qx(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(hs(c),c):(hs(c),null)}if(hs(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=y!==null,l=l!==null&&l.memoizedState!==null,p){y=c.child,v=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(v=y.alternate.memoizedState.cachePool.pool);var A=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(A=y.memoizedState.cachePool.pool),A!==v&&(y.flags|=2048)}return p!==l&&p&&(c.child.flags|=8192),um(c,c.updateQueue),Be(c),null;case 4:return Xt(),l===null&&S1(c.stateNode.containerInfo),Be(c),null;case 10:return us(c.type),Be(c),null;case 19:if(pt(an),v=c.memoizedState,v===null)return Be(c),null;if(y=(c.flags&128)!==0,A=v.rendering,A===null)if(y)sd(v,!1);else{if(je!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(A=rm(l),A!==null){for(c.flags|=128,sd(v,!1),l=A.updateQueue,c.updateQueue=l,um(c,l),c.subtreeFlags=0,l=p,p=c.child;p!==null;)Yx(p,l),p=p.sibling;return z(an,an.current&1|2),c.child}l=l.sibling}v.tail!==null&&ge()>dm&&(c.flags|=128,y=!0,sd(v,!1),c.lanes=4194304)}else{if(!y)if(l=rm(A),l!==null){if(c.flags|=128,y=!0,l=l.updateQueue,c.updateQueue=l,um(c,l),sd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!oe)return Be(c),null}else 2*ge()-v.renderingStartTime>dm&&p!==536870912&&(c.flags|=128,y=!0,sd(v,!1),c.lanes=4194304);v.isBackwards?(A.sibling=c.child,c.child=A):(l=v.last,l!==null?l.sibling=A:c.child=A,v.last=A)}return v.tail!==null?(c=v.tail,v.rendering=c,v.tail=c.sibling,v.renderingStartTime=ge(),c.sibling=null,l=an.current,z(an,y?l&1|2:l&1),c):(Be(c),null);case 22:case 23:return hs(c),Ty(),y=c.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(p&536870912)!==0&&(c.flags&128)===0&&(Be(c),c.subtreeFlags&6&&(c.flags|=8192)):Be(c),p=c.updateQueue,p!==null&&um(c,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048),l!==null&&pt(No),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),us(sn),Be(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function $w(l,c){switch(hy(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return us(sn),Xt(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return ue(c),null;case 13:if(hs(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Uh()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return pt(an),null;case 4:return Xt(),null;case 10:return us(c.type),null;case 22:case 23:return hs(c),Ty(),l!==null&&pt(No),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return us(sn),null;case 25:return null;default:return null}}function vv(l,c){switch(hy(c),c.tag){case 3:us(sn),Xt();break;case 26:case 27:case 5:ue(c);break;case 4:Xt();break;case 13:hs(c);break;case 19:pt(an);break;case 10:us(c.type);break;case 22:case 23:hs(c),Ty(),l!==null&&pt(No);break;case 24:us(sn)}}function ad(l,c){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var v=y.next;p=v;do{if((p.tag&l)===l){y=void 0;var A=p.create,O=p.inst;y=A(),O.destroy=y}p=p.next}while(p!==v)}}catch(U){Te(c,c.return,U)}}function ma(l,c,p){try{var y=c.updateQueue,v=y!==null?y.lastEffect:null;if(v!==null){var A=v.next;y=A;do{if((y.tag&l)===l){var O=y.inst,U=O.destroy;if(U!==void 0){O.destroy=void 0,v=c;var W=p,st=U;try{st()}catch(yt){Te(v,W,yt)}}}y=y.next}while(y!==A)}}catch(yt){Te(c,c.return,yt)}}function Ev(l){var c=l.updateQueue;if(c!==null){var p=l.stateNode;try{l0(c,p)}catch(y){Te(l,l.return,y)}}}function Av(l,c,p){p.props=Vo(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(y){Te(l,c,y)}}function od(l,c){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof p=="function"?l.refCleanup=p(y):p.current=y}}catch(v){Te(l,c,v)}}function kr(l,c){var p=l.ref,y=l.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(v){Te(l,c,v)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(v){Te(l,c,v)}else p.current=null}function Sv(l){var c=l.type,p=l.memoizedProps,y=l.stateNode;try{t:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break t;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(v){Te(l,l.return,v)}}function Jy(l,c,p){try{var y=l.stateNode;eT(y,l.type,p,c),y[Jn]=c}catch(v){Te(l,l.return,v)}}function wv(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Sa(l.type)||l.tag===4}function t1(l){t:for(;;){for(;l.sibling===null;){if(l.return===null||wv(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Sa(l.type)||l.flags&2||l.child===null||l.tag===4)continue t;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function e1(l,c,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(l),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Em));else if(y!==4&&(y===27&&Sa(l.type)&&(p=l.stateNode,c=null),l=l.child,l!==null))for(e1(l,c,p),l=l.sibling;l!==null;)e1(l,c,p),l=l.sibling}function cm(l,c,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?p.insertBefore(l,c):p.appendChild(l);else if(y!==4&&(y===27&&Sa(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(cm(l,c,p),l=l.sibling;l!==null;)cm(l,c,p),l=l.sibling}function Tv(l){var c=l.stateNode,p=l.memoizedProps;try{for(var y=l.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);Tn(c,y,p),c[Ln]=l,c[Jn]=p}catch(A){Te(l,l.return,A)}}var ps=!1,Qe=!1,n1=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,pn=null;function Ow(l,c){if(l=l.containerInfo,C1=_m,l=Bx(l),ty(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else t:{p=(p=l.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var v=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break t}var O=0,U=-1,W=-1,st=0,yt=0,xt=l,ht=null;e:for(;;){for(var ft;xt!==p||v!==0&&xt.nodeType!==3||(U=O+v),xt!==A||y!==0&&xt.nodeType!==3||(W=O+y),xt.nodeType===3&&(O+=xt.nodeValue.length),(ft=xt.firstChild)!==null;)ht=xt,xt=ft;for(;;){if(xt===l)break e;if(ht===p&&++st===v&&(U=O),ht===A&&++yt===y&&(W=O),(ft=xt.nextSibling)!==null)break;xt=ht,ht=xt.parentNode}xt=ft}p=U===-1||W===-1?null:{start:U,end:W}}else p=null}p=p||{start:0,end:0}}else p=null;for(R1={focusedElem:l,selectionRange:p},_m=!1,pn=c;pn!==null;)if(c=pn,l=c.child,(c.subtreeFlags&1024)!==0&&l!==null)l.return=c,pn=l;else for(;pn!==null;){switch(c=pn,A=c.alternate,l=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&A!==null){l=void 0,p=c,v=A.memoizedProps,A=A.memoizedState,y=p.stateNode;try{var Vt=Vo(p.type,v,p.elementType===p.type);l=y.getSnapshotBeforeUpdate(Vt,A),y.__reactInternalSnapshotBeforeUpdate=l}catch(It){Te(p,p.return,It)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,p=l.nodeType,p===9)D1(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":D1(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=c.sibling,l!==null){l.return=c.return,pn=l;break}pn=c.return}}function Rv(l,c,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:ga(l,p),y&4&&ad(5,p);break;case 1:if(ga(l,p),y&4)if(l=p.stateNode,c===null)try{l.componentDidMount()}catch(O){Te(p,p.return,O)}else{var v=Vo(p.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(v,c,l.__reactInternalSnapshotBeforeUpdate)}catch(O){Te(p,p.return,O)}}y&64&&Ev(p),y&512&&od(p,p.return);break;case 3:if(ga(l,p),y&64&&(l=p.updateQueue,l!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{l0(l,c)}catch(O){Te(p,p.return,O)}}break;case 27:c===null&&y&4&&Tv(p);case 26:case 5:ga(l,p),c===null&&y&4&&Sv(p),y&512&&od(p,p.return);break;case 12:ga(l,p);break;case 13:ga(l,p),y&4&&Dv(l,p),y&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=Hw.bind(null,p),lT(l,p))));break;case 22:if(y=p.memoizedState!==null||ps,!y){c=c!==null&&c.memoizedState!==null||Qe,v=ps;var A=Qe;ps=y,(Qe=c)&&!A?ya(l,p,(p.subtreeFlags&8772)!==0):ga(l,p),ps=v,Qe=A}break;case 30:break;default:ga(l,p)}}function _v(l){var c=l.alternate;c!==null&&(l.alternate=null,_v(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Og(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Le=null,ni=!1;function ms(l,c,p){for(p=p.child;p!==null;)kv(l,c,p),p=p.sibling}function kv(l,c,p){if(M&&typeof M.onCommitFiberUnmount=="function")try{M.onCommitFiberUnmount(Y,p)}catch{}switch(p.tag){case 26:Qe||kr(p,c),ms(l,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Qe||kr(p,c);var y=Le,v=ni;Sa(p.type)&&(Le=p.stateNode,ni=!1),ms(l,c,p),gd(p.stateNode),Le=y,ni=v;break;case 5:Qe||kr(p,c);case 6:if(y=Le,v=ni,Le=null,ms(l,c,p),Le=y,ni=v,Le!==null)if(ni)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(p.stateNode)}catch(A){Te(p,c,A)}else try{Le.removeChild(p.stateNode)}catch(A){Te(p,c,A)}break;case 18:Le!==null&&(ni?(l=Le,yE(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),wd(l)):yE(Le,p.stateNode));break;case 4:y=Le,v=ni,Le=p.stateNode.containerInfo,ni=!0,ms(l,c,p),Le=y,ni=v;break;case 0:case 11:case 14:case 15:Qe||ma(2,p,c),Qe||ma(4,p,c),ms(l,c,p);break;case 1:Qe||(kr(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"&&Av(p,c,y)),ms(l,c,p);break;case 21:ms(l,c,p);break;case 22:Qe=(y=Qe)||p.memoizedState!==null,ms(l,c,p),Qe=y;break;default:ms(l,c,p)}}function Dv(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{wd(l)}catch(p){Te(c,c.return,p)}}function Iw(l){switch(l.tag){case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new Cv),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new Cv),c;default:throw Error(i(435,l.tag))}}function i1(l,c){var p=Iw(l);c.forEach(function(y){var v=qw.bind(null,l,y);p.has(y)||(p.add(y),y.then(v,v))})}function pi(l,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var v=p[y],A=l,O=c,U=O;t:for(;U!==null;){switch(U.tag){case 27:if(Sa(U.type)){Le=U.stateNode,ni=!1;break t}break;case 5:Le=U.stateNode,ni=!1;break t;case 3:case 4:Le=U.stateNode.containerInfo,ni=!0;break t}U=U.return}if(Le===null)throw Error(i(160));kv(A,O,v),Le=null,ni=!1,A=v.alternate,A!==null&&(A.return=null),v.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Mv(c,l),c=c.sibling}var ur=null;function Mv(l,c){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:pi(c,l),mi(l),y&4&&(ma(3,l,l.return),ad(3,l),ma(5,l,l.return));break;case 1:pi(c,l),mi(l),y&512&&(Qe||p===null||kr(p,p.return)),y&64&&ps&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var v=ur;if(pi(c,l),mi(l),y&512&&(Qe||p===null||kr(p,p.return)),y&4){var A=p!==null?p.memoizedState:null;if(y=l.memoizedState,p===null)if(y===null)if(l.stateNode===null){t:{y=l.type,p=l.memoizedProps,v=v.ownerDocument||v;e:switch(y){case"title":A=v.getElementsByTagName("title")[0],(!A||A[Dh]||A[Ln]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=v.createElement(y),v.head.insertBefore(A,v.querySelector("head > title"))),Tn(A,y,p),A[Ln]=l,dn(A),y=A;break t;case"link":var O=TE("link","href",v).get(y+(p.href||""));if(O){for(var U=0;U<O.length;U++)if(A=O[U],A.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&A.getAttribute("rel")===(p.rel==null?null:p.rel)&&A.getAttribute("title")===(p.title==null?null:p.title)&&A.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){O.splice(U,1);break e}}A=v.createElement(y),Tn(A,y,p),v.head.appendChild(A);break;case"meta":if(O=TE("meta","content",v).get(y+(p.content||""))){for(U=0;U<O.length;U++)if(A=O[U],A.getAttribute("content")===(p.content==null?null:""+p.content)&&A.getAttribute("name")===(p.name==null?null:p.name)&&A.getAttribute("property")===(p.property==null?null:p.property)&&A.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&A.getAttribute("charset")===(p.charSet==null?null:p.charSet)){O.splice(U,1);break e}}A=v.createElement(y),Tn(A,y,p),v.head.appendChild(A);break;default:throw Error(i(468,y))}A[Ln]=l,dn(A),y=A}l.stateNode=y}else CE(v,l.type,l.stateNode);else l.stateNode=wE(v,y,l.memoizedProps);else A!==y?(A===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):A.count--,y===null?CE(v,l.type,l.stateNode):wE(v,y,l.memoizedProps)):y===null&&l.stateNode!==null&&Jy(l,l.memoizedProps,p.memoizedProps)}break;case 27:pi(c,l),mi(l),y&512&&(Qe||p===null||kr(p,p.return)),p!==null&&y&4&&Jy(l,l.memoizedProps,p.memoizedProps);break;case 5:if(pi(c,l),mi(l),y&512&&(Qe||p===null||kr(p,p.return)),l.flags&32){v=l.stateNode;try{mu(v,"")}catch(ft){Te(l,l.return,ft)}}y&4&&l.stateNode!=null&&(v=l.memoizedProps,Jy(l,v,p!==null?p.memoizedProps:v)),y&1024&&(n1=!0);break;case 6:if(pi(c,l),mi(l),y&4){if(l.stateNode===null)throw Error(i(162));y=l.memoizedProps,p=l.stateNode;try{p.nodeValue=y}catch(ft){Te(l,l.return,ft)}}break;case 3:if(Tm=null,v=ur,ur=Sm(c.containerInfo),pi(c,l),ur=v,mi(l),y&4&&p!==null&&p.memoizedState.isDehydrated)try{wd(c.containerInfo)}catch(ft){Te(l,l.return,ft)}n1&&(n1=!1,Pv(l));break;case 4:y=ur,ur=Sm(l.stateNode.containerInfo),pi(c,l),mi(l),ur=y;break;case 12:pi(c,l),mi(l);break;case 13:pi(c,l),mi(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(u1=ge()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,i1(l,y)));break;case 22:v=l.memoizedState!==null;var W=p!==null&&p.memoizedState!==null,st=ps,yt=Qe;if(ps=st||v,Qe=yt||W,pi(c,l),Qe=yt,ps=st,mi(l),y&8192)t:for(c=l.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(p===null||W||ps||Qe||jo(l)),p=null,c=l;;){if(c.tag===5||c.tag===26){if(p===null){W=p=c;try{if(A=W.stateNode,v)O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{U=W.stateNode;var xt=W.memoizedProps.style,ht=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;U.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(ft){Te(W,W.return,ft)}}}else if(c.tag===6){if(p===null){W=c;try{W.stateNode.nodeValue=v?"":W.memoizedProps}catch(ft){Te(W,W.return,ft)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break t;for(;c.sibling===null;){if(c.return===null||c.return===l)break t;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=l.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,i1(l,p))));break;case 19:pi(c,l),mi(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,i1(l,y)));break;case 30:break;case 21:break;default:pi(c,l),mi(l)}}function mi(l){var c=l.flags;if(c&2){try{for(var p,y=l.return;y!==null;){if(wv(y)){p=y;break}y=y.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var v=p.stateNode,A=t1(l);cm(l,A,v);break;case 5:var O=p.stateNode;p.flags&32&&(mu(O,""),p.flags&=-33);var U=t1(l);cm(l,U,O);break;case 3:case 4:var W=p.stateNode.containerInfo,st=t1(l);e1(l,st,W);break;default:throw Error(i(161))}}catch(yt){Te(l,l.return,yt)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function Pv(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;Pv(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function ga(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Rv(l,c.alternate,c),c=c.sibling}function jo(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:ma(4,c,c.return),jo(c);break;case 1:kr(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&Av(c,c.return,p),jo(c);break;case 27:gd(c.stateNode);case 26:case 5:kr(c,c.return),jo(c);break;case 22:c.memoizedState===null&&jo(c);break;case 30:jo(c);break;default:jo(c)}l=l.sibling}}function ya(l,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,v=l,A=c,O=A.flags;switch(A.tag){case 0:case 11:case 15:ya(v,A,p),ad(4,A);break;case 1:if(ya(v,A,p),y=A,v=y.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(st){Te(y,y.return,st)}if(y=A,v=y.updateQueue,v!==null){var U=y.stateNode;try{var W=v.shared.hiddenCallbacks;if(W!==null)for(v.shared.hiddenCallbacks=null,v=0;v<W.length;v++)o0(W[v],U)}catch(st){Te(y,y.return,st)}}p&&O&64&&Ev(A),od(A,A.return);break;case 27:Tv(A);case 26:case 5:ya(v,A,p),p&&y===null&&O&4&&Sv(A),od(A,A.return);break;case 12:ya(v,A,p);break;case 13:ya(v,A,p),p&&O&4&&Dv(v,A);break;case 22:A.memoizedState===null&&ya(v,A,p),od(A,A.return);break;case 30:break;default:ya(v,A,p)}c=c.sibling}}function r1(l,c){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&qh(p))}function s1(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&qh(l))}function Dr(l,c,p,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Lv(l,c,p,y),c=c.sibling}function Lv(l,c,p,y){var v=c.flags;switch(c.tag){case 0:case 11:case 15:Dr(l,c,p,y),v&2048&&ad(9,c);break;case 1:Dr(l,c,p,y);break;case 3:Dr(l,c,p,y),v&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&qh(l)));break;case 12:if(v&2048){Dr(l,c,p,y),l=c.stateNode;try{var A=c.memoizedProps,O=A.id,U=A.onPostCommit;typeof U=="function"&&U(O,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(W){Te(c,c.return,W)}}else Dr(l,c,p,y);break;case 13:Dr(l,c,p,y);break;case 23:break;case 22:A=c.stateNode,O=c.alternate,c.memoizedState!==null?A._visibility&2?Dr(l,c,p,y):ld(l,c):A._visibility&2?Dr(l,c,p,y):(A._visibility|=2,$u(l,c,p,y,(c.subtreeFlags&10256)!==0)),v&2048&&r1(O,c);break;case 24:Dr(l,c,p,y),v&2048&&s1(c.alternate,c);break;default:Dr(l,c,p,y)}}function $u(l,c,p,y,v){for(v=v&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=l,O=c,U=p,W=y,st=O.flags;switch(O.tag){case 0:case 11:case 15:$u(A,O,U,W,v),ad(8,O);break;case 23:break;case 22:var yt=O.stateNode;O.memoizedState!==null?yt._visibility&2?$u(A,O,U,W,v):ld(A,O):(yt._visibility|=2,$u(A,O,U,W,v)),v&&st&2048&&r1(O.alternate,O);break;case 24:$u(A,O,U,W,v),v&&st&2048&&s1(O.alternate,O);break;default:$u(A,O,U,W,v)}c=c.sibling}}function ld(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=l,y=c,v=y.flags;switch(y.tag){case 22:ld(p,y),v&2048&&r1(y.alternate,y);break;case 24:ld(p,y),v&2048&&s1(y.alternate,y);break;default:ld(p,y)}c=c.sibling}}var ud=8192;function Ou(l){if(l.subtreeFlags&ud)for(l=l.child;l!==null;)$v(l),l=l.sibling}function $v(l){switch(l.tag){case 26:Ou(l),l.flags&ud&&l.memoizedState!==null&&ET(ur,l.memoizedState,l.memoizedProps);break;case 5:Ou(l);break;case 3:case 4:var c=ur;ur=Sm(l.stateNode.containerInfo),Ou(l),ur=c;break;case 22:l.memoizedState===null&&(c=l.alternate,c!==null&&c.memoizedState!==null?(c=ud,ud=16777216,Ou(l),ud=c):Ou(l));break;default:Ou(l)}}function Ov(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function cd(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];pn=y,Bv(y,l)}Ov(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Iv(l),l=l.sibling}function Iv(l){switch(l.tag){case 0:case 11:case 15:cd(l),l.flags&2048&&ma(9,l,l.return);break;case 3:cd(l);break;case 12:cd(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,hm(l)):cd(l);break;default:cd(l)}}function hm(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];pn=y,Bv(y,l)}Ov(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:ma(8,c,c.return),hm(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,hm(c));break;default:hm(c)}l=l.sibling}}function Bv(l,c){for(;pn!==null;){var p=pn;switch(p.tag){case 0:case 11:case 15:ma(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:qh(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,pn=y;else t:for(p=l;pn!==null;){y=pn;var v=y.sibling,A=y.return;if(_v(y),y===p){pn=null;break t}if(v!==null){v.return=A,pn=v;break t}pn=A}}}var Bw={getCacheForType:function(l){var c=$n(sn),p=c.data.get(l);return p===void 0&&(p=l(),c.data.set(l,p)),p}},Nw=typeof WeakMap=="function"?WeakMap:Map,de=0,ke=null,Zt=null,ee=0,fe=0,gi=null,ba=!1,Iu=!1,a1=!1,gs=0,je=0,xa=0,Uo=0,o1=0,Yi=0,Bu=0,hd=null,ii=null,l1=!1,u1=0,dm=1/0,fm=null,va=null,wn=0,Ea=null,Nu=null,Fu=0,c1=0,h1=null,Nv=null,dd=0,d1=null;function yi(){if((de&2)!==0&&ee!==0)return ee&-ee;if(Q.T!==null){var l=Cu;return l!==0?l:x1()}return Jb()}function Fv(){Yi===0&&(Yi=(ee&536870912)===0||oe?$t():536870912);var l=Gi.current;return l!==null&&(l.flags|=32),Yi}function bi(l,c,p){(l===ke&&(fe===2||fe===9)||l.cancelPendingCommit!==null)&&(Vu(l,0),Aa(l,ee,Yi,!1)),Fe(l,p),((de&2)===0||l!==ke)&&(l===ke&&((de&2)===0&&(Uo|=p),je===4&&Aa(l,ee,Yi,!1)),Mr(l))}function Vv(l,c,p){if((de&6)!==0)throw Error(i(327));var y=!p&&(c&124)===0&&(c&l.expiredLanes)===0||vt(l,c),v=y?jw(l,c):m1(l,c,!0),A=y;do{if(v===0){Iu&&!y&&Aa(l,c,0,!1);break}else{if(p=l.current.alternate,A&&!Fw(p)){v=m1(l,c,!1),A=!1;continue}if(v===2){if(A=c,l.errorRecoveryDisabledLanes&A)var O=0;else O=l.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;t:{var U=l;v=hd;var W=U.current.memoizedState.isDehydrated;if(W&&(Vu(U,O).flags|=256),O=m1(U,O,!1),O!==2){if(a1&&!W){U.errorRecoveryDisabledLanes|=A,Uo|=A,v=4;break t}A=ii,ii=v,A!==null&&(ii===null?ii=A:ii.push.apply(ii,A))}v=O}if(A=!1,v!==2)continue}}if(v===1){Vu(l,0),Aa(l,c,0,!0);break}t:{switch(y=l,A=v,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Aa(y,c,Yi,!ba);break t;case 2:ii=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(v=u1+300-ge(),10<v)){if(Aa(y,c,Yi,!ba),lt(y,0,!0)!==0)break t;y.timeoutHandle=mE(jv.bind(null,y,p,ii,fm,l1,c,Yi,Uo,Bu,ba,A,2,-0,0),v);break t}jv(y,p,ii,fm,l1,c,Yi,Uo,Bu,ba,A,0,-0,0)}}break}while(!0);Mr(l)}function jv(l,c,p,y,v,A,O,U,W,st,yt,xt,ht,ft){if(l.timeoutHandle=-1,xt=c.subtreeFlags,(xt&8192||(xt&16785408)===16785408)&&(xd={stylesheets:null,count:0,unsuspend:vT},$v(c),xt=AT(),xt!==null)){l.cancelPendingCommit=xt(Kv.bind(null,l,c,A,p,y,v,O,U,W,yt,1,ht,ft)),Aa(l,A,O,!st);return}Kv(l,c,A,p,y,v,O,U,W)}function Fw(l){for(var c=l;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var v=p[y],A=v.getSnapshot;v=v.value;try{if(!di(A(),v))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Aa(l,c,p,y){c&=~o1,c&=~Uo,l.suspendedLanes|=c,l.pingedLanes&=~c,y&&(l.warmLanes|=c),y=l.expirationTimes;for(var v=c;0<v;){var A=31-C(v),O=1<<A;y[A]=-1,v&=~O}p!==0&&Qb(l,p,c)}function pm(){return(de&6)===0?(fd(0),!1):!0}function f1(){if(Zt!==null){if(fe===0)var l=Zt.return;else l=Zt,ls=Io=null,Dy(l),Pu=null,nd=0,l=Zt;for(;l!==null;)vv(l.alternate,l),l=l.return;Zt=null}}function Vu(l,c){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,iT(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),f1(),ke=l,Zt=p=ss(l.current,null),ee=c,fe=0,gi=null,ba=!1,Iu=vt(l,c),a1=!1,Bu=Yi=o1=Uo=xa=je=0,ii=hd=null,l1=!1,(c&8)!==0&&(c|=c&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=c;0<y;){var v=31-C(y),A=1<<v;c|=l[v],y&=~A}return gs=c,Ip(),p}function Uv(l,c){Kt=null,Q.H=em,c===Yh||c===qp?(c=s0(),fe=3):c===n0?(c=s0(),fe=4):fe=c===av?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,gi=c,Zt===null&&(je=1,am(l,Ui(c,l.current)))}function zv(){var l=Q.H;return Q.H=em,l===null?em:l}function Hv(){var l=Q.A;return Q.A=Bw,l}function p1(){je=4,ba||(ee&4194048)!==ee&&Gi.current!==null||(Iu=!0),(xa&134217727)===0&&(Uo&134217727)===0||ke===null||Aa(ke,ee,Yi,!1)}function m1(l,c,p){var y=de;de|=2;var v=zv(),A=Hv();(ke!==l||ee!==c)&&(fm=null,Vu(l,c)),c=!1;var O=je;t:do try{if(fe!==0&&Zt!==null){var U=Zt,W=gi;switch(fe){case 8:f1(),O=6;break t;case 3:case 2:case 9:case 6:Gi.current===null&&(c=!0);var st=fe;if(fe=0,gi=null,ju(l,U,W,st),p&&Iu){O=0;break t}break;default:st=fe,fe=0,gi=null,ju(l,U,W,st)}}Vw(),O=je;break}catch(yt){Uv(l,yt)}while(!0);return c&&l.shellSuspendCounter++,ls=Io=null,de=y,Q.H=v,Q.A=A,Zt===null&&(ke=null,ee=0,Ip()),O}function Vw(){for(;Zt!==null;)qv(Zt)}function jw(l,c){var p=de;de|=2;var y=zv(),v=Hv();ke!==l||ee!==c?(fm=null,dm=ge()+500,Vu(l,c)):Iu=vt(l,c);t:do try{if(fe!==0&&Zt!==null){c=Zt;var A=gi;e:switch(fe){case 1:fe=0,gi=null,ju(l,c,A,1);break;case 2:case 9:if(i0(A)){fe=0,gi=null,Gv(c);break}c=function(){fe!==2&&fe!==9||ke!==l||(fe=7),Mr(l)},A.then(c,c);break t;case 3:fe=7;break t;case 4:fe=5;break t;case 7:i0(A)?(fe=0,gi=null,Gv(c)):(fe=0,gi=null,ju(l,c,A,7));break;case 5:var O=null;switch(Zt.tag){case 26:O=Zt.memoizedState;case 5:case 27:var U=Zt;if(!O||RE(O)){fe=0,gi=null;var W=U.sibling;if(W!==null)Zt=W;else{var st=U.return;st!==null?(Zt=st,mm(st)):Zt=null}break e}}fe=0,gi=null,ju(l,c,A,5);break;case 6:fe=0,gi=null,ju(l,c,A,6);break;case 8:f1(),je=6;break t;default:throw Error(i(462))}}Uw();break}catch(yt){Uv(l,yt)}while(!0);return ls=Io=null,Q.H=y,Q.A=v,de=p,Zt!==null?0:(ke=null,ee=0,Ip(),je)}function Uw(){for(;Zt!==null&&!ae();)qv(Zt)}function qv(l){var c=bv(l.alternate,l,gs);l.memoizedProps=l.pendingProps,c===null?mm(l):Zt=c}function Gv(l){var c=l,p=c.alternate;switch(c.tag){case 15:case 0:c=dv(p,c,c.pendingProps,c.type,void 0,ee);break;case 11:c=dv(p,c,c.pendingProps,c.type.render,c.ref,ee);break;case 5:Dy(c);default:vv(p,c),c=Zt=Yx(c,gs),c=bv(p,c,gs)}l.memoizedProps=l.pendingProps,c===null?mm(l):Zt=c}function ju(l,c,p,y){ls=Io=null,Dy(c),Pu=null,nd=0;var v=c.return;try{if(Mw(l,v,c,p,ee)){je=1,am(l,Ui(p,l.current)),Zt=null;return}}catch(A){if(v!==null)throw Zt=v,A;je=1,am(l,Ui(p,l.current)),Zt=null;return}c.flags&32768?(oe||y===1?l=!0:Iu||(ee&536870912)!==0?l=!1:(ba=l=!0,(y===2||y===9||y===3||y===6)&&(y=Gi.current,y!==null&&y.tag===13&&(y.flags|=16384))),Yv(c,l)):mm(c)}function mm(l){var c=l;do{if((c.flags&32768)!==0){Yv(c,ba);return}l=c.return;var p=Lw(c.alternate,c,gs);if(p!==null){Zt=p;return}if(c=c.sibling,c!==null){Zt=c;return}Zt=c=l}while(c!==null);je===0&&(je=5)}function Yv(l,c){do{var p=$w(l.alternate,l);if(p!==null){p.flags&=32767,Zt=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(l=l.sibling,l!==null)){Zt=l;return}Zt=l=p}while(l!==null);je=6,Zt=null}function Kv(l,c,p,y,v,A,O,U,W){l.cancelPendingCommit=null;do gm();while(wn!==0);if((de&6)!==0)throw Error(i(327));if(c!==null){if(c===l.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=sy,xS(l,p,A,O,U,W),l===ke&&(Zt=ke=null,ee=0),Nu=c,Ea=l,Fu=p,c1=A,h1=v,Nv=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Gw(Ke,function(){return Jv(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=Q.T,Q.T=null,v=Z.p,Z.p=2,O=de,de|=4;try{Ow(l,c,p)}finally{de=O,Z.p=v,Q.T=y}}wn=1,Xv(),Wv(),Qv()}}function Xv(){if(wn===1){wn=0;var l=Ea,c=Nu,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=Q.T,Q.T=null;var y=Z.p;Z.p=2;var v=de;de|=4;try{Mv(c,l);var A=R1,O=Bx(l.containerInfo),U=A.focusedElem,W=A.selectionRange;if(O!==U&&U&&U.ownerDocument&&Ix(U.ownerDocument.documentElement,U)){if(W!==null&&ty(U)){var st=W.start,yt=W.end;if(yt===void 0&&(yt=st),"selectionStart"in U)U.selectionStart=st,U.selectionEnd=Math.min(yt,U.value.length);else{var xt=U.ownerDocument||document,ht=xt&&xt.defaultView||window;if(ht.getSelection){var ft=ht.getSelection(),Vt=U.textContent.length,It=Math.min(W.start,Vt),xe=W.end===void 0?It:Math.min(W.end,Vt);!ft.extend&&It>xe&&(O=xe,xe=It,It=O);var nt=Ox(U,It),tt=Ox(U,xe);if(nt&&tt&&(ft.rangeCount!==1||ft.anchorNode!==nt.node||ft.anchorOffset!==nt.offset||ft.focusNode!==tt.node||ft.focusOffset!==tt.offset)){var rt=xt.createRange();rt.setStart(nt.node,nt.offset),ft.removeAllRanges(),It>xe?(ft.addRange(rt),ft.extend(tt.node,tt.offset)):(rt.setEnd(tt.node,tt.offset),ft.addRange(rt))}}}}for(xt=[],ft=U;ft=ft.parentNode;)ft.nodeType===1&&xt.push({element:ft,left:ft.scrollLeft,top:ft.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<xt.length;U++){var bt=xt[U];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}_m=!!C1,R1=C1=null}finally{de=v,Z.p=y,Q.T=p}}l.current=c,wn=2}}function Wv(){if(wn===2){wn=0;var l=Ea,c=Nu,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=Q.T,Q.T=null;var y=Z.p;Z.p=2;var v=de;de|=4;try{Rv(l,c.alternate,c)}finally{de=v,Z.p=y,Q.T=p}}wn=3}}function Qv(){if(wn===4||wn===3){wn=0,ce();var l=Ea,c=Nu,p=Fu,y=Nv;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?wn=5:(wn=0,Nu=Ea=null,Zv(l,l.pendingLanes));var v=l.pendingLanes;if(v===0&&(va=null),Lg(p),c=c.stateNode,M&&typeof M.onCommitFiberRoot=="function")try{M.onCommitFiberRoot(Y,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=Q.T,v=Z.p,Z.p=2,Q.T=null;try{for(var A=l.onRecoverableError,O=0;O<y.length;O++){var U=y[O];A(U.value,{componentStack:U.stack})}}finally{Q.T=c,Z.p=v}}(Fu&3)!==0&&gm(),Mr(l),v=l.pendingLanes,(p&4194090)!==0&&(v&42)!==0?l===d1?dd++:(dd=0,d1=l):dd=0,fd(0)}}function Zv(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,qh(c)))}function gm(l){return Xv(),Wv(),Qv(),Jv()}function Jv(){if(wn!==5)return!1;var l=Ea,c=c1;c1=0;var p=Lg(Fu),y=Q.T,v=Z.p;try{Z.p=32>p?32:p,Q.T=null,p=h1,h1=null;var A=Ea,O=Fu;if(wn=0,Nu=Ea=null,Fu=0,(de&6)!==0)throw Error(i(331));var U=de;if(de|=4,Iv(A.current),Lv(A,A.current,O,p),de=U,fd(0,!1),M&&typeof M.onPostCommitFiberRoot=="function")try{M.onPostCommitFiberRoot(Y,A)}catch{}return!0}finally{Z.p=v,Q.T=y,Zv(l,c)}}function tE(l,c,p){c=Ui(p,c),c=Hy(l.stateNode,c,2),l=ha(l,c,2),l!==null&&(Fe(l,2),Mr(l))}function Te(l,c,p){if(l.tag===3)tE(l,l,p);else for(;c!==null;){if(c.tag===3){tE(c,l,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(va===null||!va.has(y))){l=Ui(p,l),p=rv(2),y=ha(c,p,2),y!==null&&(sv(p,y,c,l),Fe(y,2),Mr(y));break}}c=c.return}}function g1(l,c,p){var y=l.pingCache;if(y===null){y=l.pingCache=new Nw;var v=new Set;y.set(c,v)}else v=y.get(c),v===void 0&&(v=new Set,y.set(c,v));v.has(p)||(a1=!0,v.add(p),l=zw.bind(null,l,c,p),c.then(l,l))}function zw(l,c,p){var y=l.pingCache;y!==null&&y.delete(c),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,ke===l&&(ee&p)===p&&(je===4||je===3&&(ee&62914560)===ee&&300>ge()-u1?(de&2)===0&&Vu(l,0):o1|=p,Bu===ee&&(Bu=0)),Mr(l)}function eE(l,c){c===0&&(c=te()),l=Au(l,c),l!==null&&(Fe(l,c),Mr(l))}function Hw(l){var c=l.memoizedState,p=0;c!==null&&(p=c.retryLane),eE(l,p)}function qw(l,c){var p=0;switch(l.tag){case 13:var y=l.stateNode,v=l.memoizedState;v!==null&&(p=v.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(c),eE(l,p)}function Gw(l,c){return Ft(l,c)}var ym=null,Uu=null,y1=!1,bm=!1,b1=!1,zo=0;function Mr(l){l!==Uu&&l.next===null&&(Uu===null?ym=Uu=l:Uu=Uu.next=l),bm=!0,y1||(y1=!0,Kw())}function fd(l,c){if(!b1&&bm){b1=!0;do for(var p=!1,y=ym;y!==null;){if(l!==0){var v=y.pendingLanes;if(v===0)var A=0;else{var O=y.suspendedLanes,U=y.pingedLanes;A=(1<<31-C(42|l)+1)-1,A&=v&~(O&~U),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(p=!0,sE(y,A))}else A=ee,A=lt(y,y===ke?A:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(A&3)===0||vt(y,A)||(p=!0,sE(y,A));y=y.next}while(p);b1=!1}}function Yw(){nE()}function nE(){bm=y1=!1;var l=0;zo!==0&&(nT()&&(l=zo),zo=0);for(var c=ge(),p=null,y=ym;y!==null;){var v=y.next,A=iE(y,c);A===0?(y.next=null,p===null?ym=v:p.next=v,v===null&&(Uu=p)):(p=y,(l!==0||(A&3)!==0)&&(bm=!0)),y=v}fd(l)}function iE(l,c){for(var p=l.suspendedLanes,y=l.pingedLanes,v=l.expirationTimes,A=l.pendingLanes&-62914561;0<A;){var O=31-C(A),U=1<<O,W=v[O];W===-1?((U&p)===0||(U&y)!==0)&&(v[O]=gt(U,c)):W<=c&&(l.expiredLanes|=U),A&=~U}if(c=ke,p=ee,p=lt(l,l===c?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,p===0||l===c&&(fe===2||fe===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&Yt(y),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||vt(l,p)){if(c=p&-p,c===l.callbackPriority)return c;switch(y!==null&&Yt(y),Lg(p)){case 2:case 8:p=zn;break;case 32:p=Ke;break;case 268435456:p=Zn;break;default:p=Ke}return y=rE.bind(null,l),p=Ft(p,y),l.callbackPriority=c,l.callbackNode=p,c}return y!==null&&y!==null&&Yt(y),l.callbackPriority=2,l.callbackNode=null,2}function rE(l,c){if(wn!==0&&wn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(gm()&&l.callbackNode!==p)return null;var y=ee;return y=lt(l,l===ke?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(Vv(l,y,c),iE(l,ge()),l.callbackNode!=null&&l.callbackNode===p?rE.bind(null,l):null)}function sE(l,c){if(gm())return null;Vv(l,c,!0)}function Kw(){rT(function(){(de&6)!==0?Ft(Un,Yw):nE()})}function x1(){return zo===0&&(zo=$t()),zo}function aE(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:kp(""+l)}function oE(l,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,l.id&&p.setAttribute("form",l.id),c.parentNode.insertBefore(p,c),l=new FormData(l),p.parentNode.removeChild(p),l}function Xw(l,c,p,y,v){if(c==="submit"&&p&&p.stateNode===v){var A=aE((v[Jn]||null).action),O=y.submitter;O&&(c=(c=O[Jn]||null)?aE(c.formAction):O.getAttribute("formAction"),c!==null&&(A=c,O=null));var U=new Lp("action","action",null,y,v);l.push({event:U,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(zo!==0){var W=O?oE(v,O):new FormData(v);Fy(p,{pending:!0,data:W,method:v.method,action:A},null,W)}}else typeof A=="function"&&(U.preventDefault(),W=O?oE(v,O):new FormData(v),Fy(p,{pending:!0,data:W,method:v.method,action:A},A,W))},currentTarget:v}]})}}for(var v1=0;v1<ry.length;v1++){var E1=ry[v1],Ww=E1.toLowerCase(),Qw=E1[0].toUpperCase()+E1.slice(1);lr(Ww,"on"+Qw)}lr(Vx,"onAnimationEnd"),lr(jx,"onAnimationIteration"),lr(Ux,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(fw,"onTransitionRun"),lr(pw,"onTransitionStart"),lr(mw,"onTransitionCancel"),lr(zx,"onTransitionEnd"),du("onMouseEnter",["mouseout","mouseover"]),du("onMouseLeave",["mouseout","mouseover"]),du("onPointerEnter",["pointerout","pointerover"]),du("onPointerLeave",["pointerout","pointerover"]),Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pd));function lE(l,c){c=(c&4)!==0;for(var p=0;p<l.length;p++){var y=l[p],v=y.event;y=y.listeners;t:{var A=void 0;if(c)for(var O=y.length-1;0<=O;O--){var U=y[O],W=U.instance,st=U.currentTarget;if(U=U.listener,W!==A&&v.isPropagationStopped())break t;A=U,v.currentTarget=st;try{A(v)}catch(yt){sm(yt)}v.currentTarget=null,A=W}else for(O=0;O<y.length;O++){if(U=y[O],W=U.instance,st=U.currentTarget,U=U.listener,W!==A&&v.isPropagationStopped())break t;A=U,v.currentTarget=st;try{A(v)}catch(yt){sm(yt)}v.currentTarget=null,A=W}}}}function Jt(l,c){var p=c[$g];p===void 0&&(p=c[$g]=new Set);var y=l+"__bubble";p.has(y)||(uE(c,l,2,!1),p.add(y))}function A1(l,c,p){var y=0;c&&(y|=4),uE(p,l,y,c)}var xm="_reactListening"+Math.random().toString(36).slice(2);function S1(l){if(!l[xm]){l[xm]=!0,ex.forEach(function(p){p!=="selectionchange"&&(Zw.has(p)||A1(p,!1,l),A1(p,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[xm]||(c[xm]=!0,A1("selectionchange",!1,c))}}function uE(l,c,p,y){switch(LE(c)){case 2:var v=TT;break;case 8:v=CT;break;default:v=B1}p=v.bind(null,c,p,l),v=void 0,!qg||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),y?v!==void 0?l.addEventListener(c,p,{capture:!0,passive:v}):l.addEventListener(c,p,!0):v!==void 0?l.addEventListener(c,p,{passive:v}):l.addEventListener(c,p,!1)}function w1(l,c,p,y,v){var A=y;if((c&1)===0&&(c&2)===0&&y!==null)t:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var U=y.stateNode.containerInfo;if(U===v)break;if(O===4)for(O=y.return;O!==null;){var W=O.tag;if((W===3||W===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;U!==null;){if(O=uu(U),O===null)return;if(W=O.tag,W===5||W===6||W===26||W===27){y=A=O;continue t}U=U.parentNode}}y=y.return}gx(function(){var st=A,yt=zg(p),xt=[];t:{var ht=Hx.get(l);if(ht!==void 0){var ft=Lp,Vt=l;switch(l){case"keypress":if(Mp(p)===0)break t;case"keydown":case"keyup":ft=qS;break;case"focusin":Vt="focus",ft=Xg;break;case"focusout":Vt="blur",ft=Xg;break;case"beforeblur":case"afterblur":ft=Xg;break;case"click":if(p.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=xx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=KS;break;case Vx:case jx:case Ux:ft=IS;break;case zx:ft=WS;break;case"scroll":case"scrollend":ft=MS;break;case"wheel":ft=ZS;break;case"copy":case"cut":case"paste":ft=NS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Ex;break;case"toggle":case"beforetoggle":ft=tw}var It=(c&4)!==0,xe=!It&&(l==="scroll"||l==="scrollend"),nt=It?ht!==null?ht+"Capture":null:ht;It=[];for(var tt=st,rt;tt!==null;){var bt=tt;if(rt=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||rt===null||nt===null||(bt=Ph(tt,nt),bt!=null&&It.push(md(tt,bt,rt))),xe)break;tt=tt.return}0<It.length&&(ht=new ft(ht,Vt,null,p,yt),xt.push({event:ht,listeners:It}))}}if((c&7)===0){t:{if(ht=l==="mouseover"||l==="pointerover",ft=l==="mouseout"||l==="pointerout",ht&&p!==Ug&&(Vt=p.relatedTarget||p.fromElement)&&(uu(Vt)||Vt[lu]))break t;if((ft||ht)&&(ht=yt.window===yt?yt:(ht=yt.ownerDocument)?ht.defaultView||ht.parentWindow:window,ft?(Vt=p.relatedTarget||p.toElement,ft=st,Vt=Vt?uu(Vt):null,Vt!==null&&(xe=a(Vt),It=Vt.tag,Vt!==xe||It!==5&&It!==27&&It!==6)&&(Vt=null)):(ft=null,Vt=st),ft!==Vt)){if(It=xx,bt="onMouseLeave",nt="onMouseEnter",tt="mouse",(l==="pointerout"||l==="pointerover")&&(It=Ex,bt="onPointerLeave",nt="onPointerEnter",tt="pointer"),xe=ft==null?ht:Mh(ft),rt=Vt==null?ht:Mh(Vt),ht=new It(bt,tt+"leave",ft,p,yt),ht.target=xe,ht.relatedTarget=rt,bt=null,uu(yt)===st&&(It=new It(nt,tt+"enter",Vt,p,yt),It.target=rt,It.relatedTarget=xe,bt=It),xe=bt,ft&&Vt)e:{for(It=ft,nt=Vt,tt=0,rt=It;rt;rt=zu(rt))tt++;for(rt=0,bt=nt;bt;bt=zu(bt))rt++;for(;0<tt-rt;)It=zu(It),tt--;for(;0<rt-tt;)nt=zu(nt),rt--;for(;tt--;){if(It===nt||nt!==null&&It===nt.alternate)break e;It=zu(It),nt=zu(nt)}It=null}else It=null;ft!==null&&cE(xt,ht,ft,It,!1),Vt!==null&&xe!==null&&cE(xt,xe,Vt,It,!0)}}t:{if(ht=st?Mh(st):window,ft=ht.nodeName&&ht.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ht.type==="file")var Dt=kx;else if(Rx(ht))if(Dx)Dt=cw;else{Dt=lw;var Wt=ow}else ft=ht.nodeName,!ft||ft.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?st&&jg(st.elementType)&&(Dt=kx):Dt=uw;if(Dt&&(Dt=Dt(l,st))){_x(xt,Dt,p,yt);break t}Wt&&Wt(l,ht,st),l==="focusout"&&st&&ht.type==="number"&&st.memoizedProps.value!=null&&Vg(ht,"number",ht.value)}switch(Wt=st?Mh(st):window,l){case"focusin":(Rx(Wt)||Wt.contentEditable==="true")&&(xu=Wt,ey=st,Vh=null);break;case"focusout":Vh=ey=xu=null;break;case"mousedown":ny=!0;break;case"contextmenu":case"mouseup":case"dragend":ny=!1,Nx(xt,p,yt);break;case"selectionchange":if(dw)break;case"keydown":case"keyup":Nx(xt,p,yt)}var Pt;if(Qg)t:{switch(l){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else bu?Tx(l,p)&&(Nt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ax&&p.locale!=="ko"&&(bu||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&bu&&(Pt=yx()):(oa=yt,Gg="value"in oa?oa.value:oa.textContent,bu=!0)),Wt=vm(st,Nt),0<Wt.length&&(Nt=new vx(Nt,l,null,p,yt),xt.push({event:Nt,listeners:Wt}),Pt?Nt.data=Pt:(Pt=Cx(p),Pt!==null&&(Nt.data=Pt)))),(Pt=nw?iw(l,p):rw(l,p))&&(Nt=vm(st,"onBeforeInput"),0<Nt.length&&(Wt=new vx("onBeforeInput","beforeinput",null,p,yt),xt.push({event:Wt,listeners:Nt}),Wt.data=Pt)),Xw(xt,l,st,p,yt)}lE(xt,c)})}function md(l,c,p){return{instance:l,listener:c,currentTarget:p}}function vm(l,c){for(var p=c+"Capture",y=[];l!==null;){var v=l,A=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||A===null||(v=Ph(l,p),v!=null&&y.unshift(md(l,v,A)),v=Ph(l,c),v!=null&&y.push(md(l,v,A))),l.tag===3)return y;l=l.return}return[]}function zu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function cE(l,c,p,y,v){for(var A=c._reactName,O=[];p!==null&&p!==y;){var U=p,W=U.alternate,st=U.stateNode;if(U=U.tag,W!==null&&W===y)break;U!==5&&U!==26&&U!==27||st===null||(W=st,v?(st=Ph(p,A),st!=null&&O.unshift(md(p,st,W))):v||(st=Ph(p,A),st!=null&&O.push(md(p,st,W)))),p=p.return}O.length!==0&&l.push({event:c,listeners:O})}var Jw=/\r\n?/g,tT=/\u0000|\uFFFD/g;function hE(l){return(typeof l=="string"?l:""+l).replace(Jw,`
`).replace(tT,"")}function dE(l,c){return c=hE(c),hE(l)===c}function Em(){}function be(l,c,p,y,v,A){switch(p){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||mu(l,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&mu(l,""+y);break;case"className":Cp(l,"class",y);break;case"tabIndex":Cp(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Cp(l,p,y);break;case"style":fx(l,y,A);break;case"data":if(c!=="object"){Cp(l,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||p!=="href")){l.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=kp(""+y),l.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(p==="formAction"?(c!=="input"&&be(l,c,"name",v.name,v,null),be(l,c,"formEncType",v.formEncType,v,null),be(l,c,"formMethod",v.formMethod,v,null),be(l,c,"formTarget",v.formTarget,v,null)):(be(l,c,"encType",v.encType,v,null),be(l,c,"method",v.method,v,null),be(l,c,"target",v.target,v,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=kp(""+y),l.setAttribute(p,y);break;case"onClick":y!=null&&(l.onclick=Em);break;case"onScroll":y!=null&&Jt("scroll",l);break;case"onScrollEnd":y!=null&&Jt("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(p=y.__html,p!=null){if(v.children!=null)throw Error(i(60));l.innerHTML=p}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}p=kp(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""+y):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":y===!0?l.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,y):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(p,y):l.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(p):l.setAttribute(p,y);break;case"popover":Jt("beforetoggle",l),Jt("toggle",l),Tp(l,"popover",y);break;case"xlinkActuate":is(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":is(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":is(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":is(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":is(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":is(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":is(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":is(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":is(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Tp(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=kS.get(p)||p,Tp(l,p,y))}}function T1(l,c,p,y,v,A){switch(p){case"style":fx(l,y,A);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(p=y.__html,p!=null){if(v.children!=null)throw Error(i(60));l.innerHTML=p}}break;case"children":typeof y=="string"?mu(l,y):(typeof y=="number"||typeof y=="bigint")&&mu(l,""+y);break;case"onScroll":y!=null&&Jt("scroll",l);break;case"onScrollEnd":y!=null&&Jt("scrollend",l);break;case"onClick":y!=null&&(l.onclick=Em);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nx.hasOwnProperty(p))t:{if(p[0]==="o"&&p[1]==="n"&&(v=p.endsWith("Capture"),c=p.slice(2,v?p.length-7:void 0),A=l[Jn]||null,A=A!=null?A[p]:null,typeof A=="function"&&l.removeEventListener(c,A,v),typeof y=="function")){typeof A!="function"&&A!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(c,y,v);break t}p in l?l[p]=y:y===!0?l.setAttribute(p,""):Tp(l,p,y)}}}function Tn(l,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",l),Jt("load",l);var y=!1,v=!1,A;for(A in p)if(p.hasOwnProperty(A)){var O=p[A];if(O!=null)switch(A){case"src":y=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:be(l,c,A,O,p,null)}}v&&be(l,c,"srcSet",p.srcSet,p,null),y&&be(l,c,"src",p.src,p,null);return;case"input":Jt("invalid",l);var U=A=O=v=null,W=null,st=null;for(y in p)if(p.hasOwnProperty(y)){var yt=p[y];if(yt!=null)switch(y){case"name":v=yt;break;case"type":O=yt;break;case"checked":W=yt;break;case"defaultChecked":st=yt;break;case"value":A=yt;break;case"defaultValue":U=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(i(137,c));break;default:be(l,c,y,yt,p,null)}}ux(l,A,U,W,st,O,v,!1),Rp(l);return;case"select":Jt("invalid",l),y=O=A=null;for(v in p)if(p.hasOwnProperty(v)&&(U=p[v],U!=null))switch(v){case"value":A=U;break;case"defaultValue":O=U;break;case"multiple":y=U;default:be(l,c,v,U,p,null)}c=A,p=O,l.multiple=!!y,c!=null?pu(l,!!y,c,!1):p!=null&&pu(l,!!y,p,!0);return;case"textarea":Jt("invalid",l),A=v=y=null;for(O in p)if(p.hasOwnProperty(O)&&(U=p[O],U!=null))switch(O){case"value":y=U;break;case"defaultValue":v=U;break;case"children":A=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(91));break;default:be(l,c,O,U,p,null)}hx(l,y,v,A),Rp(l);return;case"option":for(W in p)if(p.hasOwnProperty(W)&&(y=p[W],y!=null))switch(W){case"selected":l.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:be(l,c,W,y,p,null)}return;case"dialog":Jt("beforetoggle",l),Jt("toggle",l),Jt("cancel",l),Jt("close",l);break;case"iframe":case"object":Jt("load",l);break;case"video":case"audio":for(y=0;y<pd.length;y++)Jt(pd[y],l);break;case"image":Jt("error",l),Jt("load",l);break;case"details":Jt("toggle",l);break;case"embed":case"source":case"link":Jt("error",l),Jt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in p)if(p.hasOwnProperty(st)&&(y=p[st],y!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:be(l,c,st,y,p,null)}return;default:if(jg(c)){for(yt in p)p.hasOwnProperty(yt)&&(y=p[yt],y!==void 0&&T1(l,c,yt,y,p,void 0));return}}for(U in p)p.hasOwnProperty(U)&&(y=p[U],y!=null&&be(l,c,U,y,p,null))}function eT(l,c,p,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,A=null,O=null,U=null,W=null,st=null,yt=null;for(ft in p){var xt=p[ft];if(p.hasOwnProperty(ft)&&xt!=null)switch(ft){case"checked":break;case"value":break;case"defaultValue":W=xt;default:y.hasOwnProperty(ft)||be(l,c,ft,null,y,xt)}}for(var ht in y){var ft=y[ht];if(xt=p[ht],y.hasOwnProperty(ht)&&(ft!=null||xt!=null))switch(ht){case"type":A=ft;break;case"name":v=ft;break;case"checked":st=ft;break;case"defaultChecked":yt=ft;break;case"value":O=ft;break;case"defaultValue":U=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(i(137,c));break;default:ft!==xt&&be(l,c,ht,ft,y,xt)}}Fg(l,O,U,W,st,yt,A,v);return;case"select":ft=O=U=ht=null;for(A in p)if(W=p[A],p.hasOwnProperty(A)&&W!=null)switch(A){case"value":break;case"multiple":ft=W;default:y.hasOwnProperty(A)||be(l,c,A,null,y,W)}for(v in y)if(A=y[v],W=p[v],y.hasOwnProperty(v)&&(A!=null||W!=null))switch(v){case"value":ht=A;break;case"defaultValue":U=A;break;case"multiple":O=A;default:A!==W&&be(l,c,v,A,y,W)}c=U,p=O,y=ft,ht!=null?pu(l,!!p,ht,!1):!!y!=!!p&&(c!=null?pu(l,!!p,c,!0):pu(l,!!p,p?[]:"",!1));return;case"textarea":ft=ht=null;for(U in p)if(v=p[U],p.hasOwnProperty(U)&&v!=null&&!y.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:be(l,c,U,null,y,v)}for(O in y)if(v=y[O],A=p[O],y.hasOwnProperty(O)&&(v!=null||A!=null))switch(O){case"value":ht=v;break;case"defaultValue":ft=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==A&&be(l,c,O,v,y,A)}cx(l,ht,ft);return;case"option":for(var Vt in p)if(ht=p[Vt],p.hasOwnProperty(Vt)&&ht!=null&&!y.hasOwnProperty(Vt))switch(Vt){case"selected":l.selected=!1;break;default:be(l,c,Vt,null,y,ht)}for(W in y)if(ht=y[W],ft=p[W],y.hasOwnProperty(W)&&ht!==ft&&(ht!=null||ft!=null))switch(W){case"selected":l.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:be(l,c,W,ht,y,ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in p)ht=p[It],p.hasOwnProperty(It)&&ht!=null&&!y.hasOwnProperty(It)&&be(l,c,It,null,y,ht);for(st in y)if(ht=y[st],ft=p[st],y.hasOwnProperty(st)&&ht!==ft&&(ht!=null||ft!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,c));break;default:be(l,c,st,ht,y,ft)}return;default:if(jg(c)){for(var xe in p)ht=p[xe],p.hasOwnProperty(xe)&&ht!==void 0&&!y.hasOwnProperty(xe)&&T1(l,c,xe,void 0,y,ht);for(yt in y)ht=y[yt],ft=p[yt],!y.hasOwnProperty(yt)||ht===ft||ht===void 0&&ft===void 0||T1(l,c,yt,ht,y,ft);return}}for(var nt in p)ht=p[nt],p.hasOwnProperty(nt)&&ht!=null&&!y.hasOwnProperty(nt)&&be(l,c,nt,null,y,ht);for(xt in y)ht=y[xt],ft=p[xt],!y.hasOwnProperty(xt)||ht===ft||ht==null&&ft==null||be(l,c,xt,ht,y,ft)}var C1=null,R1=null;function Am(l){return l.nodeType===9?l:l.ownerDocument}function fE(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pE(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function _1(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var k1=null;function nT(){var l=window.event;return l&&l.type==="popstate"?l===k1?!1:(k1=l,!0):(k1=null,!1)}var mE=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,gE=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof gE<"u"?function(l){return gE.resolve(null).then(l).catch(sT)}:mE;function sT(l){setTimeout(function(){throw l})}function Sa(l){return l==="head"}function yE(l,c){var p=c,y=0,v=0;do{var A=p.nextSibling;if(l.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"){if(0<y&&8>y){p=y;var O=l.ownerDocument;if(p&1&&gd(O.documentElement),p&2&&gd(O.body),p&4)for(p=O.head,gd(p),O=p.firstChild;O;){var U=O.nextSibling,W=O.nodeName;O[Dh]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&O.rel.toLowerCase()==="stylesheet"||p.removeChild(O),O=U}}if(v===0){l.removeChild(A),wd(c);return}v--}else p==="$"||p==="$?"||p==="$!"?v++:y=p.charCodeAt(0)-48;else y=0;p=A}while(p);wd(c)}function D1(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":D1(p),Og(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function aT(l,c,p,y){for(;l.nodeType===1;){var v=p;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[Dh])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(A=l.getAttribute("rel"),A==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(A!==v.rel||l.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||l.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||l.getAttribute("title")!==(v.title==null?null:v.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(A=l.getAttribute("src"),(A!==(v.src==null?null:v.src)||l.getAttribute("type")!==(v.type==null?null:v.type)||l.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&A&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var A=v.name==null?null:""+v.name;if(v.type==="hidden"&&l.getAttribute("name")===A)return l}else return l;if(l=cr(l.nextSibling),l===null)break}return null}function oT(l,c,p){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=cr(l.nextSibling),l===null))return null;return l}function M1(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function lT(l,c){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")c();else{var y=function(){c(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function cr(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return l}var P1=null;function bE(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return l;c--}else p==="/$"&&c++}l=l.previousSibling}return null}function xE(l,c,p){switch(c=Am(p),l){case"html":if(l=c.documentElement,!l)throw Error(i(452));return l;case"head":if(l=c.head,!l)throw Error(i(453));return l;case"body":if(l=c.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function gd(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);Og(l)}var Ki=new Map,vE=new Set;function Sm(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ys=Z.d;Z.d={f:uT,r:cT,D:hT,C:dT,L:fT,m:pT,X:gT,S:mT,M:yT};function uT(){var l=ys.f(),c=pm();return l||c}function cT(l){var c=cu(l);c!==null&&c.tag===5&&c.type==="form"?V0(c):ys.r(l)}var Hu=typeof document>"u"?null:document;function EE(l,c,p){var y=Hu;if(y&&typeof c=="string"&&c){var v=ji(c);v='link[rel="'+l+'"][href="'+v+'"]',typeof p=="string"&&(v+='[crossorigin="'+p+'"]'),vE.has(v)||(vE.add(v),l={rel:l,crossOrigin:p,href:c},y.querySelector(v)===null&&(c=y.createElement("link"),Tn(c,"link",l),dn(c),y.head.appendChild(c)))}}function hT(l){ys.D(l),EE("dns-prefetch",l,null)}function dT(l,c){ys.C(l,c),EE("preconnect",l,c)}function fT(l,c,p){ys.L(l,c,p);var y=Hu;if(y&&l&&c){var v='link[rel="preload"][as="'+ji(c)+'"]';c==="image"&&p&&p.imageSrcSet?(v+='[imagesrcset="'+ji(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(v+='[imagesizes="'+ji(p.imageSizes)+'"]')):v+='[href="'+ji(l)+'"]';var A=v;switch(c){case"style":A=qu(l);break;case"script":A=Gu(l)}Ki.has(A)||(l=f({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:l,as:c},p),Ki.set(A,l),y.querySelector(v)!==null||c==="style"&&y.querySelector(yd(A))||c==="script"&&y.querySelector(bd(A))||(c=y.createElement("link"),Tn(c,"link",l),dn(c),y.head.appendChild(c)))}}function pT(l,c){ys.m(l,c);var p=Hu;if(p&&l){var y=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+ji(y)+'"][href="'+ji(l)+'"]',A=v;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Gu(l)}if(!Ki.has(A)&&(l=f({rel:"modulepreload",href:l},c),Ki.set(A,l),p.querySelector(v)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(bd(A)))return}y=p.createElement("link"),Tn(y,"link",l),dn(y),p.head.appendChild(y)}}}function mT(l,c,p){ys.S(l,c,p);var y=Hu;if(y&&l){var v=hu(y).hoistableStyles,A=qu(l);c=c||"default";var O=v.get(A);if(!O){var U={loading:0,preload:null};if(O=y.querySelector(yd(A)))U.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":c},p),(p=Ki.get(A))&&L1(l,p);var W=O=y.createElement("link");dn(W),Tn(W,"link",l),W._p=new Promise(function(st,yt){W.onload=st,W.onerror=yt}),W.addEventListener("load",function(){U.loading|=1}),W.addEventListener("error",function(){U.loading|=2}),U.loading|=4,wm(O,c,y)}O={type:"stylesheet",instance:O,count:1,state:U},v.set(A,O)}}}function gT(l,c){ys.X(l,c);var p=Hu;if(p&&l){var y=hu(p).hoistableScripts,v=Gu(l),A=y.get(v);A||(A=p.querySelector(bd(v)),A||(l=f({src:l,async:!0},c),(c=Ki.get(v))&&$1(l,c),A=p.createElement("script"),dn(A),Tn(A,"link",l),p.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(v,A))}}function yT(l,c){ys.M(l,c);var p=Hu;if(p&&l){var y=hu(p).hoistableScripts,v=Gu(l),A=y.get(v);A||(A=p.querySelector(bd(v)),A||(l=f({src:l,async:!0,type:"module"},c),(c=Ki.get(v))&&$1(l,c),A=p.createElement("script"),dn(A),Tn(A,"link",l),p.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(v,A))}}function AE(l,c,p,y){var v=(v=wt.current)?Sm(v):null;if(!v)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=qu(p.href),p=hu(v).hoistableStyles,y=p.get(c),y||(y={type:"style",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=qu(p.href);var A=hu(v).hoistableStyles,O=A.get(l);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(l,O),(A=v.querySelector(yd(l)))&&!A._p&&(O.instance=A,O.state.loading=5),Ki.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ki.set(l,p),A||bT(v,l,p,O.state))),c&&y===null)throw Error(i(528,""));return O}if(c&&y!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Gu(p),p=hu(v).hoistableScripts,y=p.get(c),y||(y={type:"script",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function qu(l){return'href="'+ji(l)+'"'}function yd(l){return'link[rel="stylesheet"]['+l+"]"}function SE(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function bT(l,c,p,y){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=l.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),Tn(c,"link",p),dn(c),l.head.appendChild(c))}function Gu(l){return'[src="'+ji(l)+'"]'}function bd(l){return"script[async]"+l}function wE(l,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var y=l.querySelector('style[data-href~="'+ji(p.href)+'"]');if(y)return c.instance=y,dn(y),y;var v=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),dn(y),Tn(y,"style",v),wm(y,p.precedence,l),c.instance=y;case"stylesheet":v=qu(p.href);var A=l.querySelector(yd(v));if(A)return c.state.loading|=4,c.instance=A,dn(A),A;y=SE(p),(v=Ki.get(v))&&L1(y,v),A=(l.ownerDocument||l).createElement("link"),dn(A);var O=A;return O._p=new Promise(function(U,W){O.onload=U,O.onerror=W}),Tn(A,"link",y),c.state.loading|=4,wm(A,p.precedence,l),c.instance=A;case"script":return A=Gu(p.src),(v=l.querySelector(bd(A)))?(c.instance=v,dn(v),v):(y=p,(v=Ki.get(A))&&(y=f({},p),$1(y,v)),l=l.ownerDocument||l,v=l.createElement("script"),dn(v),Tn(v,"link",y),l.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,wm(y,p.precedence,l));return c.instance}function wm(l,c,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=y.length?y[y.length-1]:null,A=v,O=0;O<y.length;O++){var U=y[O];if(U.dataset.precedence===c)A=U;else if(A!==v)break}A?A.parentNode.insertBefore(l,A.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(l,c.firstChild))}function L1(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function $1(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var Tm=null;function TE(l,c,p){if(Tm===null){var y=new Map,v=Tm=new Map;v.set(p,y)}else v=Tm,y=v.get(p),y||(y=new Map,v.set(p,y));if(y.has(l))return y;for(y.set(l,null),p=p.getElementsByTagName(l),v=0;v<p.length;v++){var A=p[v];if(!(A[Dh]||A[Ln]||l==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var O=A.getAttribute(c)||"";O=l+O;var U=y.get(O);U?U.push(A):y.set(O,[A])}}return y}function CE(l,c,p){l=l.ownerDocument||l,l.head.insertBefore(p,c==="title"?l.querySelector("head > title"):null)}function xT(l,c,p){if(p===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function RE(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var xd=null;function vT(){}function ET(l,c,p){if(xd===null)throw Error(i(475));var y=xd;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=qu(p.href),A=l.querySelector(yd(v));if(A){l=A._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(y.count++,y=Cm.bind(y),l.then(y,y)),c.state.loading|=4,c.instance=A,dn(A);return}A=l.ownerDocument||l,p=SE(p),(v=Ki.get(v))&&L1(p,v),A=A.createElement("link"),dn(A);var O=A;O._p=new Promise(function(U,W){O.onload=U,O.onerror=W}),Tn(A,"link",p),c.instance=A}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(y.count++,c=Cm.bind(y),l.addEventListener("load",c),l.addEventListener("error",c))}}function AT(){if(xd===null)throw Error(i(475));var l=xd;return l.stylesheets&&l.count===0&&O1(l,l.stylesheets),0<l.count?function(c){var p=setTimeout(function(){if(l.stylesheets&&O1(l,l.stylesheets),l.unsuspend){var y=l.unsuspend;l.unsuspend=null,y()}},6e4);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(p)}}:null}function Cm(){if(this.count--,this.count===0){if(this.stylesheets)O1(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Rm=null;function O1(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Rm=new Map,c.forEach(ST,l),Rm=null,Cm.call(l))}function ST(l,c){if(!(c.state.loading&4)){var p=Rm.get(l);if(p)var y=p.get(null);else{p=new Map,Rm.set(l,p);for(var v=l.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<v.length;A++){var O=v[A];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(p.set(O.dataset.precedence,O),y=O)}y&&p.set(null,y)}v=c.instance,O=v.getAttribute("data-precedence"),A=p.get(O)||y,A===y&&p.set(null,v),p.set(O,v),this.count++,y=Cm.bind(this),v.addEventListener("load",y),v.addEventListener("error",y),A?A.parentNode.insertBefore(v,A.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(v,l.firstChild)),c.state.loading|=4}}var vd={$$typeof:P,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function wT(l,c,p,y,v,A,O,U){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=y,this.onUncaughtError=v,this.onCaughtError=A,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function _E(l,c,p,y,v,A,O,U,W,st,yt,xt){return l=new wT(l,c,p,O,U,W,st,xt),c=1,A===!0&&(c|=24),A=fi(3,null,null,c),l.current=A,A.stateNode=l,c=gy(),c.refCount++,l.pooledCache=c,c.refCount++,A.memoizedState={element:y,isDehydrated:p,cache:c},vy(A),l}function kE(l){return l?(l=Su,l):Su}function DE(l,c,p,y,v,A){v=kE(v),y.context===null?y.context=v:y.pendingContext=v,y=ca(c),y.payload={element:p},A=A===void 0?null:A,A!==null&&(y.callback=A),p=ha(l,y,c),p!==null&&(bi(p,l,c),Xh(p,l,c))}function ME(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<c?p:c}}function I1(l,c){ME(l,c),(l=l.alternate)&&ME(l,c)}function PE(l){if(l.tag===13){var c=Au(l,67108864);c!==null&&bi(c,l,67108864),I1(l,67108864)}}var _m=!0;function TT(l,c,p,y){var v=Q.T;Q.T=null;var A=Z.p;try{Z.p=2,B1(l,c,p,y)}finally{Z.p=A,Q.T=v}}function CT(l,c,p,y){var v=Q.T;Q.T=null;var A=Z.p;try{Z.p=8,B1(l,c,p,y)}finally{Z.p=A,Q.T=v}}function B1(l,c,p,y){if(_m){var v=N1(y);if(v===null)w1(l,c,y,km,p),$E(l,y);else if(_T(v,l,c,p,y))y.stopPropagation();else if($E(l,y),c&4&&-1<RT.indexOf(l)){for(;v!==null;){var A=cu(v);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var O=mt(A.pendingLanes);if(O!==0){var U=A;for(U.pendingLanes|=2,U.entangledLanes|=2;O;){var W=1<<31-C(O);U.entanglements[1]|=W,O&=~W}Mr(A),(de&6)===0&&(dm=ge()+500,fd(0))}}break;case 13:U=Au(A,2),U!==null&&bi(U,A,2),pm(),I1(A,2)}if(A=N1(y),A===null&&w1(l,c,y,km,p),A===v)break;v=A}v!==null&&y.stopPropagation()}else w1(l,c,y,null,p)}}function N1(l){return l=zg(l),F1(l)}var km=null;function F1(l){if(km=null,l=uu(l),l!==null){var c=a(l);if(c===null)l=null;else{var p=c.tag;if(p===13){if(l=o(c),l!==null)return l;l=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return km=l,null}function LE(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case Un:return 2;case zn:return 8;case Ke:case Xe:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var V1=!1,wa=null,Ta=null,Ca=null,Ed=new Map,Ad=new Map,Ra=[],RT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $E(l,c){switch(l){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Ed.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(c.pointerId)}}function Sd(l,c,p,y,v,A){return l===null||l.nativeEvent!==A?(l={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:A,targetContainers:[v]},c!==null&&(c=cu(c),c!==null&&PE(c)),l):(l.eventSystemFlags|=y,c=l.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),l)}function _T(l,c,p,y,v){switch(c){case"focusin":return wa=Sd(wa,l,c,p,y,v),!0;case"dragenter":return Ta=Sd(Ta,l,c,p,y,v),!0;case"mouseover":return Ca=Sd(Ca,l,c,p,y,v),!0;case"pointerover":var A=v.pointerId;return Ed.set(A,Sd(Ed.get(A)||null,l,c,p,y,v)),!0;case"gotpointercapture":return A=v.pointerId,Ad.set(A,Sd(Ad.get(A)||null,l,c,p,y,v)),!0}return!1}function OE(l){var c=uu(l.target);if(c!==null){var p=a(c);if(p!==null){if(c=p.tag,c===13){if(c=o(p),c!==null){l.blockedOn=c,vS(l.priority,function(){if(p.tag===13){var y=yi();y=Pg(y);var v=Au(p,y);v!==null&&bi(v,p,y),I1(p,y)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Dm(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var p=N1(l.nativeEvent);if(p===null){p=l.nativeEvent;var y=new p.constructor(p.type,p);Ug=y,p.target.dispatchEvent(y),Ug=null}else return c=cu(p),c!==null&&PE(c),l.blockedOn=p,!1;c.shift()}return!0}function IE(l,c,p){Dm(l)&&p.delete(c)}function kT(){V1=!1,wa!==null&&Dm(wa)&&(wa=null),Ta!==null&&Dm(Ta)&&(Ta=null),Ca!==null&&Dm(Ca)&&(Ca=null),Ed.forEach(IE),Ad.forEach(IE)}function Mm(l,c){l.blockedOn===c&&(l.blockedOn=null,V1||(V1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kT)))}var Pm=null;function BE(l){Pm!==l&&(Pm=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pm===l&&(Pm=null);for(var c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],v=l[c+2];if(typeof y!="function"){if(F1(y||p)===null)continue;break}var A=cu(p);A!==null&&(l.splice(c,3),c-=3,Fy(A,{pending:!0,data:v,method:p.method,action:y},y,v))}}))}function wd(l){function c(W){return Mm(W,l)}wa!==null&&Mm(wa,l),Ta!==null&&Mm(Ta,l),Ca!==null&&Mm(Ca,l),Ed.forEach(c),Ad.forEach(c);for(var p=0;p<Ra.length;p++){var y=Ra[p];y.blockedOn===l&&(y.blockedOn=null)}for(;0<Ra.length&&(p=Ra[0],p.blockedOn===null);)OE(p),p.blockedOn===null&&Ra.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var v=p[y],A=p[y+1],O=v[Jn]||null;if(typeof A=="function")O||BE(p);else if(O){var U=null;if(A&&A.hasAttribute("formAction")){if(v=A,O=A[Jn]||null)U=O.formAction;else if(F1(v)!==null)continue}else U=O.action;typeof U=="function"?p[y+1]=U:(p.splice(y,3),y-=3),BE(p)}}}function j1(l){this._internalRoot=l}Lm.prototype.render=j1.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,y=yi();DE(p,y,l,c,null,null)},Lm.prototype.unmount=j1.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;DE(l.current,2,null,l,null,null),pm(),c[lu]=null}};function Lm(l){this._internalRoot=l}Lm.prototype.unstable_scheduleHydration=function(l){if(l){var c=Jb();l={blockedOn:null,target:l,priority:c};for(var p=0;p<Ra.length&&c!==0&&c<Ra[p].priority;p++);Ra.splice(p,0,l),p===0&&OE(l)}};var NE=t.version;if(NE!=="19.1.0")throw Error(i(527,NE,"19.1.0"));Z.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=h(c),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var DT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{Y=$m.inject(DT),M=$m}catch{}}return reactDomClient_production.createRoot=function(l,c){if(!s(l))throw Error(i(299));var p=!1,y="",v=tv,A=ev,O=nv,U=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(U=c.unstable_transitionCallbacks)),c=_E(l,1,!1,null,null,p,y,v,A,O,U,null),l[lu]=c.current,S1(l),new j1(c)},reactDomClient_production.hydrateRoot=function(l,c,p){if(!s(l))throw Error(i(299));var y=!1,v="",A=tv,O=ev,U=nv,W=null,st=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(v=p.identifierPrefix),p.onUncaughtError!==void 0&&(A=p.onUncaughtError),p.onCaughtError!==void 0&&(O=p.onCaughtError),p.onRecoverableError!==void 0&&(U=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(W=p.unstable_transitionCallbacks),p.formState!==void 0&&(st=p.formState)),c=_E(l,1,!0,c,p??null,y,v,A,O,U,W,st),c.context=kE(null),p=c.current,y=yi(),y=Pg(y),v=ca(y),v.callback=null,ha(p,v,y),p=y,c.current.lanes=p,Fe(c,p),Mr(c),l[lu]=c.current,S1(l),new Lm(c)},reactDomClient_production.version="19.1.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient(),buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=u,base64Js.toByteArray=d,base64Js.fromByteArray=b;for(var n=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],t[i.charCodeAt(s)]=s;t[45]=62,t[95]=63;function o(x){var E=x.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=x.indexOf("=");S===-1&&(S=E);var R=S===E?0:4-S%4;return[S,R]}function u(x){var E=o(x),S=E[0],R=E[1];return(S+R)*3/4-R}function h(x,E,S){return(E+S)*3/4-S}function d(x){var E,S=o(x),R=S[0],w=S[1],L=new e(h(x,R,w)),P=0,V=w>0?R-4:R,B;for(B=0;B<V;B+=4)E=t[x.charCodeAt(B)]<<18|t[x.charCodeAt(B+1)]<<12|t[x.charCodeAt(B+2)]<<6|t[x.charCodeAt(B+3)],L[P++]=E>>16&255,L[P++]=E>>8&255,L[P++]=E&255;return w===2&&(E=t[x.charCodeAt(B)]<<2|t[x.charCodeAt(B+1)]>>4,L[P++]=E&255),w===1&&(E=t[x.charCodeAt(B)]<<10|t[x.charCodeAt(B+1)]<<4|t[x.charCodeAt(B+2)]>>2,L[P++]=E>>8&255,L[P++]=E&255),L}function f(x){return n[x>>18&63]+n[x>>12&63]+n[x>>6&63]+n[x&63]}function g(x,E,S){for(var R,w=[],L=E;L<S;L+=3)R=(x[L]<<16&16711680)+(x[L+1]<<8&65280)+(x[L+2]&255),w.push(f(R));return w.join("")}function b(x){for(var E,S=x.length,R=S%3,w=[],L=16383,P=0,V=S-R;P<V;P+=L)w.push(g(x,P,P+L>V?V:P+L));return R===1?(E=x[S-1],w.push(n[E>>2]+n[E<<4&63]+"==")):R===2&&(E=(x[S-2]<<8)+x[S-1],w.push(n[E>>10]+n[E>>4&63]+n[E<<2&63]+"=")),w.join("")}return base64Js}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(n,t,e,i,s){var a,o,u=s*8-i-1,h=(1<<u)-1,d=h>>1,f=-7,g=e?s-1:0,b=e?-1:1,x=n[t+g];for(g+=b,a=x&(1<<-f)-1,x>>=-f,f+=u;f>0;a=a*256+n[t+g],g+=b,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=i;f>0;o=o*256+n[t+g],g+=b,f-=8);if(a===0)a=1-d;else{if(a===h)return o?NaN:(x?-1:1)*(1/0);o=o+Math.pow(2,i),a=a-d}return(x?-1:1)*o*Math.pow(2,a-i)},ieee754.write=function(n,t,e,i,s,a){var o,u,h,d=a*8-s-1,f=(1<<d)-1,g=f>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=i?0:a-1,E=i?1:-1,S=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-o))<1&&(o--,h*=2),o+g>=1?t+=b/h:t+=b*Math.pow(2,1-g),t*h>=2&&(o++,h/=2),o+g>=f?(u=0,o=f):o+g>=1?(u=(t*h-1)*Math.pow(2,s),o=o+g):(u=t*Math.pow(2,g-1)*Math.pow(2,s),o=0));s>=8;n[e+x]=u&255,x+=E,u/=256,s-=8);for(o=o<<s|u,d+=s;d>0;n[e+x]=o&255,x+=E,o/=256,d-=8);n[e+x-E]|=S*128}),ieee754}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,function(n){const t=requireBase64Js(),e=requireIeee754(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=L,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const M=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(M,T),M.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function o(M){if(M>s)throw new RangeError('The value "'+M+'" is invalid for option "size"');const T=new Uint8Array(M);return Object.setPrototypeOf(T,u.prototype),T}function u(M,T,C){if(typeof M=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(M)}return h(M,T,C)}u.poolSize=8192;function h(M,T,C){if(typeof M=="string")return b(M,T);if(ArrayBuffer.isView(M))return E(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(Xe(M,ArrayBuffer)||M&&Xe(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xe(M,SharedArrayBuffer)||M&&Xe(M.buffer,SharedArrayBuffer)))return S(M,T,C);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=M.valueOf&&M.valueOf();if(k!=null&&k!==M)return u.from(k,T,C);const j=R(M);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return u.from(M[Symbol.toPrimitive]("string"),T,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}u.from=function(M,T,C){return h(M,T,C)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function d(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function f(M,T,C){return d(M),M<=0?o(M):T!==void 0?typeof C=="string"?o(M).fill(T,C):o(M).fill(T):o(M)}u.alloc=function(M,T,C){return f(M,T,C)};function g(M){return d(M),o(M<0?0:w(M)|0)}u.allocUnsafe=function(M){return g(M)},u.allocUnsafeSlow=function(M){return g(M)};function b(M,T){if((typeof T!="string"||T==="")&&(T="utf8"),!u.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const C=P(M,T)|0;let k=o(C);const j=k.write(M,T);return j!==C&&(k=k.slice(0,j)),k}function x(M){const T=M.length<0?0:w(M.length)|0,C=o(T);for(let k=0;k<T;k+=1)C[k]=M[k]&255;return C}function E(M){if(Xe(M,Uint8Array)){const T=new Uint8Array(M);return S(T.buffer,T.byteOffset,T.byteLength)}return x(M)}function S(M,T,C){if(T<0||M.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<T+(C||0))throw new RangeError('"length" is outside of buffer bounds');let k;return T===void 0&&C===void 0?k=new Uint8Array(M):C===void 0?k=new Uint8Array(M,T):k=new Uint8Array(M,T,C),Object.setPrototypeOf(k,u.prototype),k}function R(M){if(u.isBuffer(M)){const T=w(M.length)|0,C=o(T);return C.length===0||M.copy(C,0,0,T),C}if(M.length!==void 0)return typeof M.length!="number"||Zn(M.length)?o(0):x(M);if(M.type==="Buffer"&&Array.isArray(M.data))return x(M.data)}function w(M){if(M>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return M|0}function L(M){return+M!=M&&(M=0),u.alloc(+M)}u.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==u.prototype},u.compare=function(T,C){if(Xe(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),Xe(C,Uint8Array)&&(C=u.from(C,C.offset,C.byteLength)),!u.isBuffer(T)||!u.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===C)return 0;let k=T.length,j=C.length;for(let q=0,X=Math.min(k,j);q<X;++q)if(T[q]!==C[q]){k=T[q],j=C[q];break}return k<j?-1:j<k?1:0},u.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(T,C){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return u.alloc(0);let k;if(C===void 0)for(C=0,k=0;k<T.length;++k)C+=T[k].length;const j=u.allocUnsafe(C);let q=0;for(k=0;k<T.length;++k){let X=T[k];if(Xe(X,Uint8Array))q+X.length>j.length?(u.isBuffer(X)||(X=u.from(X)),X.copy(j,q)):Uint8Array.prototype.set.call(j,X,q);else if(u.isBuffer(X))X.copy(j,q);else throw new TypeError('"list" argument must be an Array of Buffers');q+=X.length}return j};function P(M,T){if(u.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||Xe(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const C=M.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&C===0)return 0;let j=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return ge(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return zn(M).length;default:if(j)return k?-1:ge(M).length;T=(""+T).toLowerCase(),j=!0}}u.byteLength=P;function V(M,T,C){let k=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,T>>>=0,C<=T))return"";for(M||(M="utf8");;)switch(M){case"hex":return Ct(this,T,C);case"utf8":case"utf-8":return ot(this,T,C);case"ascii":return Z(this,T,C);case"latin1":case"binary":return it(this,T,C);case"base64":return Et(this,T,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,T,C);default:if(k)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),k=!0}}u.prototype._isBuffer=!0;function B(M,T,C){const k=M[T];M[T]=M[C],M[C]=k}u.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<T;C+=2)B(this,C,C+1);return this},u.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<T;C+=4)B(this,C,C+3),B(this,C+1,C+2);return this},u.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<T;C+=8)B(this,C,C+7),B(this,C+1,C+6),B(this,C+2,C+5),B(this,C+3,C+4);return this},u.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?ot(this,0,T):V.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(T){if(!u.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:u.compare(this,T)===0},u.prototype.inspect=function(){let T="";const C=n.INSPECT_MAX_BYTES;return T=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(T+=" ... "),"<Buffer "+T+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(T,C,k,j,q){if(Xe(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),!u.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(C===void 0&&(C=0),k===void 0&&(k=T?T.length:0),j===void 0&&(j=0),q===void 0&&(q=this.length),C<0||k>T.length||j<0||q>this.length)throw new RangeError("out of range index");if(j>=q&&C>=k)return 0;if(j>=q)return-1;if(C>=k)return 1;if(C>>>=0,k>>>=0,j>>>=0,q>>>=0,this===T)return 0;let X=q-j,ct=k-C;const mt=Math.min(X,ct),lt=this.slice(j,q),vt=T.slice(C,k);for(let gt=0;gt<mt;++gt)if(lt[gt]!==vt[gt]){X=lt[gt],ct=vt[gt];break}return X<ct?-1:ct<X?1:0};function F(M,T,C,k,j){if(M.length===0)return-1;if(typeof C=="string"?(k=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,Zn(C)&&(C=j?0:M.length-1),C<0&&(C=M.length+C),C>=M.length){if(j)return-1;C=M.length-1}else if(C<0)if(j)C=0;else return-1;if(typeof T=="string"&&(T=u.from(T,k)),u.isBuffer(T))return T.length===0?-1:H(M,T,C,k,j);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(M,T,C):Uint8Array.prototype.lastIndexOf.call(M,T,C):H(M,[T],C,k,j);throw new TypeError("val must be string, number or Buffer")}function H(M,T,C,k,j){let q=1,X=M.length,ct=T.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(M.length<2||T.length<2)return-1;q=2,X/=2,ct/=2,C/=2}function mt(vt,gt){return q===1?vt[gt]:vt.readUInt16BE(gt*q)}let lt;if(j){let vt=-1;for(lt=C;lt<X;lt++)if(mt(M,lt)===mt(T,vt===-1?0:lt-vt)){if(vt===-1&&(vt=lt),lt-vt+1===ct)return vt*q}else vt!==-1&&(lt-=lt-vt),vt=-1}else for(C+ct>X&&(C=X-ct),lt=C;lt>=0;lt--){let vt=!0;for(let gt=0;gt<ct;gt++)if(mt(M,lt+gt)!==mt(T,gt)){vt=!1;break}if(vt)return lt}return-1}u.prototype.includes=function(T,C,k){return this.indexOf(T,C,k)!==-1},u.prototype.indexOf=function(T,C,k){return F(this,T,C,k,!0)},u.prototype.lastIndexOf=function(T,C,k){return F(this,T,C,k,!1)};function K(M,T,C,k){C=Number(C)||0;const j=M.length-C;k?(k=Number(k),k>j&&(k=j)):k=j;const q=T.length;k>q/2&&(k=q/2);let X;for(X=0;X<k;++X){const ct=parseInt(T.substr(X*2,2),16);if(Zn(ct))return X;M[C+X]=ct}return X}function J(M,T,C,k){return Ke(ge(T,M.length-C),M,C,k)}function G(M,T,C,k){return Ke(Ye(T),M,C,k)}function et(M,T,C,k){return Ke(zn(T),M,C,k)}function ut(M,T,C,k){return Ke(Un(T,M.length-C),M,C,k)}u.prototype.write=function(T,C,k,j){if(C===void 0)j="utf8",k=this.length,C=0;else if(k===void 0&&typeof C=="string")j=C,k=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(k)?(k=k>>>0,j===void 0&&(j="utf8")):(j=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const q=this.length-C;if((k===void 0||k>q)&&(k=q),T.length>0&&(k<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let X=!1;for(;;)switch(j){case"hex":return K(this,T,C,k);case"utf8":case"utf-8":return J(this,T,C,k);case"ascii":case"latin1":case"binary":return G(this,T,C,k);case"base64":return et(this,T,C,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ut(this,T,C,k);default:if(X)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),X=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Et(M,T,C){return T===0&&C===M.length?t.fromByteArray(M):t.fromByteArray(M.slice(T,C))}function ot(M,T,C){C=Math.min(M.length,C);const k=[];let j=T;for(;j<C;){const q=M[j];let X=null,ct=q>239?4:q>223?3:q>191?2:1;if(j+ct<=C){let mt,lt,vt,gt;switch(ct){case 1:q<128&&(X=q);break;case 2:mt=M[j+1],(mt&192)===128&&(gt=(q&31)<<6|mt&63,gt>127&&(X=gt));break;case 3:mt=M[j+1],lt=M[j+2],(mt&192)===128&&(lt&192)===128&&(gt=(q&15)<<12|(mt&63)<<6|lt&63,gt>2047&&(gt<55296||gt>57343)&&(X=gt));break;case 4:mt=M[j+1],lt=M[j+2],vt=M[j+3],(mt&192)===128&&(lt&192)===128&&(vt&192)===128&&(gt=(q&15)<<18|(mt&63)<<12|(lt&63)<<6|vt&63,gt>65535&&gt<1114112&&(X=gt))}}X===null?(X=65533,ct=1):X>65535&&(X-=65536,k.push(X>>>10&1023|55296),X=56320|X&1023),k.push(X),j+=ct}return Q(k)}const dt=4096;function Q(M){const T=M.length;if(T<=dt)return String.fromCharCode.apply(String,M);let C="",k=0;for(;k<T;)C+=String.fromCharCode.apply(String,M.slice(k,k+=dt));return C}function Z(M,T,C){let k="";C=Math.min(M.length,C);for(let j=T;j<C;++j)k+=String.fromCharCode(M[j]&127);return k}function it(M,T,C){let k="";C=Math.min(M.length,C);for(let j=T;j<C;++j)k+=String.fromCharCode(M[j]);return k}function Ct(M,T,C){const k=M.length;(!T||T<0)&&(T=0),(!C||C<0||C>k)&&(C=k);let j="";for(let q=T;q<C;++q)j+=Fi[M[q]];return j}function I(M,T,C){const k=M.slice(T,C);let j="";for(let q=0;q<k.length-1;q+=2)j+=String.fromCharCode(k[q]+k[q+1]*256);return j}u.prototype.slice=function(T,C){const k=this.length;T=~~T,C=C===void 0?k:~~C,T<0?(T+=k,T<0&&(T=0)):T>k&&(T=k),C<0?(C+=k,C<0&&(C=0)):C>k&&(C=k),C<T&&(C=T);const j=this.subarray(T,C);return Object.setPrototypeOf(j,u.prototype),j};function at(M,T,C){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+T>C)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(T,C,k){T=T>>>0,C=C>>>0,k||at(T,C,this.length);let j=this[T],q=1,X=0;for(;++X<C&&(q*=256);)j+=this[T+X]*q;return j},u.prototype.readUintBE=u.prototype.readUIntBE=function(T,C,k){T=T>>>0,C=C>>>0,k||at(T,C,this.length);let j=this[T+--C],q=1;for(;C>0&&(q*=256);)j+=this[T+--C]*q;return j},u.prototype.readUint8=u.prototype.readUInt8=function(T,C){return T=T>>>0,C||at(T,1,this.length),this[T]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(T,C){return T=T>>>0,C||at(T,2,this.length),this[T]|this[T+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(T,C){return T=T>>>0,C||at(T,2,this.length),this[T]<<8|this[T+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(T,C){return T=T>>>0,C||at(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(T,C){return T=T>>>0,C||at(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},u.prototype.readBigUInt64LE=_(function(T){T=T>>>0,Ft(T,"offset");const C=this[T],k=this[T+7];(C===void 0||k===void 0)&&Yt(T,this.length-8);const j=C+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,q=this[++T]+this[++T]*2**8+this[++T]*2**16+k*2**24;return BigInt(j)+(BigInt(q)<<BigInt(32))}),u.prototype.readBigUInt64BE=_(function(T){T=T>>>0,Ft(T,"offset");const C=this[T],k=this[T+7];(C===void 0||k===void 0)&&Yt(T,this.length-8);const j=C*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],q=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+k;return(BigInt(j)<<BigInt(32))+BigInt(q)}),u.prototype.readIntLE=function(T,C,k){T=T>>>0,C=C>>>0,k||at(T,C,this.length);let j=this[T],q=1,X=0;for(;++X<C&&(q*=256);)j+=this[T+X]*q;return q*=128,j>=q&&(j-=Math.pow(2,8*C)),j},u.prototype.readIntBE=function(T,C,k){T=T>>>0,C=C>>>0,k||at(T,C,this.length);let j=C,q=1,X=this[T+--j];for(;j>0&&(q*=256);)X+=this[T+--j]*q;return q*=128,X>=q&&(X-=Math.pow(2,8*C)),X},u.prototype.readInt8=function(T,C){return T=T>>>0,C||at(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},u.prototype.readInt16LE=function(T,C){T=T>>>0,C||at(T,2,this.length);const k=this[T]|this[T+1]<<8;return k&32768?k|4294901760:k},u.prototype.readInt16BE=function(T,C){T=T>>>0,C||at(T,2,this.length);const k=this[T+1]|this[T]<<8;return k&32768?k|4294901760:k},u.prototype.readInt32LE=function(T,C){return T=T>>>0,C||at(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},u.prototype.readInt32BE=function(T,C){return T=T>>>0,C||at(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},u.prototype.readBigInt64LE=_(function(T){T=T>>>0,Ft(T,"offset");const C=this[T],k=this[T+7];(C===void 0||k===void 0)&&Yt(T,this.length-8);const j=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(k<<24);return(BigInt(j)<<BigInt(32))+BigInt(C+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),u.prototype.readBigInt64BE=_(function(T){T=T>>>0,Ft(T,"offset");const C=this[T],k=this[T+7];(C===void 0||k===void 0)&&Yt(T,this.length-8);const j=(C<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(j)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+k)}),u.prototype.readFloatLE=function(T,C){return T=T>>>0,C||at(T,4,this.length),e.read(this,T,!0,23,4)},u.prototype.readFloatBE=function(T,C){return T=T>>>0,C||at(T,4,this.length),e.read(this,T,!1,23,4)},u.prototype.readDoubleLE=function(T,C){return T=T>>>0,C||at(T,8,this.length),e.read(this,T,!0,52,8)},u.prototype.readDoubleBE=function(T,C){return T=T>>>0,C||at(T,8,this.length),e.read(this,T,!1,52,8)};function pt(M,T,C,k,j,q){if(!u.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>j||T<q)throw new RangeError('"value" argument is out of bounds');if(C+k>M.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(T,C,k,j){if(T=+T,C=C>>>0,k=k>>>0,!j){const ct=Math.pow(2,8*k)-1;pt(this,T,C,k,ct,0)}let q=1,X=0;for(this[C]=T&255;++X<k&&(q*=256);)this[C+X]=T/q&255;return C+k},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(T,C,k,j){if(T=+T,C=C>>>0,k=k>>>0,!j){const ct=Math.pow(2,8*k)-1;pt(this,T,C,k,ct,0)}let q=k-1,X=1;for(this[C+q]=T&255;--q>=0&&(X*=256);)this[C+q]=T/X&255;return C+k},u.prototype.writeUint8=u.prototype.writeUInt8=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,1,255,0),this[C]=T&255,C+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,2,65535,0),this[C]=T&255,this[C+1]=T>>>8,C+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,2,65535,0),this[C]=T>>>8,this[C+1]=T&255,C+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,4,4294967295,0),this[C+3]=T>>>24,this[C+2]=T>>>16,this[C+1]=T>>>8,this[C]=T&255,C+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,4,4294967295,0),this[C]=T>>>24,this[C+1]=T>>>16,this[C+2]=T>>>8,this[C+3]=T&255,C+4};function z(M,T,C,k,j){Me(T,k,j,M,C,7);let q=Number(T&BigInt(4294967295));M[C++]=q,q=q>>8,M[C++]=q,q=q>>8,M[C++]=q,q=q>>8,M[C++]=q;let X=Number(T>>BigInt(32)&BigInt(4294967295));return M[C++]=X,X=X>>8,M[C++]=X,X=X>>8,M[C++]=X,X=X>>8,M[C++]=X,C}function St(M,T,C,k,j){Me(T,k,j,M,C,7);let q=Number(T&BigInt(4294967295));M[C+7]=q,q=q>>8,M[C+6]=q,q=q>>8,M[C+5]=q,q=q>>8,M[C+4]=q;let X=Number(T>>BigInt(32)&BigInt(4294967295));return M[C+3]=X,X=X>>8,M[C+2]=X,X=X>>8,M[C+1]=X,X=X>>8,M[C]=X,C+8}u.prototype.writeBigUInt64LE=_(function(T,C=0){return z(this,T,C,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=_(function(T,C=0){return St(this,T,C,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(T,C,k,j){if(T=+T,C=C>>>0,!j){const mt=Math.pow(2,8*k-1);pt(this,T,C,k,mt-1,-mt)}let q=0,X=1,ct=0;for(this[C]=T&255;++q<k&&(X*=256);)T<0&&ct===0&&this[C+q-1]!==0&&(ct=1),this[C+q]=(T/X>>0)-ct&255;return C+k},u.prototype.writeIntBE=function(T,C,k,j){if(T=+T,C=C>>>0,!j){const mt=Math.pow(2,8*k-1);pt(this,T,C,k,mt-1,-mt)}let q=k-1,X=1,ct=0;for(this[C+q]=T&255;--q>=0&&(X*=256);)T<0&&ct===0&&this[C+q+1]!==0&&(ct=1),this[C+q]=(T/X>>0)-ct&255;return C+k},u.prototype.writeInt8=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,1,127,-128),T<0&&(T=255+T+1),this[C]=T&255,C+1},u.prototype.writeInt16LE=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,2,32767,-32768),this[C]=T&255,this[C+1]=T>>>8,C+2},u.prototype.writeInt16BE=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,2,32767,-32768),this[C]=T>>>8,this[C+1]=T&255,C+2},u.prototype.writeInt32LE=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,4,2147483647,-2147483648),this[C]=T&255,this[C+1]=T>>>8,this[C+2]=T>>>16,this[C+3]=T>>>24,C+4},u.prototype.writeInt32BE=function(T,C,k){return T=+T,C=C>>>0,k||pt(this,T,C,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[C]=T>>>24,this[C+1]=T>>>16,this[C+2]=T>>>8,this[C+3]=T&255,C+4},u.prototype.writeBigInt64LE=_(function(T,C=0){return z(this,T,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=_(function(T,C=0){return St(this,T,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Tt(M,T,C,k,j,q){if(C+k>M.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function wt(M,T,C,k,j){return T=+T,C=C>>>0,j||Tt(M,T,C,4),e.write(M,T,C,k,23,4),C+4}u.prototype.writeFloatLE=function(T,C,k){return wt(this,T,C,!0,k)},u.prototype.writeFloatBE=function(T,C,k){return wt(this,T,C,!1,k)};function Lt(M,T,C,k,j){return T=+T,C=C>>>0,j||Tt(M,T,C,8),e.write(M,T,C,k,52,8),C+8}u.prototype.writeDoubleLE=function(T,C,k){return Lt(this,T,C,!0,k)},u.prototype.writeDoubleBE=function(T,C,k){return Lt(this,T,C,!1,k)},u.prototype.copy=function(T,C,k,j){if(!u.isBuffer(T))throw new TypeError("argument should be a Buffer");if(k||(k=0),!j&&j!==0&&(j=this.length),C>=T.length&&(C=T.length),C||(C=0),j>0&&j<k&&(j=k),j===k||T.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),T.length-C<j-k&&(j=T.length-C+k);const q=j-k;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,k,j):Uint8Array.prototype.set.call(T,this.subarray(k,j),C),q},u.prototype.fill=function(T,C,k,j){if(typeof T=="string"){if(typeof C=="string"?(j=C,C=0,k=this.length):typeof k=="string"&&(j=k,k=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!u.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(T.length===1){const X=T.charCodeAt(0);(j==="utf8"&&X<128||j==="latin1")&&(T=X)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(C<0||this.length<C||this.length<k)throw new RangeError("Out of range index");if(k<=C)return this;C=C>>>0,k=k===void 0?this.length:k>>>0,T||(T=0);let q;if(typeof T=="number")for(q=C;q<k;++q)this[q]=T;else{const X=u.isBuffer(T)?T:u.from(T,j),ct=X.length;if(ct===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(q=0;q<k-C;++q)this[q+C]=X[q%ct]}return this};const Ot={};function Xt(M,T,C){Ot[M]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}Xt("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Xt("ERR_INVALID_ARG_TYPE",function(M,T){return`The "${M}" argument must be of type number. Received type ${typeof T}`},TypeError),Xt("ERR_OUT_OF_RANGE",function(M,T,C){let k=`The value of "${M}" is out of range.`,j=C;return Number.isInteger(C)&&Math.abs(C)>2**32?j=jt(String(C)):typeof C=="bigint"&&(j=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(j=jt(j)),j+="n"),k+=` It must be ${T}. Received ${j}`,k},RangeError);function jt(M){let T="",C=M.length;const k=M[0]==="-"?1:0;for(;C>=k+4;C-=3)T=`_${M.slice(C-3,C)}${T}`;return`${M.slice(0,C)}${T}`}function ue(M,T,C){Ft(T,"offset"),(M[T]===void 0||M[T+C]===void 0)&&Yt(T,M.length-(C+1))}function Me(M,T,C,k,j,q){if(M>C||M<T){const X=typeof T=="bigint"?"n":"";let ct;throw T===0||T===BigInt(0)?ct=`>= 0${X} and < 2${X} ** ${(q+1)*8}${X}`:ct=`>= -(2${X} ** ${(q+1)*8-1}${X}) and < 2 ** ${(q+1)*8-1}${X}`,new Ot.ERR_OUT_OF_RANGE("value",ct,M)}ue(k,j,q)}function Ft(M,T){if(typeof M!="number")throw new Ot.ERR_INVALID_ARG_TYPE(T,"number",M)}function Yt(M,T,C){throw Math.floor(M)!==M?(Ft(M,C),new Ot.ERR_OUT_OF_RANGE("offset","an integer",M)):T<0?new Ot.ERR_BUFFER_OUT_OF_BOUNDS:new Ot.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${T}`,M)}const ae=/[^+/0-9A-Za-z-_]/g;function ce(M){if(M=M.split("=")[0],M=M.trim().replace(ae,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function ge(M,T){T=T||1/0;let C;const k=M.length;let j=null;const q=[];for(let X=0;X<k;++X){if(C=M.charCodeAt(X),C>55295&&C<57344){if(!j){if(C>56319){(T-=3)>-1&&q.push(239,191,189);continue}else if(X+1===k){(T-=3)>-1&&q.push(239,191,189);continue}j=C;continue}if(C<56320){(T-=3)>-1&&q.push(239,191,189),j=C;continue}C=(j-55296<<10|C-56320)+65536}else j&&(T-=3)>-1&&q.push(239,191,189);if(j=null,C<128){if((T-=1)<0)break;q.push(C)}else if(C<2048){if((T-=2)<0)break;q.push(C>>6|192,C&63|128)}else if(C<65536){if((T-=3)<0)break;q.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((T-=4)<0)break;q.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return q}function Ye(M){const T=[];for(let C=0;C<M.length;++C)T.push(M.charCodeAt(C)&255);return T}function Un(M,T){let C,k,j;const q=[];for(let X=0;X<M.length&&!((T-=2)<0);++X)C=M.charCodeAt(X),k=C>>8,j=C%256,q.push(j),q.push(k);return q}function zn(M){return t.toByteArray(ce(M))}function Ke(M,T,C,k){let j;for(j=0;j<k&&!(j+C>=T.length||j>=M.length);++j)T[j+C]=M[j];return j}function Xe(M,T){return M instanceof T||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===T.name}function Zn(M){return M!==M}const Fi=function(){const M="0123456789abcdef",T=new Array(256);for(let C=0;C<16;++C){const k=C*16;for(let j=0;j<16;++j)T[k+j]=M[C]+M[j]}return T}();function _(M){return typeof BigInt>"u"?Y:M}function Y(){throw new Error("BigInt not supported")}}(buffer)),buffer}var bufferExports=requireBuffer();window.Buffer=bufferExports.Buffer;var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=o,dist.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function o(b,x){const E=new a,S=b.length;if(S<2)return E;const R=(x==null?void 0:x.decode)||f;let w=0;do{const L=b.indexOf("=",w);if(L===-1)break;const P=b.indexOf(";",w),V=P===-1?S:P;if(L>V){w=b.lastIndexOf(";",L-1)+1;continue}const B=u(b,w,L),F=h(b,L,B),H=b.slice(B,F);if(E[H]===void 0){let K=u(b,L+1,V),J=h(b,V,K);const G=R(b.slice(K,J));E[H]=G}w=V+1}while(w<S);return E}function u(b,x,E){do{const S=b.charCodeAt(x);if(S!==32&&S!==9)return x}while(++x<E);return E}function h(b,x,E){for(;x>E;){const S=b.charCodeAt(--x);if(S!==32&&S!==9)return x+1}return E}function d(b,x,E){const S=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const R=S(x);if(!t.test(R))throw new TypeError(`argument val is invalid: ${x}`);let w=b+"="+R;if(!E)return w;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);w+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);w+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);w+="; Path="+E.path}if(E.expires){if(!g(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);w+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(w+="; HttpOnly"),E.secure&&(w+="; Secure"),E.partitioned&&(w+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return w}function f(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return s.call(b)==="[object Date]"}return dist}requireDist();var PopStateEventType="popstate";function createBrowserHistory(n={}){function t(i,s){let{pathname:a,search:o,hash:u}=i.location;return createLocation("",{pathname:a,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:createPath(s)}return getUrlBasedHistory(t,e,null,n)}function invariant$3(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function warning$1(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(n,t){return{usr:n.state,key:n.key,idx:t}}function createLocation(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?parsePath(t):t,state:e,key:t&&t.key||i||createKey()}}function createPath({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function parsePath(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function getUrlBasedHistory(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,u="POP",h=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function g(){u="POP";let R=f(),w=R==null?null:R-d;d=R,h&&h({action:u,location:S.location,delta:w})}function b(R,w){u="PUSH";let L=createLocation(S.location,R,w);d=f()+1;let P=getHistoryState(L,d),V=S.createHref(L);try{o.pushState(P,"",V)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(V)}a&&h&&h({action:u,location:S.location,delta:1})}function x(R,w){u="REPLACE";let L=createLocation(S.location,R,w);d=f();let P=getHistoryState(L,d),V=S.createHref(L);o.replaceState(P,"",V),a&&h&&h({action:u,location:S.location,delta:0})}function E(R){return createBrowserURLImpl(R)}let S={get action(){return u},get location(){return n(s,o)},listen(R){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(PopStateEventType,g),h=R,()=>{s.removeEventListener(PopStateEventType,g),h=null}},createHref(R){return t(s,R)},createURL:E,encodeLocation(R){let w=E(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:x,go(R){return o.go(R)}};return S}function createBrowserURLImpl(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$3(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:createPath(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function matchRoutes(n,t,e="/"){return matchRoutesImpl(n,t,e,!1)}function matchRoutesImpl(n,t,e,i){let s=typeof t=="string"?parsePath(t):t,a=stripBasename(s.pathname||"/",e);if(a==null)return null;let o=flattenRoutes(n);rankRouteBranches(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let d=decodePath(a);u=matchRouteBranch(o[h],d,i)}return u}function flattenRoutes(n,t=[],e=[],i=""){let s=(a,o,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};h.relativePath.startsWith("/")&&(invariant$3(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=joinPaths([i,h.relativePath]),f=e.concat(h);a.children&&a.children.length>0&&(invariant$3(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),flattenRoutes(a.children,t,f,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:computeScore(d,a.index),routesMeta:f})};return n.forEach((a,o)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,o);else for(let h of explodeOptionalSegments(a.path))s(a,o,h)}),t}function explodeOptionalSegments(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let o=explodeOptionalSegments(i.join("/")),u=[];return u.push(...o.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...o),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function rankRouteBranches(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:compareIndexes(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=n=>n==="*";function computeScore(n,t){let e=n.split("/"),i=e.length;return e.some(isSplat)&&(i+=splatPenalty),t&&(i+=indexRouteValue),e.filter(s=>!isSplat(s)).reduce((s,a)=>s+(paramRe.test(a)?dynamicSegmentValue:a===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function matchRouteBranch(n,t,e=!1){let{routesMeta:i}=n,s={},a="/",o=[];for(let u=0;u<i.length;++u){let h=i[u],d=u===i.length-1,f=a==="/"?t:t.slice(a.length)||"/",g=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},f),b=h.route;if(!g&&d&&e&&!i[i.length-1].route.index&&(g=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},f)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:joinPaths([a,g.pathname]),pathnameBase:normalizePathname(joinPaths([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=joinPaths([a,g.pathnameBase]))}return o}function matchPath(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=compilePath(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:g},b)=>{if(f==="*"){let E=u[b]||"";o=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const x=u[b];return g&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:n}}function compilePath(n,t=!1,e=!0){warning$1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function decodePath(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return warning$1(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function stripBasename(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function resolvePath(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?parsePath(n):n;return{pathname:e?e.startsWith("/")?e:resolvePathname(e,t):t,search:normalizeSearch(i),hash:normalizeHash(s)}}function resolvePathname(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function getInvalidPathError(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function getResolveToMatches(n){let t=getPathContributingMatches(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function resolveTo(n,t,e,i=!1){let s;typeof n=="string"?s=parsePath(n):(s={...n},invariant$3(!s.pathname||!s.pathname.includes("?"),getInvalidPathError("?","pathname","search",s)),invariant$3(!s.pathname||!s.pathname.includes("#"),getInvalidPathError("#","pathname","hash",s)),invariant$3(!s.search||!s.search.includes("#"),getInvalidPathError("#","search","hash",s)));let a=n===""||s.pathname==="",o=a?"/":s.pathname,u;if(o==null)u=e;else{let g=t.length-1;if(!i&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),g-=1;s.pathname=b.join("/")}u=g>=0?t[g]:"/"}let h=resolvePath(s,u),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(d||f)&&(h.pathname+="/"),h}var joinPaths=n=>n.join("/").replace(/\/\/+/g,"/"),normalizePathname=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,normalizeHash=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function isRouteErrorResponse(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(n,{relative:t}={}){invariant$3(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=reactExports.useContext(NavigationContext),{hash:s,pathname:a,search:o}=useResolvedPath(n,{relative:t}),u=a;return e!=="/"&&(u=a==="/"?e:joinPaths([e,a])),i.createHref({pathname:u,search:o,hash:s})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$3(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(n){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(n)}function useNavigate(){let{isDataRoute:n}=reactExports.useContext(RouteContext);return n?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$3(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let n=reactExports.useContext(DataRouterContext),{basename:t,navigator:e}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:s}=useLocation(),a=JSON.stringify(getResolveToMatches(i)),o=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{o.current=!0}),reactExports.useCallback((h,d={})=>{if(warning$1(o.current,navigateEffectWarning),!o.current)return;if(typeof h=="number"){e.go(h);return}let f=resolveTo(h,JSON.parse(a),s,d.relative==="path");n==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:joinPaths([t,f.pathname])),(d.replace?e.replace:e.push)(f,d.state,d)},[t,e,a,s,n])}reactExports.createContext(null);function useParams(){let{matches:n}=reactExports.useContext(RouteContext),t=n[n.length-1];return t?t.params:{}}function useResolvedPath(n,{relative:t}={}){let{matches:e}=reactExports.useContext(RouteContext),{pathname:i}=useLocation(),s=JSON.stringify(getResolveToMatches(e));return reactExports.useMemo(()=>resolveTo(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function useRoutes(n,t){return useRoutesImpl(n,t)}function useRoutesImpl(n,t,e,i){var w;invariant$3(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),o=a[a.length-1],u=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let L=f&&f.path||"";warningOnce(h,!f||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let g=useLocation(),b;if(t){let L=typeof t=="string"?parsePath(t):t;invariant$3(d==="/"||((w=L.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=g;let x=b.pathname||"/",E=x;if(d!=="/"){let L=d.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(L.length).join("/")}let S=matchRoutes(n,{pathname:E});warning$1(f||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),warning$1(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=_renderMatches(S&&S.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:joinPaths([d,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?d:joinPaths([d,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,e,i);return t&&R?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function DefaultErrorComponent(){let n=useRouteError(),t=isRouteErrorResponse(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:a},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:a},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},t),e?reactExports.createElement("pre",{style:s},e):null,o)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:n,match:t,children:e}){let i=reactExports.useContext(DataRouterContext);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:n},e)}function _renderMatches(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=e==null?void 0:e.errors;if(a!=null){let h=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);invariant$3(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,u=-1;if(e)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:g}=e,b=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||b){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,d,f)=>{let g,b=!1,x=null,E=null;e&&(g=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||defaultErrorElement,o&&(u<0&&f===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):u===f&&(b=!0,E=d.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,f+1)),R=()=>{let w;return g?w=x:b?w=E:d.route.Component?w=reactExports.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,reactExports.createElement(RenderedRoute,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:e!=null},children:w})};return e&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?reactExports.createElement(RenderErrorBoundary,{location:e.location,revalidation:e.revalidation,component:x,error:g,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}function getDataRouterConsoleError(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(n){let t=reactExports.useContext(DataRouterContext);return invariant$3(t,getDataRouterConsoleError(n)),t}function useDataRouterState(n){let t=reactExports.useContext(DataRouterStateContext);return invariant$3(t,getDataRouterConsoleError(n)),t}function useRouteContext(n){let t=reactExports.useContext(RouteContext);return invariant$3(t,getDataRouterConsoleError(n)),t}function useCurrentRouteId(n){let t=useRouteContext(n),e=t.matches[t.matches.length-1];return invariant$3(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var i;let n=reactExports.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),e=useCurrentRouteId("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function useNavigateStable(){let{router:n}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),e=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{e.current=!0}),reactExports.useCallback(async(s,a={})=>{warning$1(e.current,navigateEffectWarning),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...a}))},[n,t])}var alreadyWarned={};function warningOnce(n,t,e){!t&&!alreadyWarned[n]&&(alreadyWarned[n]=!0,warning$1(!1,e))}reactExports.memo(DataRoutes);function DataRoutes({routes:n,future:t,state:e}){return useRoutesImpl(n,void 0,e,t)}function Route(n){invariant$3(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:a=!1}){invariant$3(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=reactExports.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof e=="string"&&(e=parsePath(e));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:b="default"}=e,x=reactExports.useMemo(()=>{let E=stripBasename(h,o);return E==null?null:{location:{pathname:E,search:d,hash:f,state:g,key:b},navigationType:i}},[o,h,d,f,g,b,i]);return warning$1(x!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:reactExports.createElement(NavigationContext.Provider,{value:u},reactExports.createElement(LocationContext.Provider,{children:t,value:x}))}function Routes({children:n,location:t}){return useRoutes(createRoutesFromChildren(n),t)}function createRoutesFromChildren(n,t=[]){let e=[];return reactExports.Children.forEach(n,(i,s)=>{if(!reactExports.isValidElement(i))return;let a=[...t,s];if(i.type===reactExports.Fragment){e.push.apply(e,createRoutesFromChildren(i.props.children,a));return}invariant$3(i.type===Route,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$3(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=createRoutesFromChildren(i.props.children,a)),e.push(o)}),e}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(n){return n!=null&&typeof n.tagName=="string"}function isButtonElement(n){return isHtmlElement(n)&&n.tagName.toLowerCase()==="button"}function isFormElement(n){return isHtmlElement(n)&&n.tagName.toLowerCase()==="form"}function isInputElement(n){return isHtmlElement(n)&&n.tagName.toLowerCase()==="input"}function isModifiedEvent(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function shouldProcessLinkClick(n,t){return n.button===0&&(!t||t==="_self")&&!isModifiedEvent(n)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(n){return n!=null&&!supportedFormEncTypes.has(n)?(warning$1(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):n}function getFormSubmissionInfo(n,t){let e,i,s,a,o;if(isFormElement(n)){let u=n.getAttribute("action");i=u?stripBasename(u,t):null,e=n.getAttribute("method")||defaultMethod,s=getFormEncType(n.getAttribute("enctype"))||defaultEncType,a=new FormData(n)}else if(isButtonElement(n)||isInputElement(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?stripBasename(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||defaultMethod,s=getFormEncType(n.getAttribute("formenctype"))||getFormEncType(u.getAttribute("enctype"))||defaultEncType,a=new FormData(u,n),!isFormDataSubmitterSupported()){let{name:d,type:f,value:g}=n;if(f==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,g)}}else{if(isHtmlElement(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=defaultMethod,i=null,s=defaultEncType,o=n}return a&&s==="text/plain"&&(o=a,a=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:a,body:o}}function invariant2(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function loadRouteModule(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function getKeyedPrefetchLinks(n,t,e){let i=await Promise.all(n.map(async s=>{let a=t.routes[s.route.id];if(a){let o=await loadRouteModule(a,e);return o.links?o.links():[]}return[]}));return dedupeLinkDescriptors(i.flat(1).filter(isHtmlLinkDescriptor).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function getNewMatchesForLinks(n,t,e,i,s,a){let o=(h,d)=>e[d]?h.route.id!==e[d].route.id:!0,u=(h,d)=>{var f;return e[d].pathname!==h.pathname||((f=e[d].route.path)==null?void 0:f.endsWith("*"))&&e[d].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,d)=>o(h,d)||u(h,d)):a==="data"?t.filter((h,d)=>{var g;let f=i.routes[h.route.id];if(!f||!f.hasLoader)return!1;if(o(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=e[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function getModuleLinkHrefs(n,t,{includeHydrateFallback:e}={}){return dedupeHrefs(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function dedupeHrefs(n){return[...new Set(n)]}function sortKeys(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function dedupeLinkDescriptors(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let a=JSON.stringify(sortKeys(s));return e.has(a)||(e.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&stripBasename(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function useDataRouterContext2(){let n=reactExports.useContext(DataRouterContext);return invariant2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function useDataRouterStateContext(){let n=reactExports.useContext(DataRouterStateContext);return invariant2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let n=reactExports.useContext(FrameworkContext);return invariant2(n,"You must render this element inside a <HydratedRouter> element"),n}function usePrefetchBehavior(n,t){let e=reactExports.useContext(FrameworkContext),[i,s]=reactExports.useState(!1),[a,o]=reactExports.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:f,onTouchStart:g}=t,b=reactExports.useRef(null);reactExports.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let S=w=>{w.forEach(L=>{o(L.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[n]),reactExports.useEffect(()=>{if(i){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[i]);let x=()=>{s(!0)},E=()=>{s(!1),o(!1)};return e?n!=="intent"?[a,b,{}]:[a,b,{onFocus:composeEventHandlers(u,x),onBlur:composeEventHandlers(h,E),onMouseEnter:composeEventHandlers(d,x),onMouseLeave:composeEventHandlers(f,E),onTouchStart:composeEventHandlers(g,x)}]:[!1,b,{}]}function composeEventHandlers(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function PrefetchPageLinks({page:n,...t}){let{router:e}=useDataRouterContext2(),i=reactExports.useMemo(()=>matchRoutes(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?reactExports.createElement(PrefetchPageLinksImpl,{page:n,matches:i,...t}):null}function useKeyedPrefetchLinks(n){let{manifest:t,routeModules:e}=useFrameworkContext(),[i,s]=reactExports.useState([]);return reactExports.useEffect(()=>{let a=!1;return getKeyedPrefetchLinks(n,t,e).then(o=>{a||s(o)}),()=>{a=!0}},[n,t,e]),i}function PrefetchPageLinksImpl({page:n,matches:t,...e}){let i=useLocation(),{manifest:s,routeModules:a}=useFrameworkContext(),{basename:o}=useDataRouterContext2(),{loaderData:u,matches:h}=useDataRouterStateContext(),d=reactExports.useMemo(()=>getNewMatchesForLinks(n,t,h,s,i,"data"),[n,t,h,s,i]),f=reactExports.useMemo(()=>getNewMatchesForLinks(n,t,h,s,i,"assets"),[n,t,h,s,i]),g=reactExports.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let E=new Set,S=!1;if(t.forEach(w=>{var P;let L=s.routes[w.route.id];!L||!L.hasLoader||(!d.some(V=>V.route.id===w.route.id)&&w.route.id in u&&((P=a[w.route.id])!=null&&P.shouldRevalidate)||L.hasClientLoader?S=!0:E.add(w.route.id))}),E.size===0)return[];let R=singleFetchUrl(n,o);return S&&E.size>0&&R.searchParams.set("_routes",t.filter(w=>E.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[o,u,i,s,d,t,n,a]),b=reactExports.useMemo(()=>getModuleLinkHrefs(f,s),[f,s]),x=useKeyedPrefetchLinks(f);return reactExports.createElement(reactExports.Fragment,null,g.map(E=>reactExports.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),b.map(E=>reactExports.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),x.map(({key:E,link:S})=>reactExports.createElement("link",{key:E,...S})))}function mergeRefs$1(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$3&&(window.__reactRouterVersion="7.6.2")}catch{}function BrowserRouter({basename:n,children:t,window:e}){let i=reactExports.useRef();i.current==null&&(i.current=createBrowserHistory({window:e,v5Compat:!0}));let s=i.current,[a,o]=reactExports.useState({action:s.action,location:s.location}),u=reactExports.useCallback(h=>{reactExports.startTransition(()=>o(h))},[o]);return reactExports.useLayoutEffect(()=>s.listen(u),[s,u]),reactExports.createElement(Router,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:a,replace:o,state:u,target:h,to:d,preventScrollReset:f,viewTransition:g,...b},x){let{basename:E}=reactExports.useContext(NavigationContext),S=typeof d=="string"&&ABSOLUTE_URL_REGEX2.test(d),R,w=!1;if(typeof d=="string"&&S&&(R=d,isBrowser$3))try{let J=new URL(window.location.href),G=d.startsWith("//")?new URL(J.protocol+d):new URL(d),et=stripBasename(G.pathname,E);G.origin===J.origin&&et!=null?d=et+G.search+G.hash:w=!0}catch{warning$1(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=useHref(d,{relative:s}),[P,V,B]=usePrefetchBehavior(i,b),F=useLinkClickHandler(d,{replace:o,state:u,target:h,preventScrollReset:f,relative:s,viewTransition:g});function H(J){t&&t(J),J.defaultPrevented||F(J)}let K=reactExports.createElement("a",{...b,...B,href:R||L,onClick:w||a?t:H,ref:mergeRefs$1(x,V),target:h,"data-discover":!S&&e==="render"?"true":void 0});return P&&!S?reactExports.createElement(reactExports.Fragment,null,K,reactExports.createElement(PrefetchPageLinks,{page:L})):K});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:a,to:o,viewTransition:u,children:h,...d},f){let g=useResolvedPath(o,{relative:d.relative}),b=useLocation(),x=reactExports.useContext(DataRouterStateContext),{navigator:E,basename:S}=reactExports.useContext(NavigationContext),R=x!=null&&useViewTransitionState(g)&&u===!0,w=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,L=b.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(L=L.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&S&&(P=stripBasename(P,S)||P);const V=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let B=L===w||!s&&L.startsWith(w)&&L.charAt(V)==="/",F=P!=null&&(P===w||!s&&P.startsWith(w)&&P.charAt(w.length)==="/"),H={isActive:B,isPending:F,isTransitioning:R},K=B?t:void 0,J;typeof i=="function"?J=i(H):J=[i,B?"active":null,F?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(H):a;return reactExports.createElement(Link,{...d,"aria-current":K,className:J,ref:f,style:G,to:o,viewTransition:u},typeof h=="function"?h(H):h)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:a,method:o=defaultMethod,action:u,onSubmit:h,relative:d,preventScrollReset:f,viewTransition:g,...b},x)=>{let E=useSubmit(),S=useFormAction(u,{relative:d}),R=o.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&ABSOLUTE_URL_REGEX2.test(u),L=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let V=P.nativeEvent.submitter,B=(V==null?void 0:V.getAttribute("formmethod"))||o;E(V||P.currentTarget,{fetcherKey:t,method:B,navigate:e,replace:s,state:a,relative:d,preventScrollReset:f,viewTransition:g})};return reactExports.createElement("form",{ref:x,method:R,action:S,onSubmit:i?h:L,...b,"data-discover":!w&&n==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(n){let t=reactExports.useContext(DataRouterContext);return invariant$3(t,getDataRouterConsoleError2(n)),t}function useLinkClickHandler(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:a,viewTransition:o}={}){let u=useNavigate(),h=useLocation(),d=useResolvedPath(n,{relative:a});return reactExports.useCallback(f=>{if(shouldProcessLinkClick(f,t)){f.preventDefault();let g=e!==void 0?e:createPath(h)===createPath(d);u(n,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[h,u,d,e,i,t,n,s,a,o])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:n}=useDataRouterContext3("useSubmit"),{basename:t}=reactExports.useContext(NavigationContext),e=useRouteId();return reactExports.useCallback(async(i,s={})=>{let{action:a,method:o,encType:u,formData:h,body:d}=getFormSubmissionInfo(i,t);if(s.navigate===!1){let f=s.fetcherKey||getUniqueFetcherId();await n.fetch(f,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function useFormAction(n,{relative:t}={}){let{basename:e}=reactExports.useContext(NavigationContext),i=reactExports.useContext(RouteContext);invariant$3(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...useResolvedPath(n||".",{relative:t})},o=useLocation();if(n==null){a.search=o.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(f=>f==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let f=u.toString();a.search=f?`?${f}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:joinPaths([e,a.pathname])),createPath(a)}function useViewTransitionState(n,t={}){let e=reactExports.useContext(ViewTransitionContext);invariant$3(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=useDataRouterContext3("useViewTransitionState"),s=useResolvedPath(n,{relative:t.relative});if(!e.isTransitioning)return!1;let a=stripBasename(e.currentLocation.pathname,i)||e.currentLocation.pathname,o=stripBasename(e.nextLocation.pathname,i)||e.nextLocation.pathname;return matchPath(s.pathname,o)!=null||matchPath(s.pathname,a)!=null}[...NO_BODY_STATUS_CODES];const LayoutGroupContext$1=reactExports.createContext({});function useConstant$1(n){const t=reactExports.useRef(null);return t.current===null&&(t.current=n()),t.current}const isBrowser$2=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$2?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext$1=reactExports.createContext(null),MotionConfigContext$1=reactExports.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function isObject$1(n){return typeof n=="object"&&n!==null}function isHTMLElement$1(n){return isObject$1(n)&&"offsetHeight"in n}function usePresence$1(n=!0){const t=reactExports.useContext(PresenceContext$1);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=reactExports.useId();reactExports.useEffect(()=>{if(n)return s(a)},[n]);const o=reactExports.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,o]:[!0]}const stepsOrder$1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],statsBuffer={value:null};function createRenderStep$1(n,t){let e=new Set,i=new Set,s=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function d(g){o.has(g)&&(f.schedule(g),n()),h++,g(u)}const f={schedule:(g,b=!1,x=!1)=>{const S=x&&s?e:i;return b&&o.add(g),S.has(g)||S.add(g),g},cancel:g=>{i.delete(g),o.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(d),t&&statsBuffer.value&&statsBuffer.value.frameloop[t].push(h),h=0,e.clear(),s=!1,a&&(a=!1,f.process(g))}};return f}const MotionGlobalConfig$1={},maxElapsed$1=40;function createRenderBatcher$1(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,o=stepsOrder$1.reduce((P,V)=>(P[V]=createRenderStep$1(a,t?V:void 0),P),{}),{setup:u,read:h,resolveKeyframes:d,preUpdate:f,update:g,preRender:b,render:x,postRender:E}=o,S=()=>{const P=MotionGlobalConfig$1.useManualTiming?s.timestamp:performance.now();e=!1,MotionGlobalConfig$1.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(P-s.timestamp,maxElapsed$1),1)),s.timestamp=P,s.isProcessing=!0,u.process(s),h.process(s),d.process(s),f.process(s),g.process(s),b.process(s),x.process(s),E.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(S))},R=()=>{e=!0,i=!0,s.isProcessing||n(S)};return{schedule:stepsOrder$1.reduce((P,V)=>{const B=o[V];return P[V]=(F,H=!1,K=!1)=>(e||R(),B.schedule(F,H,K)),P},{}),cancel:P=>{for(let V=0;V<stepsOrder$1.length;V++)o[stepsOrder$1[V]].cancel(P)},state:s,steps:o}}const noop$1=n=>n,{schedule:frame$1,cancel:cancelFrame$1,state:frameData$1,steps:frameSteps$1}=createRenderBatcher$1(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),LazyContext$1=reactExports.createContext({strict:!1}),featureProps$1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions$1={};for(const n in featureProps$1)featureDefinitions$1[n]={isEnabled:t=>featureProps$1[n].some(e=>!!t[e])};function loadFeatures$1(n){for(const t in n)featureDefinitions$1[t]={...featureDefinitions$1[t],...n[t]}}const validMotionProps$1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp$1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||validMotionProps$1.has(n)}let shouldForward$1=n=>!isValidMotionProp$1(n);function loadExternalIsValidProp$1(n){typeof n=="function"&&(shouldForward$1=t=>t.startsWith("on")?!isValidMotionProp$1(t):n(t))}try{loadExternalIsValidProp$1(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(shouldForward$1(s)||e===!0&&isValidMotionProp$1(s)||!t&&!isValidMotionProp$1(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function createDOMMotionComponentProxy$1(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const MotionContext$1=reactExports.createContext({});function isAnimationControls$1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function isVariantLabel$1(n){return typeof n=="string"||Array.isArray(n)}const variantPriorityOrder$1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps$1=["initial",...variantPriorityOrder$1];function isControllingVariants$1(n){return isAnimationControls$1(n.animate)||variantProps$1.some(t=>isVariantLabel$1(n[t]))}function isVariantNode$1(n){return!!(isControllingVariants$1(n)||n.variants)}function getCurrentTreeVariants$1(n,t){if(isControllingVariants$1(n)){const{initial:e,animate:i}=n;return{initial:e===!1||isVariantLabel$1(e)?e:void 0,animate:isVariantLabel$1(i)?i:void 0}}return n.inherit!==!1?t:{}}function useCreateMotionContext$1(n){const{initial:t,animate:e}=getCurrentTreeVariants$1(n,reactExports.useContext(MotionContext$1));return reactExports.useMemo(()=>({initial:t,animate:e}),[variantLabelsAsDependency$1(t),variantLabelsAsDependency$1(e)])}function variantLabelsAsDependency$1(n){return Array.isArray(n)?n.join(" "):n}const motionComponentSymbol$1=Symbol.for("motionComponentSymbol");function isRefObject$1(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function useMotionRef$1(n,t,e){return reactExports.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):isRefObject$1(e)&&(e.current=i))},[t])}const camelToDash$1=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId$1="framerAppearId",optimizedAppearDataAttribute$1="data-"+camelToDash$1(optimizedAppearDataId$1),SwitchLayoutGroupContext$1=reactExports.createContext({}),{schedule:microtask$1}=createRenderBatcher$1(queueMicrotask,!1);function useVisualElement$1(n,t,e,i,s){var S,R;const{visualElement:a}=reactExports.useContext(MotionContext$1),o=reactExports.useContext(LazyContext$1),u=reactExports.useContext(PresenceContext$1),h=reactExports.useContext(MotionConfigContext$1).reducedMotion,d=reactExports.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(n,{visualState:t,parent:a,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,g=reactExports.useContext(SwitchLayoutGroupContext$1);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&createProjectionNode$3(d.current,e,s,g);const b=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{f&&b.current&&f.update(e,u)});const x=e[optimizedAppearDataAttribute$1],E=reactExports.useRef(!!x&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,x))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,x)));return useIsomorphicLayoutEffect$1(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),microtask$1.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),reactExports.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,x)}),E.current=!1))}),f}function createProjectionNode$3(n,t,e,i){const{layoutId:s,layout:a,drag:o,dragConstraints:u,layoutScroll:h,layoutRoot:d,layoutCrossfade:f}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:getClosestProjectingNode$1(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||u&&isRefObject$1(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:h,layoutRoot:d})}function getClosestProjectingNode$1(n){if(n)return n.options.allowProjection!==!1?n.projection:getClosestProjectingNode$1(n.parent)}let invariant$2=()=>{};function createRendererMotionComponent$1({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){n&&loadFeatures$1(n);function a(u,h){let d;const f={...reactExports.useContext(MotionConfigContext$1),...u,layoutId:useLayoutId$1(u)},{isStatic:g}=f,b=useCreateMotionContext$1(u),x=i(u,g);if(!g&&isBrowser$2){useStrictMode$1();const E=getProjectionFunctionality$1(f);d=E.MeasureLayout,b.visualElement=useVisualElement$1(s,x,f,t,E.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext$1.Provider,{value:b,children:[d&&b.visualElement?jsxRuntimeExports.jsx(d,{visualElement:b.visualElement,...f}):null,e(s,u,useMotionRef$1(x,b.visualElement,h),x,g,b.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=reactExports.forwardRef(a);return o[motionComponentSymbol$1]=s,o}function useLayoutId$1({layoutId:n}){const t=reactExports.useContext(LayoutGroupContext$1).id;return t&&n!==void 0?t+"-"+n:n}function useStrictMode$1(n,t){reactExports.useContext(LazyContext$1).strict}function getProjectionFunctionality$1(n){const{drag:t,layout:e}=featureDefinitions$1;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const checkStringStartsWith$1=n=>t=>typeof t=="string"&&t.startsWith(n),isCSSVariableName$1=checkStringStartsWith$1("--"),startsAsVariableToken$1=checkStringStartsWith$1("var(--"),isCSSVariableToken$1=n=>startsAsVariableToken$1(n)?singleCssVariableRegex$1.test(n.split("/*")[0].trim()):!1,singleCssVariableRegex$1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,scaleCorrectors$1={};function addScaleCorrector$1(n){for(const t in n)scaleCorrectors$1[t]=n[t],isCSSVariableName$1(t)&&(scaleCorrectors$1[t].isCSSVariable=!0)}const transformPropOrder$1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps$1=new Set(transformPropOrder$1);function isForcedMotionValue$1(n,{layout:t,layoutId:e}){return transformProps$1.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!scaleCorrectors$1[n]||n==="opacity")}const getValueAsType$1=(n,t)=>t&&typeof n=="number"?t.transform(n):n,clamp$1=(n,t,e)=>e>t?t:e<n?n:e,number$2={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},alpha$1={...number$2,transform:n=>clamp$1(0,1,n)},scale$1={...number$2,default:1},int$2={...number$2,transform:Math.round},createUnitType$1=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),degrees$1=createUnitType$1("deg"),percent$1=createUnitType$1("%"),px$1=createUnitType$1("px"),vh$1=createUnitType$1("vh"),vw$1=createUnitType$1("vw"),progressPercentage$1={...percent$1,parse:n=>percent$1.parse(n)/100,transform:n=>percent$1.transform(n*100)},transformValueTypes$1={rotate:degrees$1,rotateX:degrees$1,rotateY:degrees$1,rotateZ:degrees$1,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees$1,skewX:degrees$1,skewY:degrees$1,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha$1,originX:progressPercentage$1,originY:progressPercentage$1,originZ:px$1},numberValueTypes$1={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,backgroundPositionX:px$1,backgroundPositionY:px$1,...transformValueTypes$1,zIndex:int$2,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int$2},translateAlias$1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms$1=transformPropOrder$1.length;function buildTransform$1(n,t,e){let i="",s=!0;for(let a=0;a<numTransforms$1;a++){const o=transformPropOrder$1[a],u=n[o];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(o.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const d=getValueAsType$1(u,numberValueTypes$1[o]);if(!h){s=!1;const f=translateAlias$1[o]||o;i+=`${f}(${d}) `}e&&(t[o]=d)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function buildHTMLStyles$1(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let o=!1,u=!1;for(const h in t){const d=t[h];if(transformProps$1.has(h)){o=!0;continue}else if(isCSSVariableName$1(h)){s[h]=d;continue}else{const f=getValueAsType$1(d,numberValueTypes$1[h]);h.startsWith("origin")?(u=!0,a[h]=f):i[h]=f}}if(t.transform||(o||e?i.transform=buildTransform$1(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=a;i.transformOrigin=`${h} ${d} ${f}`}}const createHtmlRenderState$1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),isMotionValue$1=n=>!!(n&&n.getVelocity);function copyRawValuesOnly$1(n,t,e){for(const i in t)!isMotionValue$1(t[i])&&!isForcedMotionValue$1(i,e)&&(n[i]=t[i])}function useInitialMotionValues$1({transformTemplate:n},t){return reactExports.useMemo(()=>{const e=createHtmlRenderState$1();return buildHTMLStyles$1(e,t,n),Object.assign({},e.vars,e.style)},[t])}function useStyle$1(n,t){const e=n.style||{},i={};return copyRawValuesOnly$1(i,e,n),Object.assign(i,useInitialMotionValues$1(n,t)),i}function useHTMLProps$1(n,t){const e={},i=useStyle$1(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const dashKeys$1={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys$1={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath$1(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?dashKeys$1:camelKeys$1;n[a.offset]=px$1.transform(-i);const o=px$1.transform(t),u=px$1.transform(e);n[a.array]=`${o} ${u}`}function buildSVGAttrs$1(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...u},h,d,f){if(buildHTMLStyles$1(n,u,d),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:b}=n;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),e!==void 0&&(g.y=e),i!==void 0&&(g.scale=i),s!==void 0&&buildSVGPath$1(g,s,a,o,!1)}const createSvgRenderState$1=()=>({...createHtmlRenderState$1(),attrs:{}}),isSVGTag$1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function useSVGProps$1(n,t,e,i){const s=reactExports.useMemo(()=>{const a=createSvgRenderState$1();return buildSVGAttrs$1(a,t,isSVGTag$1(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};copyRawValuesOnly$1(a,n.style,n),s.style={...a,...s.style}}return s}const lowercaseSVGElements$1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent$1(n){return typeof n!="string"||n.includes("-")?!1:!!(lowercaseSVGElements$1.indexOf(n)>-1||/[A-Z]/u.test(n))}function createUseRender$1(n=!1){return(e,i,s,{latestValues:a},o)=>{const h=(isSVGComponent$1(e)?useSVGProps$1:useHTMLProps$1)(i,a,o,e),d=filterProps$1(i,typeof e=="string",n),f=e!==reactExports.Fragment?{...d,...h,ref:s}:{},{children:g}=i,b=reactExports.useMemo(()=>isMotionValue$1(g)?g.get():g,[g]);return reactExports.createElement(e,{...f,children:b})}}function getValueState$1(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function resolveVariantFromProps$1(n,t,e,i){if(typeof t=="function"){const[s,a]=getValueState$1(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=getValueState$1(i);t=t(e!==void 0?e:n.custom,s,a)}return t}function resolveMotionValue$1(n){return isMotionValue$1(n)?n.get():n}function makeState$1({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:makeLatestValues$1(e,i,s,n),renderState:t()}}const makeUseVisualState$1=n=>(t,e)=>{const i=reactExports.useContext(MotionContext$1),s=reactExports.useContext(PresenceContext$1),a=()=>makeState$1(n,t,i,s);return e?a():useConstant$1(a)};function makeLatestValues$1(n,t,e,i){const s={},a=i(n,{});for(const b in a)s[b]=resolveMotionValue$1(a[b]);let{initial:o,animate:u}=n;const h=isControllingVariants$1(n),d=isVariantNode$1(n);t&&d&&!h&&n.inherit!==!1&&(o===void 0&&(o=t.initial),u===void 0&&(u=t.animate));let f=e?e.initial===!1:!1;f=f||o===!1;const g=f?u:o;if(g&&typeof g!="boolean"&&!isAnimationControls$1(g)){const b=Array.isArray(g)?g:[g];for(let x=0;x<b.length;x++){const E=resolveVariantFromProps$1(n,b[x]);if(E){const{transitionEnd:S,transition:R,...w}=E;for(const L in w){let P=w[L];if(Array.isArray(P)){const V=f?P.length-1:0;P=P[V]}P!==null&&(s[L]=P)}for(const L in S)s[L]=S[L]}}}return s}function scrapeMotionValuesFromProps$3(n,t,e){var a;const{style:i}=n,s={};for(const o in i)(isMotionValue$1(i[o])||t.style&&isMotionValue$1(t.style[o])||isForcedMotionValue$1(o,n)||((a=e==null?void 0:e.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const htmlMotionConfig$1={useVisualState:makeUseVisualState$1({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$3,createRenderState:createHtmlRenderState$1})};function scrapeMotionValuesFromProps$2(n,t,e){const i=scrapeMotionValuesFromProps$3(n,t,e);for(const s in n)if(isMotionValue$1(n[s])||isMotionValue$1(t[s])){const a=transformPropOrder$1.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const svgMotionConfig$1={useVisualState:makeUseVisualState$1({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$2,createRenderState:createSvgRenderState$1})};function createMotionComponentFactory$1(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...isSVGComponent$1(i)?svgMotionConfig$1:htmlMotionConfig$1,preloadedFeatures:n,useRender:createUseRender$1(s),createVisualElement:t,Component:i};return createRendererMotionComponent$1(o)}}function resolveVariant$1(n,t,e){const i=n.getProps();return resolveVariantFromProps$1(i,t,e!==void 0?e:i.custom,n)}const isKeyframesTarget$1=n=>Array.isArray(n);let now$1;function clearTime$1(){now$1=void 0}const time$1={now:()=>(now$1===void 0&&time$1.set(frameData$1.isProcessing||MotionGlobalConfig$1.useManualTiming?frameData$1.timestamp:performance.now()),now$1),set:n=>{now$1=n,queueMicrotask(clearTime$1)}};function addUniqueItem$1(n,t){n.indexOf(t)===-1&&n.push(t)}function removeItem$1(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let SubscriptionManager$1=class{constructor(){this.subscriptions=[]}add(t){return addUniqueItem$1(this.subscriptions,t),()=>removeItem$1(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function velocityPerSecond$1(n,t){return t?n*(1e3/t):0}const MAX_VELOCITY_DELTA$1=30,isFloat$1=n=>!isNaN(parseFloat(n));let MotionValue$1=class{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var o,u;const a=time$1.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=isFloat$1(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new SubscriptionManager$1);const i=this.events[t].add(e);return t==="change"?()=>{i(),frame$1.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MAX_VELOCITY_DELTA$1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA$1);return velocityPerSecond$1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function motionValue$1(n,t){return new MotionValue$1(n,t)}function setMotionValue$1(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,motionValue$1(e))}function resolveFinalValueInKeyframes$1(n){return isKeyframesTarget$1(n)?n[n.length-1]||0:n}function setTarget$1(n,t){const e=resolveVariant$1(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const o in a){const u=resolveFinalValueInKeyframes$1(a[o]);setMotionValue$1(n,o,u)}}function isWillChangeMotionValue$1(n){return!!(isMotionValue$1(n)&&n.add)}function addValueToWillChange$1(n,t){const e=n.getValue("willChange");if(isWillChangeMotionValue$1(e))return e.add(t);if(!e&&MotionGlobalConfig$1.WillChange){const i=new MotionGlobalConfig$1.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function getOptimisedAppearId$1(n){return n.props[optimizedAppearDataAttribute$1]}const isNotNull$3=n=>n!==null;function getFinalKeyframe$3(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(isNotNull$3),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[a]}const underDampedSpring$1={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring$1=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition$1={type:"keyframes",duration:.8},ease$1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition$1=(n,{keyframes:t})=>t.length>2?keyframesTransition$1:transformProps$1.has(n)?n.startsWith("scale")?criticallyDampedSpring$1(t[1]):underDampedSpring$1:ease$1;function isTransitionDefined$1({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:u,from:h,elapsed:d,...f}){return!!Object.keys(f).length}function getValueTransition$1(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const secondsToMilliseconds$1=n=>n*1e3,millisecondsToSeconds$1=n=>n/1e3,sanitize$1=n=>Math.round(n*1e5)/1e5,floatRegex$1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(n){return n==null}const singleColorRegex$1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString$1=(n,t)=>e=>!!(typeof e=="string"&&singleColorRegex$1.test(e)&&e.startsWith(n)||t&&!isNullish$1(e)&&Object.prototype.hasOwnProperty.call(e,t)),splitColor$1=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,o,u]=i.match(floatRegex$1);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},clampRgbUnit$1=n=>clamp$1(0,255,n),rgbUnit$1={...number$2,transform:n=>Math.round(clampRgbUnit$1(n))},rgba$1={test:isColorString$1("rgb","red"),parse:splitColor$1("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+rgbUnit$1.transform(n)+", "+rgbUnit$1.transform(t)+", "+rgbUnit$1.transform(e)+", "+sanitize$1(alpha$1.transform(i))+")"};function parseHex$1(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const hex$1={test:isColorString$1("#"),parse:parseHex$1,transform:rgba$1.transform},hsla$1={test:isColorString$1("hsl","hue"),parse:splitColor$1("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+percent$1.transform(sanitize$1(t))+", "+percent$1.transform(sanitize$1(e))+", "+sanitize$1(alpha$1.transform(i))+")"},color$2={test:n=>rgba$1.test(n)||hex$1.test(n)||hsla$1.test(n),parse:n=>rgba$1.test(n)?rgba$1.parse(n):hsla$1.test(n)?hsla$1.parse(n):hex$1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?rgba$1.transform(n):hsla$1.transform(n),getAnimatableNone:n=>{const t=color$2.parse(n);return t.alpha=0,color$2.transform(t)}},colorRegex$1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(floatRegex$1))==null?void 0:t.length)||0)+(((e=n.match(colorRegex$1))==null?void 0:e.length)||0)>0}const NUMBER_TOKEN$1="number",COLOR_TOKEN$1="color",VAR_TOKEN$1="var",VAR_FUNCTION_TOKEN$1="var(",SPLIT_TOKEN$1="${}",complexRegex$1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue$1(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const u=t.replace(complexRegex$1,h=>(color$2.test(h)?(i.color.push(a),s.push(COLOR_TOKEN$1),e.push(color$2.parse(h))):h.startsWith(VAR_FUNCTION_TOKEN$1)?(i.var.push(a),s.push(VAR_TOKEN$1),e.push(h)):(i.number.push(a),s.push(NUMBER_TOKEN$1),e.push(parseFloat(h))),++a,SPLIT_TOKEN$1)).split(SPLIT_TOKEN$1);return{values:e,split:u,indexes:i,types:s}}function parseComplexValue$1(n){return analyseComplexValue$1(n).values}function createTransformer$1(n){const{split:t,types:e}=analyseComplexValue$1(n),i=t.length;return s=>{let a="";for(let o=0;o<i;o++)if(a+=t[o],s[o]!==void 0){const u=e[o];u===NUMBER_TOKEN$1?a+=sanitize$1(s[o]):u===COLOR_TOKEN$1?a+=color$2.transform(s[o]):a+=s[o]}return a}}const convertNumbersToZero$1=n=>typeof n=="number"?0:color$2.test(n)?color$2.getAnimatableNone(n):n;function getAnimatableNone$3(n){const t=parseComplexValue$1(n);return createTransformer$1(n)(t.map(convertNumbersToZero$1))}const complex$1={test:test$1,parse:parseComplexValue$1,createTransformer:createTransformer$1,getAnimatableNone:getAnimatableNone$3};function hueToRgb$1(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function hslaToRgba$1({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,o=0;if(!t)s=a=o=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;s=hueToRgb$1(h,u,n+1/3),a=hueToRgb$1(h,u,n),o=hueToRgb$1(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function mixImmediate$1(n,t){return e=>e>0?t:n}const mixNumber$3=(n,t,e)=>n+(t-n)*e,mixLinearColor$1=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},colorTypes$1=[hex$1,rgba$1,hsla$1],getColorType$1=n=>colorTypes$1.find(t=>t.test(n));function asRGBA$1(n){const t=getColorType$1(n);if(!t)return!1;let e=t.parse(n);return t===hsla$1&&(e=hslaToRgba$1(e)),e}const mixColor$1=(n,t)=>{const e=asRGBA$1(n),i=asRGBA$1(t);if(!e||!i)return mixImmediate$1(n,t);const s={...e};return a=>(s.red=mixLinearColor$1(e.red,i.red,a),s.green=mixLinearColor$1(e.green,i.green,a),s.blue=mixLinearColor$1(e.blue,i.blue,a),s.alpha=mixNumber$3(e.alpha,i.alpha,a),rgba$1.transform(s))},invisibleValues$1=new Set(["none","hidden"]);function mixVisibility$1(n,t){return invisibleValues$1.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}const combineFunctions$1=(n,t)=>e=>t(n(e)),pipe$1=(...n)=>n.reduce(combineFunctions$1);function mixNumber$2(n,t){return e=>mixNumber$3(n,t,e)}function getMixer$1(n){return typeof n=="number"?mixNumber$2:typeof n=="string"?isCSSVariableToken$1(n)?mixImmediate$1:color$2.test(n)?mixColor$1:mixComplex$1:Array.isArray(n)?mixArray$1:typeof n=="object"?color$2.test(n)?mixColor$1:mixObject$1:mixImmediate$1}function mixArray$1(n,t){const e=[...n],i=e.length,s=n.map((a,o)=>getMixer$1(a)(a,t[o]));return a=>{for(let o=0;o<i;o++)e[o]=s[o](a);return e}}function mixObject$1(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=getMixer$1(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function matchOrder$1(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=n.indexes[a][i[a]],u=n.values[o]??0;e[s]=u,i[a]++}return e}const mixComplex$1=(n,t)=>{const e=complex$1.createTransformer(t),i=analyseComplexValue$1(n),s=analyseComplexValue$1(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?invisibleValues$1.has(n)&&!s.values.length||invisibleValues$1.has(t)&&!i.values.length?mixVisibility$1(n,t):pipe$1(mixArray$1(matchOrder$1(i,s),s.values),e):mixImmediate$1(n,t)};function mix$1(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?mixNumber$3(n,t,e):getMixer$1(n)(n,t)}const frameloopDriver$1=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>frame$1.update(t,e),stop:()=>cancelFrame$1(t),now:()=>frameData$1.isProcessing?frameData$1.timestamp:time$1.now()}},generateLinearEasing$1=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},maxGeneratorDuration$1=2e4;function calcGeneratorDuration$1(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<maxGeneratorDuration$1;)t+=e,i=n.next(t);return t>=maxGeneratorDuration$1?1/0:t}function createGeneratorEasing$1(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(calcGeneratorDuration$1(i),maxGeneratorDuration$1);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:millisecondsToSeconds$1(s)}}const velocitySampleDuration$1=5;function calcGeneratorVelocity$1(n,t,e){const i=Math.max(t-velocitySampleDuration$1,0);return velocityPerSecond$1(e-n(i),t-i)}const springDefaults$1={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin$1=.001;function findSpring$1({duration:n=springDefaults$1.duration,bounce:t=springDefaults$1.bounce,velocity:e=springDefaults$1.velocity,mass:i=springDefaults$1.mass}){let s,a,o=1-t;o=clamp$1(springDefaults$1.minDamping,springDefaults$1.maxDamping,o),n=clamp$1(springDefaults$1.minDuration,springDefaults$1.maxDuration,millisecondsToSeconds$1(n)),o<1?(s=d=>{const f=d*o,g=f*n,b=f-e,x=calcAngularFreq$1(d,o),E=Math.exp(-g);return safeMin$1-b/x*E},a=d=>{const g=d*o*n,b=g*e+e,x=Math.pow(o,2)*Math.pow(d,2)*n,E=Math.exp(-g),S=calcAngularFreq$1(Math.pow(d,2),o);return(-s(d)+safeMin$1>0?-1:1)*((b-x)*E)/S}):(s=d=>{const f=Math.exp(-d*n),g=(d-e)*n+1;return-safeMin$1+f*g},a=d=>{const f=Math.exp(-d*n),g=(e-d)*(n*n);return f*g});const u=5/n,h=approximateRoot$1(s,a,u);if(n=secondsToMilliseconds$1(n),isNaN(h))return{stiffness:springDefaults$1.stiffness,damping:springDefaults$1.damping,duration:n};{const d=Math.pow(h,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:n}}}const rootIterations$1=12;function approximateRoot$1(n,t,e){let i=e;for(let s=1;s<rootIterations$1;s++)i=i-n(i)/t(i);return i}function calcAngularFreq$1(n,t){return n*Math.sqrt(1-t*t)}const durationKeys$1=["duration","bounce"],physicsKeys$1=["stiffness","damping","mass"];function isSpringType$1(n,t){return t.some(e=>n[e]!==void 0)}function getSpringOptions$1(n){let t={velocity:springDefaults$1.velocity,stiffness:springDefaults$1.stiffness,damping:springDefaults$1.damping,mass:springDefaults$1.mass,isResolvedFromDuration:!1,...n};if(!isSpringType$1(n,physicsKeys$1)&&isSpringType$1(n,durationKeys$1))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*clamp$1(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:springDefaults$1.mass,stiffness:s,damping:a}}else{const e=findSpring$1(n);t={...t,...e,mass:springDefaults$1.mass},t.isResolvedFromDuration=!0}return t}function spring$1(n=springDefaults$1.visualDuration,t=springDefaults$1.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:d,mass:f,duration:g,velocity:b,isResolvedFromDuration:x}=getSpringOptions$1({...e,velocity:-millisecondsToSeconds$1(e.velocity||0)}),E=b||0,S=d/(2*Math.sqrt(h*f)),R=o-a,w=millisecondsToSeconds$1(Math.sqrt(h/f)),L=Math.abs(R)<5;i||(i=L?springDefaults$1.restSpeed.granular:springDefaults$1.restSpeed.default),s||(s=L?springDefaults$1.restDelta.granular:springDefaults$1.restDelta.default);let P;if(S<1){const B=calcAngularFreq$1(w,S);P=F=>{const H=Math.exp(-S*w*F);return o-H*((E+S*w*R)/B*Math.sin(B*F)+R*Math.cos(B*F))}}else if(S===1)P=B=>o-Math.exp(-w*B)*(R+(E+w*R)*B);else{const B=w*Math.sqrt(S*S-1);P=F=>{const H=Math.exp(-S*w*F),K=Math.min(B*F,300);return o-H*((E+S*w*R)*Math.sinh(K)+B*R*Math.cosh(K))/B}}const V={calculatedDuration:x&&g||null,next:B=>{const F=P(B);if(x)u.done=B>=g;else{let H=B===0?E:0;S<1&&(H=B===0?secondsToMilliseconds$1(E):calcGeneratorVelocity$1(P,B,F));const K=Math.abs(H)<=i,J=Math.abs(o-F)<=s;u.done=K&&J}return u.value=u.done?o:F,u},toString:()=>{const B=Math.min(calcGeneratorDuration$1(V),maxGeneratorDuration$1),F=generateLinearEasing$1(H=>V.next(B*H).value,B,30);return B+"ms "+F},toTransition:()=>{}};return V}spring$1.applyToOptions=n=>{const t=createGeneratorEasing$1(n,100,spring$1);return n.ease=t.ease,n.duration=secondsToMilliseconds$1(t.duration),n.type="keyframes",n};function inertia$1({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:u,max:h,restDelta:d=.5,restSpeed:f}){const g=n[0],b={done:!1,value:g},x=K=>u!==void 0&&K<u||h!==void 0&&K>h,E=K=>u===void 0?h:h===void 0||Math.abs(u-K)<Math.abs(h-K)?u:h;let S=e*t;const R=g+S,w=o===void 0?R:o(R);w!==R&&(S=w-g);const L=K=>-S*Math.exp(-K/i),P=K=>w+L(K),V=K=>{const J=L(K),G=P(K);b.done=Math.abs(J)<=d,b.value=b.done?w:G};let B,F;const H=K=>{x(b.value)&&(B=K,F=spring$1({keyframes:[b.value,E(b.value)],velocity:calcGeneratorVelocity$1(P,K,b.value),damping:s,stiffness:a,restDelta:d,restSpeed:f}))};return H(0),{calculatedDuration:null,next:K=>{let J=!1;return!F&&B===void 0&&(J=!0,V(K),H(K)),B!==void 0&&K>=B?F.next(K-B):(!J&&V(K),b)}}}const progress$1=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};function createMixers$1(n,t,e){const i=[],s=e||MotionGlobalConfig$1.mix||mix$1,a=n.length-1;for(let o=0;o<a;o++){let u=s(n[o],n[o+1]);if(t){const h=Array.isArray(t)?t[o]||noop$1:t;u=pipe$1(h,u)}i.push(u)}return i}function interpolate$1(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(invariant$2(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=createMixers$1(t,i,s),h=u.length,d=f=>{if(o&&f<n[0])return t[0];let g=0;if(h>1)for(;g<n.length-2&&!(f<n[g+1]);g++);const b=progress$1(n[g],n[g+1],f);return u[g](b)};return e?f=>d(clamp$1(n[0],n[a-1],f)):d}function fillOffset$1(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=progress$1(0,t,i);n.push(mixNumber$3(e,1,s))}}function defaultOffset$1(n){const t=[0];return fillOffset$1(t,n.length-1),t}function convertOffsetToTimes$1(n,t){return n.map(e=>e*t)}const calcBezier$1=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,subdivisionPrecision$1=1e-7,subdivisionMaxIterations$1=12;function binarySubdivide$1(n,t,e,i,s){let a,o,u=0;do o=t+(e-t)/2,a=calcBezier$1(o,i,s)-n,a>0?e=o:t=o;while(Math.abs(a)>subdivisionPrecision$1&&++u<subdivisionMaxIterations$1);return o}function cubicBezier$1(n,t,e,i){if(n===t&&e===i)return noop$1;const s=a=>binarySubdivide$1(a,0,1,n,e);return a=>a===0||a===1?a:calcBezier$1(s(a),t,i)}const easeIn$1=cubicBezier$1(.42,0,1,1),easeOut$1=cubicBezier$1(0,0,.58,1),easeInOut$1=cubicBezier$1(.42,0,.58,1),isEasingArray$1=n=>Array.isArray(n)&&typeof n[0]!="number",mirrorEasing$1=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,reverseEasing$1=n=>t=>1-n(1-t),backOut$1=cubicBezier$1(.33,1.53,.69,.99),backIn$1=reverseEasing$1(backOut$1),backInOut$1=mirrorEasing$1(backIn$1),anticipate$1=n=>(n*=2)<1?.5*backIn$1(n):.5*(2-Math.pow(2,-10*(n-1))),circIn$1=n=>1-Math.sin(Math.acos(n)),circOut$1=reverseEasing$1(circIn$1),circInOut$1=mirrorEasing$1(circIn$1),isBezierDefinition$1=n=>Array.isArray(n)&&typeof n[0]=="number",easingLookup$1={linear:noop$1,easeIn:easeIn$1,easeInOut:easeInOut$1,easeOut:easeOut$1,circIn:circIn$1,circInOut:circInOut$1,circOut:circOut$1,backIn:backIn$1,backInOut:backInOut$1,backOut:backOut$1,anticipate:anticipate$1},isValidEasing$1=n=>typeof n=="string",easingDefinitionToFunction$1=n=>{if(isBezierDefinition$1(n)){invariant$2(n.length===4);const[t,e,i,s]=n;return cubicBezier$1(t,e,i,s)}else if(isValidEasing$1(n))return easingLookup$1[n];return n};function defaultEasing$1(n,t){return n.map(()=>t||easeInOut$1).splice(0,n.length-1)}function keyframes$1({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=isEasingArray$1(i)?i.map(easingDefinitionToFunction$1):easingDefinitionToFunction$1(i),a={done:!1,value:t[0]},o=convertOffsetToTimes$1(e&&e.length===t.length?e:defaultOffset$1(t),n),u=interpolate$1(o,t,{ease:Array.isArray(s)?s:defaultEasing$1(t,s)});return{calculatedDuration:n,next:h=>(a.value=u(h),a.done=h>=n,a)}}const isNotNull$2=n=>n!==null;function getFinalKeyframe$2(n,{repeat:t,repeatType:e="loop"},i,s=1){const a=n.filter(isNotNull$2),u=s<0||t&&e!=="loop"&&t%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const transitionTypeMap$1={decay:inertia$1,inertia:inertia$1,tween:keyframes$1,keyframes:keyframes$1,spring:spring$1};function replaceTransitionType$1(n){typeof n.type=="string"&&(n.type=transitionTypeMap$1[n.type])}let WithPromise$1=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}};const percentToProgress$1=n=>n/100;let JSAnimation$1=class extends WithPromise$1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:e}=this.options;e&&e.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;replaceTransitionType$1(t);const{type:e=keyframes$1,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=t;let{keyframes:u}=t;const h=e||keyframes$1;h!==keyframes$1&&typeof u[0]!="number"&&(this.mixKeyframes=pipe$1(percentToProgress$1,mix$1(u[0],u[1])),u=[0,100]);const d=h({...t,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=calcGeneratorDuration$1(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:f,repeat:g,repeatType:b,repeatDelay:x,type:E,onUpdate:S,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const w=this.currentTime-d*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let P=this.currentTime,V=i;if(g){const K=Math.min(this.currentTime,s)/u;let J=Math.floor(K),G=K%1;!G&&K>=1&&(G=1),G===1&&J--,J=Math.min(J,g+1),!!(J%2)&&(b==="reverse"?(G=1-G,x&&(G-=x/u)):b==="mirror"&&(V=o)),P=clamp$1(0,1,G)*u}const B=L?{done:!1,value:f[0]}:V.next(P);a&&(B.value=a(B.value));let{done:F}=B;!L&&h!==null&&(F=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return H&&E!==inertia$1&&(B.value=getFinalKeyframe$2(f,this.options,R,this.speed)),S&&S(B.value),H&&this.finish(),B}then(t,e){return this.finished.then(t,e)}get duration(){return millisecondsToSeconds$1(this.calculatedDuration)}get time(){return millisecondsToSeconds$1(this.currentTime)}set time(t){var e;t=secondsToMilliseconds$1(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(time$1.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=millisecondsToSeconds$1(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=frameloopDriver$1,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}};function fillWildcards$1(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const radToDeg$1=n=>n*180/Math.PI,rotate$1=n=>{const t=radToDeg$1(Math.atan2(n[1],n[0]));return rebaseAngle$1(t)},matrix2dParsers$1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:rotate$1,rotateZ:rotate$1,skewX:n=>radToDeg$1(Math.atan(n[1])),skewY:n=>radToDeg$1(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},rebaseAngle$1=n=>(n=n%360,n<0&&(n+=360),n),rotateZ$1=rotate$1,scaleX$1=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),scaleY$1=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),matrix3dParsers$1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:scaleX$1,scaleY:scaleY$1,scale:n=>(scaleX$1(n)+scaleY$1(n))/2,rotateX:n=>rebaseAngle$1(radToDeg$1(Math.atan2(n[6],n[5]))),rotateY:n=>rebaseAngle$1(radToDeg$1(Math.atan2(-n[2],n[0]))),rotateZ:rotateZ$1,rotate:rotateZ$1,skewX:n=>radToDeg$1(Math.atan(n[4])),skewY:n=>radToDeg$1(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function defaultTransformValue$1(n){return n.includes("scale")?1:0}function parseValueFromTransform$1(n,t){if(!n||n==="none")return defaultTransformValue$1(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=matrix3dParsers$1,s=e;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=matrix2dParsers$1,s=u}if(!s)return defaultTransformValue$1(t);const a=i[t],o=s[1].split(",").map(convertTransformToNumber$1);return typeof a=="function"?a(o):o[a]}const readTransformValue$1=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return parseValueFromTransform$1(e,t)};function convertTransformToNumber$1(n){return parseFloat(n.trim())}const isNumOrPxType$1=n=>n===number$2||n===px$1,transformKeys$1=new Set(["x","y","z"]),nonTranslationalTransformKeys$1=transformPropOrder$1.filter(n=>!transformKeys$1.has(n));function removeNonTranslationalTransform$1(n){const t=[];return nonTranslationalTransformKeys$1.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const positionalValues$1={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>parseValueFromTransform$1(t,"x"),y:(n,{transform:t})=>parseValueFromTransform$1(t,"y")};positionalValues$1.translateX=positionalValues$1.x;positionalValues$1.translateY=positionalValues$1.y;const toResolve$1=new Set;let isScheduled$1=!1,anyNeedsMeasurement$1=!1,isForced$1=!1;function measureAllKeyframes$1(){if(anyNeedsMeasurement$1){const n=Array.from(toResolve$1).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=removeNonTranslationalTransform$1(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,o])=>{var u;(u=i.getValue(a))==null||u.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}anyNeedsMeasurement$1=!1,isScheduled$1=!1,toResolve$1.forEach(n=>n.complete(isForced$1)),toResolve$1.clear()}function readAllKeyframes$1(){toResolve$1.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(anyNeedsMeasurement$1=!0)})}function flushKeyframeResolvers$1(){isForced$1=!0,readAllKeyframes$1(),measureAllKeyframes$1(),isForced$1=!1}let KeyframeResolver$1=class{constructor(t,e,i,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve$1.add(this),isScheduled$1||(isScheduled$1=!0,frame$1.read(readAllKeyframes$1),frame$1.resolveKeyframes(measureAllKeyframes$1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&e){const u=i.readValue(e,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}fillWildcards$1(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),toResolve$1.delete(this)}cancel(){this.state==="scheduled"&&(toResolve$1.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const isCSSVar$1=n=>n.startsWith("--");function setStyle$1(n,t,e){isCSSVar$1(t)?n.style.setProperty(t,e):n.style[t]=e}function memo$1(n){let t;return()=>(t===void 0&&(t=n()),t)}const supportsScrollTimeline$1=memo$1(()=>window.ScrollTimeline!==void 0),supportsFlags$1={};function memoSupports$1(n,t){const e=memo$1(n);return()=>supportsFlags$1[t]??e()}const supportsLinearEasing$1=memoSupports$1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString$1=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,supportedWaapiEasing$1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString$1([0,.65,.55,1]),circOut:cubicBezierAsString$1([.55,0,1,.45]),backIn:cubicBezierAsString$1([.31,.01,.66,-.59]),backOut:cubicBezierAsString$1([.33,1.53,.69,.99])};function mapEasingToNativeEasing$1(n,t){if(n)return typeof n=="function"?supportsLinearEasing$1()?generateLinearEasing$1(n,t):"ease-out":isBezierDefinition$1(n)?cubicBezierAsString$1(n):Array.isArray(n)?n.map(e=>mapEasingToNativeEasing$1(e,t)||supportedWaapiEasing$1.easeOut):supportedWaapiEasing$1[n]}function startWaapiAnimation$1(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:u="easeOut",times:h}={},d=void 0){const f={[t]:e};h&&(f.offset=h);const g=mapEasingToNativeEasing$1(u,s);Array.isArray(g)&&(f.easing=g);const b={delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),n.animate(f,b)}function isGenerator$1(n){return typeof n=="function"&&"applyToOptions"in n}function applyGeneratorOptions$1({type:n,...t}){return isGenerator$1(n)&&supportsLinearEasing$1()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}let NativeAnimation$1=class extends WithPromise$1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,invariant$2(typeof t.type!="string");const d=applyGeneratorOptions$1(t);this.animation=startWaapiAnimation$1(e,i,s,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=getFinalKeyframe$2(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(f):setStyle$1(e,i,f),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,i;const t=((i=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:i.call(e).duration)||0;return millisecondsToSeconds$1(Number(t))}get time(){return millisecondsToSeconds$1(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds$1(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&supportsScrollTimeline$1()?(this.animation.timeline=t,noop$1):e(this)}};const unsupportedEasingFunctions$1={anticipate:anticipate$1,backInOut:backInOut$1,circInOut:circInOut$1};function isUnsupportedEase$1(n){return n in unsupportedEasingFunctions$1}function replaceStringEasing$1(n){typeof n.ease=="string"&&isUnsupportedEase$1(n.ease)&&(n.ease=unsupportedEasingFunctions$1[n.ease])}const sampleDelta$1=10;let NativeAnimationExtended$1=class extends NativeAnimation$1{constructor(t){replaceStringEasing$1(t),replaceTransitionType$1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:a,...o}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new JSAnimation$1({...o,autoplay:!1}),h=secondsToMilliseconds$1(this.finishedTime??this.time);e.setWithVelocity(u.sample(h-sampleDelta$1).value,u.sample(h).value,sampleDelta$1),u.stop()}};const isAnimatable$1=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(complex$1.test(n)||n==="0")&&!n.startsWith("url("));function hasKeyframesChanged$1(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function canAnimate$1(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],o=isAnimatable$1(s,t),u=isAnimatable$1(a,t);return!o||!u?!1:hasKeyframesChanged$1(n)||(e==="spring"||isGenerator$1(e))&&i}const acceleratedValues$1=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi$1=memo$1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation$1(n){var d;const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:a,type:o}=n;if(!isHTMLElement$1((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return supportsWaapi$1()&&e&&acceleratedValues$1.has(e)&&(e!=="transform"||!h)&&!u&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}const MAX_RESOLVE_DELAY$1=40;let AsyncMotionValueAnimation$1=class extends WithPromise$1{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:u,name:h,motionValue:d,element:f,...g}){var E;super(),this.stop=()=>{var S,R;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=time$1.now();const b={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:o,name:h,motionValue:d,element:f,...g},x=(f==null?void 0:f.KeyframeResolver)||KeyframeResolver$1;this.keyframeResolver=new x(u,(S,R,w)=>this.onKeyframesResolved(S,R,b,!w),h,d,f),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:u,delay:h,isHandoff:d,onUpdate:f}=i;this.resolvedAt=time$1.now(),canAnimate$1(t,a,o,u)||((MotionGlobalConfig$1.instantAnimations||!h)&&(f==null||f(getFinalKeyframe$2(t,i,e))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY$1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},x=!d&&supportsBrowserAnimation$1(b)?new NativeAnimationExtended$1({...b,element:b.motionValue.owner.current}):new JSAnimation$1(b);x.finished.then(()=>this.notifyFinished()).catch(noop$1),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),flushKeyframeResolvers$1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}};const animateMotionValue$1=(n,t,e,i={},s,a)=>o=>{const u=getValueTransition$1(i,n)||{},h=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-secondsToMilliseconds$1(h);const f={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-d,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:a?void 0:s};isTransitionDefined$1(u)||Object.assign(f,getDefaultTransition$1(n,f)),f.duration&&(f.duration=secondsToMilliseconds$1(f.duration)),f.repeatDelay&&(f.repeatDelay=secondsToMilliseconds$1(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),(MotionGlobalConfig$1.instantAnimations||MotionGlobalConfig$1.skipAnimations)&&(g=!0,f.duration=0,f.delay=0),f.allowFlatten=!u.type&&!u.ease,g&&!a&&t.get()!==void 0){const b=getFinalKeyframe$3(f.keyframes,u);if(b!==void 0){frame$1.update(()=>{f.onUpdate(b),f.onComplete()});return}}return u.isSync?new JSAnimation$1(f):new AsyncMotionValueAnimation$1(f)},positionalKeys$1=new Set(["width","height","top","left","right","bottom",...transformPropOrder$1]);function shouldBlockAnimation$1({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function animateTarget$1(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:o,...u}=t;i&&(a=i);const h=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const f in u){const g=n.getValue(f,n.latestValues[f]??null),b=u[f];if(b===void 0||d&&shouldBlockAnimation$1(d,f))continue;const x={delay:e,...getValueTransition$1(a||{},f)},E=g.get();if(E!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===E&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=getOptimisedAppearId$1(n);if(w){const L=window.MotionHandoffAnimation(w,f,frame$1);L!==null&&(x.startTime=L,S=!0)}}addValueToWillChange$1(n,f),g.start(animateMotionValue$1(f,g,b,n.shouldReduceMotion&&positionalKeys$1.has(f)?{type:!1}:x,n,S));const R=g.animation;R&&h.push(R)}return o&&Promise.all(h).then(()=>{frame$1.update(()=>{o&&setTarget$1(n,o)})}),h}function animateVariant$1(n,t,e={}){var h;const i=resolveVariant$1(n,t,e.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const a=i?()=>Promise.all(animateTarget$1(n,i,e)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:b}=s;return animateChildren$1(n,t,f+d,g,b,e)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,f]=u==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(e.delay)])}function animateChildren$1(n,t,e=0,i=0,s=1,a){const o=[],u=(n.variantChildren.size-1)*i,h=s===1?(d=0)=>d*i:(d=0)=>u-d*i;return Array.from(n.variantChildren).sort(sortByTreeOrder$1).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(animateVariant$1(d,t,{...a,delay:e+h(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function sortByTreeOrder$1(n,t){return n.sortNodePosition(t)}function animateVisualElement$1(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>animateVariant$1(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=animateVariant$1(n,t,e);else{const s=typeof t=="function"?resolveVariant$1(n,t,e.custom):t;i=Promise.all(animateTarget$1(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function shallowCompare$1(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const numVariantProps$1=variantProps$1.length;function getVariantContext$1(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?getVariantContext$1(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<numVariantProps$1;e++){const i=variantProps$1[e],s=n.props[i];(isVariantLabel$1(s)||s===!1)&&(t[i]=s)}return t}const reversePriorityOrder$1=[...variantPriorityOrder$1].reverse(),numAnimationTypes$1=variantPriorityOrder$1.length;function animateList$1(n){return t=>Promise.all(t.map(({animation:e,options:i})=>animateVisualElement$1(n,e,i)))}function createAnimationState$1(n){let t=animateList$1(n),e=createState$2(),i=!0;const s=h=>(d,f)=>{var b;const g=resolveVariant$1(n,f,h==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:x,transitionEnd:E,...S}=g;d={...d,...S,...E}}return d};function a(h){t=h(n)}function o(h){const{props:d}=n,f=getVariantContext$1(n.parent)||{},g=[],b=new Set;let x={},E=1/0;for(let R=0;R<numAnimationTypes$1;R++){const w=reversePriorityOrder$1[R],L=e[w],P=d[w]!==void 0?d[w]:f[w],V=isVariantLabel$1(P),B=w===h?L.isActive:null;B===!1&&(E=R);let F=P===f[w]&&P!==d[w]&&V;if(F&&i&&n.manuallyAnimateOnMount&&(F=!1),L.protectedKeys={...x},!L.isActive&&B===null||!P&&!L.prevProp||isAnimationControls$1(P)||typeof P=="boolean")continue;const H=checkVariantsDidChange$1(L.prevProp,P);let K=H||w===h&&L.isActive&&!F&&V||R>E&&V,J=!1;const G=Array.isArray(P)?P:[P];let et=G.reduce(s(w),{});B===!1&&(et={});const{prevResolvedValues:ut={}}=L,Et={...ut,...et},ot=Z=>{K=!0,b.has(Z)&&(J=!0,b.delete(Z)),L.needsAnimating[Z]=!0;const it=n.getValue(Z);it&&(it.liveStyle=!1)};for(const Z in Et){const it=et[Z],Ct=ut[Z];if(x.hasOwnProperty(Z))continue;let I=!1;isKeyframesTarget$1(it)&&isKeyframesTarget$1(Ct)?I=!shallowCompare$1(it,Ct):I=it!==Ct,I?it!=null?ot(Z):b.add(Z):it!==void 0&&b.has(Z)?ot(Z):L.protectedKeys[Z]=!0}L.prevProp=P,L.prevResolvedValues=et,L.isActive&&(x={...x,...et}),i&&n.blockInitialAnimation&&(K=!1),K&&(!(F&&H)||J)&&g.push(...G.map(Z=>({animation:Z,options:{type:w}})))}if(b.size){const R={};if(typeof d.initial!="boolean"){const w=resolveVariant$1(n,Array.isArray(d.initial)?d.initial[0]:d.initial);w&&w.transition&&(R.transition=w.transition)}b.forEach(w=>{const L=n.getBaseTarget(w),P=n.getValue(w);P&&(P.liveStyle=!0),R[w]=L??null}),g.push({animation:R})}let S=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(g):Promise.resolve()}function u(h,d){var g;if(e[h].isActive===d)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(b=>{var x;return(x=b.animationState)==null?void 0:x.setActive(h,d)}),e[h].isActive=d;const f=o(h);for(const b in e)e[b].protectedKeys={};return f}return{animateChanges:o,setActive:u,setAnimateFunction:a,getState:()=>e,reset:()=>{e=createState$2(),i=!0}}}function checkVariantsDidChange$1(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!shallowCompare$1(t,n):!1}function createTypeState$1(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$2(){return{animate:createTypeState$1(!0),whileInView:createTypeState$1(),whileHover:createTypeState$1(),whileTap:createTypeState$1(),whileDrag:createTypeState$1(),whileFocus:createTypeState$1(),exit:createTypeState$1()}}let Feature$1=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},AnimationFeature$1=class extends Feature$1{constructor(t){super(t),t.animationState||(t.animationState=createAnimationState$1(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();isAnimationControls$1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}},id$3=0,ExitAnimationFeature$1=class extends Feature$1{constructor(){super(...arguments),this.id=id$3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const animations$1={animation:{Feature:AnimationFeature$1},exit:{Feature:ExitAnimationFeature$1}};function addDomEvent$1(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const isPrimaryPointer$1=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function extractEventInfo$1(n){return{point:{x:n.pageX,y:n.pageY}}}const addPointerInfo$1=n=>t=>isPrimaryPointer$1(t)&&n(t,extractEventInfo$1(t));function addPointerEvent$1(n,t,e,i){return addDomEvent$1(n,t,addPointerInfo$1(e),i)}function convertBoundingBoxToBox$1({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function convertBoxToBoundingBox$1({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function transformBoxPoints$1(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const SCALE_PRECISION$1=1e-4,SCALE_MIN$1=1-SCALE_PRECISION$1,SCALE_MAX$1=1+SCALE_PRECISION$1,TRANSLATE_PRECISION$1=.01,TRANSLATE_MIN$1=0-TRANSLATE_PRECISION$1,TRANSLATE_MAX$1=0+TRANSLATE_PRECISION$1;function calcLength$1(n){return n.max-n.min}function isNear$1(n,t,e){return Math.abs(n-t)<=e}function calcAxisDelta$1(n,t,e,i=.5){n.origin=i,n.originPoint=mixNumber$3(t.min,t.max,n.origin),n.scale=calcLength$1(e)/calcLength$1(t),n.translate=mixNumber$3(e.min,e.max,n.origin)-n.originPoint,(n.scale>=SCALE_MIN$1&&n.scale<=SCALE_MAX$1||isNaN(n.scale))&&(n.scale=1),(n.translate>=TRANSLATE_MIN$1&&n.translate<=TRANSLATE_MAX$1||isNaN(n.translate))&&(n.translate=0)}function calcBoxDelta$1(n,t,e,i){calcAxisDelta$1(n.x,t.x,e.x,i?i.originX:void 0),calcAxisDelta$1(n.y,t.y,e.y,i?i.originY:void 0)}function calcRelativeAxis$1(n,t,e){n.min=e.min+t.min,n.max=n.min+calcLength$1(t)}function calcRelativeBox$1(n,t,e){calcRelativeAxis$1(n.x,t.x,e.x),calcRelativeAxis$1(n.y,t.y,e.y)}function calcRelativeAxisPosition$1(n,t,e){n.min=t.min-e.min,n.max=n.min+calcLength$1(t)}function calcRelativePosition$1(n,t,e){calcRelativeAxisPosition$1(n.x,t.x,e.x),calcRelativeAxisPosition$1(n.y,t.y,e.y)}const createAxisDelta$1=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta$1=()=>({x:createAxisDelta$1(),y:createAxisDelta$1()}),createAxis$1=()=>({min:0,max:0}),createBox$1=()=>({x:createAxis$1(),y:createAxis$1()});function eachAxis$1(n){return[n("x"),n("y")]}function isIdentityScale$1(n){return n===void 0||n===1}function hasScale$1({scale:n,scaleX:t,scaleY:e}){return!isIdentityScale$1(n)||!isIdentityScale$1(t)||!isIdentityScale$1(e)}function hasTransform$1(n){return hasScale$1(n)||has2DTranslate$1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function has2DTranslate$1(n){return is2DTranslate$1(n.x)||is2DTranslate$1(n.y)}function is2DTranslate$1(n){return n&&n!=="0%"}function scalePoint$1(n,t,e){const i=n-e,s=t*i;return e+s}function applyPointDelta$1(n,t,e,i,s){return s!==void 0&&(n=scalePoint$1(n,s,i)),scalePoint$1(n,e,i)+t}function applyAxisDelta$1(n,t=0,e=1,i,s){n.min=applyPointDelta$1(n.min,t,e,i,s),n.max=applyPointDelta$1(n.max,t,e,i,s)}function applyBoxDelta$1(n,{x:t,y:e}){applyAxisDelta$1(n.x,t.translate,t.scale,t.originPoint),applyAxisDelta$1(n.y,e.translate,e.scale,e.originPoint)}const TREE_SCALE_SNAP_MIN$1=.999999999999,TREE_SCALE_SNAP_MAX$1=1.0000000000001;function applyTreeDeltas$1(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,o;for(let u=0;u<s;u++){a=e[u],o=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&transformBox$1(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,applyBoxDelta$1(n,o)),i&&hasTransform$1(a.latestValues)&&transformBox$1(n,a.latestValues))}t.x<TREE_SCALE_SNAP_MAX$1&&t.x>TREE_SCALE_SNAP_MIN$1&&(t.x=1),t.y<TREE_SCALE_SNAP_MAX$1&&t.y>TREE_SCALE_SNAP_MIN$1&&(t.y=1)}function translateAxis$1(n,t){n.min=n.min+t,n.max=n.max+t}function transformAxis$1(n,t,e,i,s=.5){const a=mixNumber$3(n.min,n.max,s);applyAxisDelta$1(n,t,e,a,i)}function transformBox$1(n,t){transformAxis$1(n.x,t.x,t.scaleX,t.scale,t.originX),transformAxis$1(n.y,t.y,t.scaleY,t.scale,t.originY)}function measureViewportBox$1(n,t){return convertBoundingBoxToBox$1(transformBoxPoints$1(n.getBoundingClientRect(),t))}function measurePageBox$1(n,t,e){const i=measureViewportBox$1(n,e),{scroll:s}=t;return s&&(translateAxis$1(i.x,s.offset.x),translateAxis$1(i.y,s.offset.y)),i}const getContextWindow$1=({current:n})=>n?n.ownerDocument.defaultView:null,distance$1=(n,t)=>Math.abs(n-t);function distance2D$1(n,t){const e=distance$1(n.x,t.x),i=distance$1(n.y,t.y);return Math.sqrt(e**2+i**2)}let PanSession$1=class{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=getPanInfo$1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=distance2D$1(g.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:E}=g,{timestamp:S}=frameData$1;this.history.push({...E,timestamp:S});const{onStart:R,onMove:w}=this.handlers;b||(R&&R(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=transformPoint$1(b,this.transformPagePoint),frame$1.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:x,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=getPanInfo$1(g.type==="pointercancel"?this.lastMoveEventInfo:transformPoint$1(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,R),E&&E(g,R)},!isPrimaryPointer$1(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;const o=extractEventInfo$1(t),u=transformPoint$1(o,this.transformPagePoint),{point:h}=u,{timestamp:d}=frameData$1;this.history=[{...h,timestamp:d}];const{onSessionStart:f}=e;f&&f(t,getPanInfo$1(u,this.history)),this.removeListeners=pipe$1(addPointerEvent$1(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent$1(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent$1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cancelFrame$1(this.updatePoint)}};function transformPoint$1(n,t){return t?{point:t(n.point)}:n}function subtractPoint$1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function getPanInfo$1({point:n},t){return{point:n,delta:subtractPoint$1(n,lastDevicePoint$1(t)),offset:subtractPoint$1(n,startDevicePoint$1(t)),velocity:getVelocity$1(t,.1)}}function startDevicePoint$1(n){return n[0]}function lastDevicePoint$1(n){return n[n.length-1]}function getVelocity$1(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=lastDevicePoint$1(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>secondsToMilliseconds$1(t)));)e--;if(!i)return{x:0,y:0};const a=millisecondsToSeconds$1(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function applyConstraints$1(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?mixNumber$3(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?mixNumber$3(e,n,i.max):Math.min(n,e)),n}function calcRelativeAxisConstraints$1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function calcRelativeConstraints$1(n,{top:t,left:e,bottom:i,right:s}){return{x:calcRelativeAxisConstraints$1(n.x,e,s),y:calcRelativeAxisConstraints$1(n.y,t,i)}}function calcViewportAxisConstraints$1(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function calcViewportConstraints$1(n,t){return{x:calcViewportAxisConstraints$1(n.x,t.x),y:calcViewportAxisConstraints$1(n.y,t.y)}}function calcOrigin$1(n,t){let e=.5;const i=calcLength$1(n),s=calcLength$1(t);return s>i?e=progress$1(t.min,t.max-i,n.min):i>s&&(e=progress$1(n.min,n.max-s,t.min)),clamp$1(0,1,e)}function rebaseAxisConstraints$1(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const defaultElastic$1=.35;function resolveDragElastic$1(n=defaultElastic$1){return n===!1?n=0:n===!0&&(n=defaultElastic$1),{x:resolveAxisElastic$1(n,"left","right"),y:resolveAxisElastic$1(n,"top","bottom")}}function resolveAxisElastic$1(n,t,e){return{min:resolvePointElastic$1(n,t),max:resolvePointElastic$1(n,e)}}function resolvePointElastic$1(n,t){return typeof n=="number"?n:n[t]||0}const isDragging$1={x:!1,y:!1};function isDragActive$1(){return isDragging$1.x||isDragging$1.y}function setDragLock$1(n){return n==="x"||n==="y"?isDragging$1[n]?null:(isDragging$1[n]=!0,()=>{isDragging$1[n]=!1}):isDragging$1.x||isDragging$1.y?null:(isDragging$1.x=isDragging$1.y=!0,()=>{isDragging$1.x=isDragging$1.y=!1})}const elementDragControls$1=new WeakMap;let VisualElementDragControls$1=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox$1(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(extractEventInfo$1(f).point)},a=(f,g)=>{const{drag:b,dragPropagation:x,onDragStart:E}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock$1(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis$1(R=>{let w=this.getAxisMotionValue(R).get()||0;if(percent$1.test(w)){const{projection:L}=this.visualElement;if(L&&L.layout){const P=L.layout.layoutBox[R];P&&(w=calcLength$1(P)*(parseFloat(w)/100))}}this.originPoint[R]=w}),E&&frame$1.postRender(()=>E(f,g)),addValueToWillChange$1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,g)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:E,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:R}=g;if(x&&this.currentDirection===null){this.currentDirection=getCurrentDirection$1(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,R),this.updateAxis("y",g.point,R),this.visualElement.render(),S&&S(f,g)},u=(f,g)=>this.stop(f,g),h=()=>eachAxis$1(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PanSession$1(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:getContextWindow$1(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&frame$1.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!shouldDrag$1(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=applyConstraints$1(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&isRefObject$1(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=calcRelativeConstraints$1(i.layoutBox,t):this.constraints=!1,this.elastic=resolveDragElastic$1(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&eachAxis$1(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rebaseAxisConstraints$1(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!isRefObject$1(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=measurePageBox$1(i,s.root,this.visualElement.getTransformPagePoint());let o=calcViewportConstraints$1(s.layout.layoutBox,a);if(e){const u=e(convertBoxToBoundingBox$1(o));this.hasMutatedConstraints=!!u,u&&(o=convertBoundingBoxToBox$1(u))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=eachAxis$1(f=>{if(!shouldDrag$1(f,e,this.currentDirection))return;let g=h&&h[f]||{};o&&(g={min:0,max:0});const b=s?200:1e6,x=s?40:1e7,E={type:"inertia",velocity:i?t[f]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(f,E)});return Promise.all(d).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return addValueToWillChange$1(this.visualElement,t),i.start(animateMotionValue$1(t,i,0,e,this.visualElement,!1))}stopAnimation(){eachAxis$1(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){eachAxis$1(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){eachAxis$1(e=>{const{drag:i}=this.getProps();if(!shouldDrag$1(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[e];a.set(t[e]-mixNumber$3(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!isRefObject$1(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};eachAxis$1(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const h=u.get();s[o]=calcOrigin$1({min:h,max:h},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),eachAxis$1(o=>{if(!shouldDrag$1(o,t,null))return;const u=this.getAxisMotionValue(o),{min:h,max:d}=this.constraints[o];u.set(mixNumber$3(h,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls$1.set(this.visualElement,this);const t=this.visualElement.current,e=addPointerEvent$1(t,"pointerdown",h=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();isRefObject$1(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),frame$1.read(i);const o=addDomEvent$1(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(eachAxis$1(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=h[f].translate,g.set(g.get()+h[f].translate))}),this.visualElement.render())});return()=>{o(),e(),a(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=defaultElastic$1,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:u}}};function shouldDrag$1(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function getCurrentDirection$1(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}let DragGesture$1=class extends Feature$1{constructor(t){super(t),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls$1(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}};const asyncHandler$1=n=>(t,e)=>{n&&frame$1.postRender(()=>n(t,e))};let PanGesture$1=class extends Feature$1{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(t){this.session=new PanSession$1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow$1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:asyncHandler$1(t),onStart:asyncHandler$1(e),onMove:i,onEnd:(a,o)=>{delete this.session,s&&frame$1.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=addPointerEvent$1(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const globalProjectionState$1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent$1(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const correctBorderRadius$1={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(px$1.test(n))n=parseFloat(n);else return n;const e=pixelsToPercent$1(n,t.target.x),i=pixelsToPercent$1(n,t.target.y);return`${e}% ${i}%`}},correctBoxShadow$1={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=complex$1.parse(n);if(s.length>5)return i;const a=complex$1.createTransformer(n),o=typeof s[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;s[0+o]/=u,s[1+o]/=h;const d=mixNumber$3(u,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),a(s)}};let MeasureLayoutWithContext$1=class extends reactExports.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;addScaleCorrector$1(defaultScaleCorrectors$1),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,s||t.layoutDependency!==e||e===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||frame$1.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),microtask$1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function MeasureLayout$1(n){const[t,e]=usePresence$1(),i=reactExports.useContext(LayoutGroupContext$1);return jsxRuntimeExports.jsx(MeasureLayoutWithContext$1,{...n,layoutGroup:i,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext$1),isPresent:t,safeToRemove:e})}const defaultScaleCorrectors$1={borderRadius:{...correctBorderRadius$1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius$1,borderTopRightRadius:correctBorderRadius$1,borderBottomLeftRadius:correctBorderRadius$1,borderBottomRightRadius:correctBorderRadius$1,boxShadow:correctBoxShadow$1};function animateSingleValue$1(n,t,e){const i=isMotionValue$1(n)?n:motionValue$1(n);return i.start(animateMotionValue$1("",i,t,e)),i.animation}const compareByDepth$1=(n,t)=>n.depth-t.depth;let FlatTree$1=class{constructor(){this.children=[],this.isDirty=!1}add(t){addUniqueItem$1(this.children,t),this.isDirty=!0}remove(t){removeItem$1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(compareByDepth$1),this.isDirty=!1,this.children.forEach(t)}};function delay$1(n,t){const e=time$1.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(cancelFrame$1(i),n(a-t))};return frame$1.setup(i,!0),()=>cancelFrame$1(i)}const borders$1=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders$1=borders$1.length,asNumber$1=n=>typeof n=="string"?parseFloat(n):n,isPx$1=n=>typeof n=="number"||px$1.test(n);function mixValues$1(n,t,e,i,s,a){s?(n.opacity=mixNumber$3(0,e.opacity??1,easeCrossfadeIn$1(i)),n.opacityExit=mixNumber$3(t.opacity??1,0,easeCrossfadeOut$1(i))):a&&(n.opacity=mixNumber$3(t.opacity??1,e.opacity??1,i));for(let o=0;o<numBorders$1;o++){const u=`border${borders$1[o]}Radius`;let h=getRadius$1(t,u),d=getRadius$1(e,u);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||isPx$1(h)===isPx$1(d)?(n[u]=Math.max(mixNumber$3(asNumber$1(h),asNumber$1(d),i),0),(percent$1.test(d)||percent$1.test(h))&&(n[u]+="%")):n[u]=d}(t.rotate||e.rotate)&&(n.rotate=mixNumber$3(t.rotate||0,e.rotate||0,i))}function getRadius$1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const easeCrossfadeIn$1=compress$1(0,.5,circOut$1),easeCrossfadeOut$1=compress$1(.5,.95,noop$1);function compress$1(n,t,e){return i=>i<n?0:i>t?1:e(progress$1(n,t,i))}function copyAxisInto$1(n,t){n.min=t.min,n.max=t.max}function copyBoxInto$1(n,t){copyAxisInto$1(n.x,t.x),copyAxisInto$1(n.y,t.y)}function copyAxisDeltaInto$1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function removePointDelta$1(n,t,e,i,s){return n-=t,n=scalePoint$1(n,1/e,i),s!==void 0&&(n=scalePoint$1(n,1/s,i)),n}function removeAxisDelta$1(n,t=0,e=1,i=.5,s,a=n,o=n){if(percent$1.test(t)&&(t=parseFloat(t),t=mixNumber$3(o.min,o.max,t/100)-o.min),typeof t!="number")return;let u=mixNumber$3(a.min,a.max,i);n===a&&(u-=t),n.min=removePointDelta$1(n.min,t,e,u,s),n.max=removePointDelta$1(n.max,t,e,u,s)}function removeAxisTransforms$1(n,t,[e,i,s],a,o){removeAxisDelta$1(n,t[e],t[i],t[s],t.scale,a,o)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function removeBoxTransforms$1(n,t,e,i){removeAxisTransforms$1(n.x,t,xKeys$1,e?e.x:void 0,i?i.x:void 0),removeAxisTransforms$1(n.y,t,yKeys$1,e?e.y:void 0,i?i.y:void 0)}function isAxisDeltaZero$1(n){return n.translate===0&&n.scale===1}function isDeltaZero$1(n){return isAxisDeltaZero$1(n.x)&&isAxisDeltaZero$1(n.y)}function axisEquals$1(n,t){return n.min===t.min&&n.max===t.max}function boxEquals$1(n,t){return axisEquals$1(n.x,t.x)&&axisEquals$1(n.y,t.y)}function axisEqualsRounded$1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function boxEqualsRounded$1(n,t){return axisEqualsRounded$1(n.x,t.x)&&axisEqualsRounded$1(n.y,t.y)}function aspectRatio$1(n){return calcLength$1(n.x)/calcLength$1(n.y)}function axisDeltaEquals$1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}let NodeStack$1=class{constructor(){this.members=[]}add(t){addUniqueItem$1(this.members,t),t.scheduleRender()}remove(t){if(removeItem$1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function buildProjectionTransform$1(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||a||o)&&(i=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:f,rotateX:g,rotateY:b,skewX:x,skewY:E}=e;d&&(i=`perspective(${d}px) ${i}`),f&&(i+=`rotate(${f}deg) `),g&&(i+=`rotateX(${g}deg) `),b&&(i+=`rotateY(${b}deg) `),x&&(i+=`skewX(${x}deg) `),E&&(i+=`skewY(${E}deg) `)}const u=n.x.scale*t.x,h=n.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}function isSVGElement$1(n){return isObject$1(n)&&"ownerSVGElement"in n}function isSVGSVGElement$1(n){return isSVGElement$1(n)&&n.tagName==="svg"}const transformAxes$1=["","X","Y","Z"],hiddenVisibility$1={visibility:"hidden"},animationTarget$1=1e3;let id$2=0;function resetDistortingTransform$1(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function cancelTreeOptimisedTransformAnimations$1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=getOptimisedAppearId$1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",frame$1,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations$1(i)}function createProjectionNode$2({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},u=t==null?void 0:t()){this.id=id$2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes$1),this.nodes.forEach(resolveTargetDelta$1),this.nodes.forEach(calcProjection$1),this.nodes.forEach(cleanDirtyNodes$1)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree$1)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new SubscriptionManager$1),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const h=this.eventHandlers.get(o);h&&h.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=isSVGElement$1(o)&&!isSVGSVGElement$1(o),this.instance=o;const{layoutId:u,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let f;const g=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=delay$1(g,250),globalProjectionState$1.hasAnimatedSinceResize&&(globalProjectionState$1.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation$1))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||h)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||defaultLayoutTransition$1,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=d.getProps(),w=!this.targetLayout||!boxEqualsRounded$1(this.targetLayout,x),L=!g&&b;if(this.options.layoutRoot||this.resumeFrom||L||g&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...getValueTransition$1(E,"layout"),onPlay:S,onComplete:R};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,L)}else g||finishAnimation$1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame$1(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation$1),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations$1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements$1);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty$1),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle$1),this.nodes.forEach(updateLayout$1),this.nodes.forEach(notifyLayoutUpdate$1),this.clearAllSnapshots();const u=time$1.now();frameData$1.delta=clamp$1(0,1e3/60,u-frameData$1.timestamp),frameData$1.timestamp=u,frameData$1.isProcessing=!0,frameSteps$1.update.process(frameData$1),frameSteps$1.preRender.process(frameData$1),frameSteps$1.render.process(frameData$1),frameData$1.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask$1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot$1),this.sharedNodes.forEach(removeLeadSnapshots$1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame$1.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame$1.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength$1(this.snapshot.measuredBox.x)&&!calcLength$1(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox$1(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!isDeltaZero$1(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(u||hasTransform$1(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return o&&(h=this.removeTransform(h)),roundBox$1(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return createBox$1();const u=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(checkNodeWasScrollRoot$1))){const{scroll:f}=this.root;f&&(translateAxis$1(u.x,f.offset.x),translateAxis$1(u.y,f.offset.y))}return u}removeElementScroll(o){var h;const u=createBox$1();if(copyBoxInto$1(u,o),(h=this.scroll)!=null&&h.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:b}=f;f!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&copyBoxInto$1(u,o),translateAxis$1(u.x,g.offset.x),translateAxis$1(u.y,g.offset.y))}return u}applyTransform(o,u=!1){const h=createBox$1();copyBoxInto$1(h,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&transformBox$1(h,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hasTransform$1(f.latestValues)&&transformBox$1(h,f.latestValues)}return hasTransform$1(this.latestValues)&&transformBox$1(h,this.latestValues),h}removeTransform(o){const u=createBox$1();copyBoxInto$1(u,o);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!hasTransform$1(d.latestValues))continue;hasScale$1(d.latestValues)&&d.updateSnapshot();const f=createBox$1(),g=d.measurePageBox();copyBoxInto$1(f,g),removeBoxTransforms$1(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return hasTransform$1(this.latestValues)&&removeBoxTransforms$1(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData$1.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=frameData$1.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition$1(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),copyBoxInto$1(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox$1(),this.targetWithTransforms=createBox$1()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox$1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto$1(this.target,this.layout.layoutBox),applyBoxDelta$1(this.target,this.targetDelta)):copyBoxInto$1(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition$1(this.relativeTargetOrigin,this.target,x.target),copyBoxInto$1(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale$1(this.parent.latestValues)||has2DTranslate$1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===frameData$1.timestamp&&(h=!1),h)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;copyBoxInto$1(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;applyTreeDeltas$1(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=createBox$1());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto$1(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto$1(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta$1(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!axisDeltaEquals$1(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals$1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta$1(),this.projectionDelta=createDelta$1(),this.projectionDeltaWithTransform=createDelta$1()}setAnimationOrigin(o,u=!1){const h=this.snapshot,d=h?h.latestValues:{},f={...this.latestValues},g=createDelta$1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=createBox$1(),x=h?h.source:void 0,E=this.layout?this.layout.source:void 0,S=x!==E,R=this.getStack(),w=!R||R.members.length<=1,L=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade$1));this.animationProgress=0;let P;this.mixTargetDelta=V=>{const B=V/1e3;mixAxisDelta$1(g.x,o.x,B),mixAxisDelta$1(g.y,o.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition$1(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox$1(this.relativeTarget,this.relativeTargetOrigin,b,B),P&&boxEquals$1(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=createBox$1()),copyBoxInto$1(P,this.relativeTarget)),S&&(this.animationValues=f,mixValues$1(f,d,this.latestValues,B,L,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,h,d;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(d=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||d.stop(),this.pendingAnimation&&(cancelFrame$1(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame$1.update(()=>{globalProjectionState$1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue$1(0)),this.currentAnimation=animateSingleValue$1(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget$1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:h,layout:d,latestValues:f}=o;if(!(!u||!h||!d)){if(this!==o&&this.layout&&d&&shouldAnimatePositionOnly$1(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||createBox$1();const g=calcLength$1(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+g;const b=calcLength$1(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+b}copyBoxInto$1(u,h),transformBox$1(u,f),calcBoxDelta$1(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NodeStack$1),this.sharedNodes.get(o).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const d={};h.z&&resetDistortingTransform$1("z",o,d,this.animationValues);for(let f=0;f<transformAxes$1.length;f++)resetDistortingTransform$1(`rotate${transformAxes$1[f]}`,o,d,this.animationValues),resetDistortingTransform$1(`skew${transformAxes$1[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility$1;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=resolveMotionValue$1(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=resolveMotionValue$1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!hasTransform$1(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=buildProjectionTransform$1(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:g,y:b}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?u.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in scaleCorrectors$1){if(f[x]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:R}=scaleCorrectors$1[x],w=u.transform==="none"?f[x]:E(f[x],d);if(S){const L=S.length;for(let P=0;P<L;P++)u[S[P]]=w}else R?this.options.visualElement.renderState.vars[x]=w:u[x]=w}return this.options.layoutId&&(u.pointerEvents=d===this?resolveMotionValue$1(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(clearMeasurements$1),this.root.sharedNodes.clear()}}}function updateLayout$1(n){n.updateLayout()}function notifyLayoutUpdate$1(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:a}=n.options,o=t.source!==n.layout.source;a==="size"?eachAxis$1(g=>{const b=o?t.measuredBox[g]:t.layoutBox[g],x=calcLength$1(b);b.min=i[g].min,b.max=b.min+x}):shouldAnimatePositionOnly$1(a,t.layoutBox,i)&&eachAxis$1(g=>{const b=o?t.measuredBox[g]:t.layoutBox[g],x=calcLength$1(i[g]);b.max=b.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+x)});const u=createDelta$1();calcBoxDelta$1(u,i,t.layoutBox);const h=createDelta$1();o?calcBoxDelta$1(h,n.applyTransform(s,!0),t.measuredBox):calcBoxDelta$1(h,i,t.layoutBox);const d=!isDeltaZero$1(u);let f=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const E=createBox$1();calcRelativePosition$1(E,t.layoutBox,b.layoutBox);const S=createBox$1();calcRelativePosition$1(S,i,x.layoutBox),boxEqualsRounded$1(E,S)||(f=!0),g.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function propagateDirtyNodes$1(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function cleanDirtyNodes$1(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function clearSnapshot$1(n){n.clearSnapshot()}function clearMeasurements$1(n){n.clearMeasurements()}function clearIsLayoutDirty$1(n){n.isLayoutDirty=!1}function resetTransformStyle$1(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function finishAnimation$1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function resolveTargetDelta$1(n){n.resolveTargetDelta()}function calcProjection$1(n){n.calcProjection()}function resetSkewAndRotation$1(n){n.resetSkewAndRotation()}function removeLeadSnapshots$1(n){n.removeLeadSnapshot()}function mixAxisDelta$1(n,t,e){n.translate=mixNumber$3(t.translate,0,e),n.scale=mixNumber$3(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function mixAxis$1(n,t,e,i){n.min=mixNumber$3(t.min,e.min,i),n.max=mixNumber$3(t.max,e.max,i)}function mixBox$1(n,t,e,i){mixAxis$1(n.x,t.x,e.x,i),mixAxis$1(n.y,t.y,e.y,i)}function hasOpacityCrossfade$1(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const defaultLayoutTransition$1={duration:.45,ease:[.4,0,.1,1]},userAgentContains$1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),roundPoint$1=userAgentContains$1("applewebkit/")&&!userAgentContains$1("chrome/")?Math.round:noop$1;function roundAxis$1(n){n.min=roundPoint$1(n.min),n.max=roundPoint$1(n.max)}function roundBox$1(n){roundAxis$1(n.x),roundAxis$1(n.y)}function shouldAnimatePositionOnly$1(n,t,e){return n==="position"||n==="preserve-aspect"&&!isNear$1(aspectRatio$1(t),aspectRatio$1(e),.2)}function checkNodeWasScrollRoot$1(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const DocumentProjectionNode$1=createProjectionNode$2({attachResizeListener:(n,t)=>addDomEvent$1(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode$1={current:void 0},HTMLProjectionNode$1=createProjectionNode$2({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rootProjectionNode$1.current){const n=new DocumentProjectionNode$1({});n.mount(window),n.setOptions({layoutScroll:!0}),rootProjectionNode$1.current=n}return rootProjectionNode$1.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),drag$1={pan:{Feature:PanGesture$1},drag:{Feature:DragGesture$1,ProjectionNode:HTMLProjectionNode$1,MeasureLayout:MeasureLayout$1}};function resolveElements$1(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(e==null?void 0:e[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function setupGesture$1(n,t){const e=resolveElements$1(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function isValidHover$1(n){return!(n.pointerType==="touch"||isDragActive$1())}function hover$1(n,t,e={}){const[i,s,a]=setupGesture$1(n,e),o=u=>{if(!isValidHover$1(u))return;const{target:h}=u,d=t(h,u);if(typeof d!="function"||!h)return;const f=g=>{isValidHover$1(g)&&(d(g),h.removeEventListener("pointerleave",f))};h.addEventListener("pointerleave",f,s)};return i.forEach(u=>{u.addEventListener("pointerenter",o,s)}),a}function handleHoverEvent$1(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&frame$1.postRender(()=>a(t,extractEventInfo$1(t)))}let HoverGesture$1=class extends Feature$1{mount(){const{current:t}=this.node;t&&(this.unmount=hover$1(t,(e,i)=>(handleHoverEvent$1(this.node,i,"Start"),s=>handleHoverEvent$1(this.node,s,"End"))))}unmount(){}},FocusGesture$1=class extends Feature$1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent$1(this.node.current,"focus",()=>this.onFocus()),addDomEvent$1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const isNodeOrChild$1=(n,t)=>t?n===t?!0:isNodeOrChild$1(n,t.parentElement):!1,focusableElements$1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible$1(n){return focusableElements$1.has(n.tagName)||n.tabIndex!==-1}const isPressing$1=new WeakSet;function filterEvents$1(n){return t=>{t.key==="Enter"&&n(t)}}function firePointerEvent$1(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress$1=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=filterEvents$1(()=>{if(isPressing$1.has(e))return;firePointerEvent$1(e,"down");const s=filterEvents$1(()=>{firePointerEvent$1(e,"up")}),a=()=>firePointerEvent$1(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function isValidPressEvent$1(n){return isPrimaryPointer$1(n)&&!isDragActive$1()}function press$1(n,t,e={}){const[i,s,a]=setupGesture$1(n,e),o=u=>{const h=u.currentTarget;if(!isValidPressEvent$1(u))return;isPressing$1.add(h);const d=t(h,u),f=(x,E)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),isPressing$1.has(h)&&isPressing$1.delete(h),isValidPressEvent$1(x)&&typeof d=="function"&&d(x,{success:E})},g=x=>{f(x,h===window||h===document||e.useGlobalTarget||isNodeOrChild$1(h,x.target))},b=x=>{f(x,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",b,s)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),isHTMLElement$1(u)&&(u.addEventListener("focus",d=>enableKeyboardPress$1(d,s)),!isElementKeyboardAccessible$1(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function handlePressEvent$1(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&frame$1.postRender(()=>a(t,extractEventInfo$1(t)))}let PressGesture$1=class extends Feature$1{mount(){const{current:t}=this.node;t&&(this.unmount=press$1(t,(e,i)=>(handlePressEvent$1(this.node,i,"Start"),(s,{success:a})=>handlePressEvent$1(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const observerCallbacks$1=new WeakMap,observers$1=new WeakMap,fireObserverCallback$1=n=>{const t=observerCallbacks$1.get(n.target);t&&t(n)},fireAllObserverCallbacks$1=n=>{n.forEach(fireObserverCallback$1)};function initIntersectionObserver$1({root:n,...t}){const e=n||document;observers$1.has(e)||observers$1.set(e,{});const i=observers$1.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(fireAllObserverCallbacks$1,{root:n,...t})),i[s]}function observeIntersection$1(n,t,e){const i=initIntersectionObserver$1(t);return observerCallbacks$1.set(n,e),i.observe(n),()=>{observerCallbacks$1.delete(n),i.unobserve(n)}}const thresholdNames$1={some:0,all:1};let InViewFeature$1=class extends Feature$1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:thresholdNames$1[s]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),b=d?f:g;b&&b(h)};return observeIntersection$1(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(hasViewportOptionChanged$1(t,e))&&this.startObserver()}unmount(){}};function hasViewportOptionChanged$1({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const gestureAnimations$1={inView:{Feature:InViewFeature$1},tap:{Feature:PressGesture$1},focus:{Feature:FocusGesture$1},hover:{Feature:HoverGesture$1}},layout$1={layout:{ProjectionNode:HTMLProjectionNode$1,MeasureLayout:MeasureLayout$1}},prefersReducedMotion$1={current:null},hasReducedMotionListener$1={current:!1};function initPrefersReducedMotion$1(){if(hasReducedMotionListener$1.current=!0,!!isBrowser$2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>prefersReducedMotion$1.current=n.matches;n.addListener(t),t()}else prefersReducedMotion$1.current=!1}const visualElementStore$1=new WeakMap;function updateMotionValuesFromProps$1(n,t,e){for(const i in t){const s=t[i],a=e[i];if(isMotionValue$1(s))n.addValue(i,s);else if(isMotionValue$1(a))n.addValue(i,motionValue$1(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,motionValue$1(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const isNumericalString$1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),isZeroValueString$1=n=>/^0[^.\s]+$/u.test(n),auto$1={test:n=>n==="auto",parse:n=>n},testValueType$1=n=>t=>t.test(n),dimensionValueTypes$1=[number$2,px$1,percent$1,degrees$1,vw$1,vh$1,auto$1],findDimensionValueType$1=n=>dimensionValueTypes$1.find(testValueType$1(n)),valueTypes$1=[...dimensionValueTypes$1,color$2,complex$1],findValueType$1=n=>valueTypes$1.find(testValueType$1(n)),maxDefaults$1=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter$1(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(floatRegex$1)||[];if(!i)return n;const s=e.replace(i,"");let a=maxDefaults$1.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const functionRegex$1=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex$1,getAnimatableNone:n=>{const t=n.match(functionRegex$1);return t?t.map(applyDefaultFilter$1).join(" "):n}},defaultValueTypes$1={...numberValueTypes$1,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType$1=n=>defaultValueTypes$1[n];function getAnimatableNone$2(n,t){let e=getDefaultValueType$1(n);return e!==filter$1&&(e=complex$1),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const propEventHandlers$1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let VisualElement$1=class{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver$1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=time$1.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,frame$1.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=isControllingVariants$1(e),this.isVariantNode=isVariantNode$1(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in g){const x=g[b];h[b]!==void 0&&isMotionValue$1(x)&&x.set(h[b],!1)}}mount(t){this.current=t,visualElementStore$1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),hasReducedMotionListener$1.current||initPrefersReducedMotion$1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion$1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame$1(this.notifyUpdate),cancelFrame$1(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=transformProps$1.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&frame$1.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in featureDefinitions$1){const e=featureDefinitions$1[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox$1()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<propEventHandlers$1.length;i++){const s=propEventHandlers$1[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=updateMotionValuesFromProps$1(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=motionValue$1(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(isNumericalString$1(i)||isZeroValueString$1(i))?i=parseFloat(i):!findValueType$1(i)&&complex$1.test(e)&&(i=getAnimatableNone$2(t,e)),this.setBaseTarget(t,isMotionValue$1(i)?i.get():i)),isMotionValue$1(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var a;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=resolveVariantFromProps$1(this.props,e,(a=this.presenceContext)==null?void 0:a.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!isMotionValue$1(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new SubscriptionManager$1),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}};const splitCSSVariableRegex$1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable$1(n){const t=splitCSSVariableRegex$1.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function getVariableValue$1(n,t,e=1){const[i,s]=parseCSSVariable$1(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const o=a.trim();return isNumericalString$1(o)?parseFloat(o):o}return isCSSVariableToken$1(s)?getVariableValue$1(s,t,e+1):s}function isNone$1(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||isZeroValueString$1(n):!0}const invalidTemplates$1=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable$1(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!invalidTemplates$1.has(a)&&analyseComplexValue$1(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=getAnimatableNone$2(e,s)}let DOMKeyframesResolver$1=class extends KeyframeResolver$1{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),isCSSVariableToken$1(d))){const f=getVariableValue$1(d,e.current);f!==void 0&&(t[h]=f),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!positionalKeys$1.has(i)||t.length!==2)return;const[s,a]=t,o=findDimensionValueType$1(s),u=findDimensionValueType$1(a);if(o!==u)if(isNumOrPxType$1(o)&&isNumOrPxType$1(u))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else positionalValues$1[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||isNone$1(t[s]))&&i.push(s);i.length&&makeNoneKeyframesAnimatable$1(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues$1[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=positionalValues$1[e](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}},DOMVisualElement$1=class extends VisualElement$1{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver$1}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;isMotionValue$1(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}};function renderHTML$1(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const a in e)n.style.setProperty(a,e[a])}function getComputedStyle$2(n){return window.getComputedStyle(n)}let HTMLVisualElement$1=class extends DOMVisualElement$1{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML$1}readValueFromInstance(t,e){var i;if(transformProps$1.has(e))return(i=this.projection)!=null&&i.isProjecting?defaultTransformValue$1(e):readTransformValue$1(t,e);{const s=getComputedStyle$2(t),a=(isCSSVariableName$1(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return measureViewportBox$1(t,e)}build(t,e,i){buildHTMLStyles$1(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return scrapeMotionValuesFromProps$3(t,e,i)}};const camelCaseAttributes$1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG$1(n,t,e,i){renderHTML$1(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(camelCaseAttributes$1.has(s)?s:camelToDash$1(s),t.attrs[s])}let SVGVisualElement$1=class extends DOMVisualElement$1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox$1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(transformProps$1.has(e)){const i=getDefaultValueType$1(e);return i&&i.default||0}return e=camelCaseAttributes$1.has(e)?e:camelToDash$1(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return scrapeMotionValuesFromProps$2(t,e,i)}build(t,e,i){buildSVGAttrs$1(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){renderSVG$1(t,e,i,s)}mount(t){this.isSVGTag=isSVGTag$1(t.tagName),super.mount(t)}};const createDomVisualElement$1=(n,t)=>isSVGComponent$1(n)?new SVGVisualElement$1(t):new HTMLVisualElement$1(t,{allowProjection:n!==reactExports.Fragment}),createMotionComponent$1=createMotionComponentFactory$1({...animations$1,...gestureAnimations$1,...drag$1,...layout$1},createDomVisualElement$1),motion$1=createDOMMotionComponentProxy$1(createMotionComponent$1);function AnimatedLayout({children:n}){const t=useLocation();return jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},children:n},t.pathname)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},__assign.apply(this,arguments)};function __rest(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}var hashFragment="",observer=null,asyncTimerId=null,scrollFunction=null;function reset(){hashFragment="",observer!==null&&observer.disconnect(),asyncTimerId!==null&&(window.clearTimeout(asyncTimerId),asyncTimerId=null)}function isInteractiveElement(n){var t=["BUTTON","INPUT","SELECT","TEXTAREA"],e=["A","AREA"];return t.includes(n.tagName)&&!n.hasAttribute("disabled")||e.includes(n.tagName)&&n.hasAttribute("href")}function getElAndScroll(){var n=null;if(hashFragment==="#")n=document.body;else{var t=hashFragment.replace("#","");n=document.getElementById(t),n===null&&hashFragment==="#top"&&(n=document.body)}if(n!==null){scrollFunction(n);var e=n.getAttribute("tabindex");return e===null&&!isInteractiveElement(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),e===null&&!isInteractiveElement(n)&&(n.blur(),n.removeAttribute("tabindex")),reset(),!0}return!1}function hashLinkScroll(n){window.setTimeout(function(){getElAndScroll()===!1&&(observer===null&&(observer=new MutationObserver(getElAndScroll)),observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),asyncTimerId=window.setTimeout(function(){reset()},n||1e4))},0)}function genericHashLink(n){return React.forwardRef(function(t,e){var i="";typeof t.to=="string"&&t.to.includes("#")?i="#"+t.to.split("#").slice(1).join("#"):typeof t.to=="object"&&typeof t.to.hash=="string"&&(i=t.to.hash);var s={};n===NavLink&&(s.isActive=function(u,h){return u&&u.isExact&&h.hash===i});function a(u){reset(),hashFragment=t.elementId?"#"+t.elementId:i,t.onClick&&t.onClick(u),hashFragment!==""&&!u.defaultPrevented&&u.button===0&&(!t.target||t.target==="_self")&&!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)&&(scrollFunction=t.scroll||function(h){return t.smooth?h.scrollIntoView({behavior:"smooth"}):h.scrollIntoView()},hashLinkScroll(t.timeout))}var o=__rest(t,["scroll","smooth","timeout","elementId"]);return React.createElement(n,__assign({},s,o,{onClick:a,ref:e}),t.children)})}var HashLink=genericHashLink(Link);genericHashLink(NavLink);function autoTyper(n,t,e=100){const i=Array.isArray(t)?t:[t];if(!n||i.length===0)return;let s=0,a=0,o=!1;function u(){const h=i[s],d=h.substring(0,a);n.innerHTML=`<span class="wrap">${d}</span>`,o?a>0?(a--,setTimeout(u,e)):(o=!1,s=(s+1)%i.length,setTimeout(u,500)):a<h.length?(a++,setTimeout(u,e)):(o=!0,setTimeout(u,2e3))}u()}const __vite_glob_0_20="/assets/landing-background-gKSteKtJ.gif";function LandingPage(){const n=reactExports.useRef(null),t={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.95}};return reactExports.useEffect(()=>{n.current&&autoTyper(n.current,["Software Engineer","DevOps","Embedded Systems","Full Stack"],100)},[]),jsxRuntimeExports.jsxs(motion$1.div,{variants:t,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.5},className:"relative min-h-screen overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:__vite_glob_0_20,alt:"background animation",className:"absolute inset-0 w-full h-full object-cover -z-10",loading:"eager"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60 -z-5"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6 text-white text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-extrabold mb-6",children:"Eddy Pan"}),jsxRuntimeExports.jsx("div",{className:"w-full overflow-hidden bg-transparent text-white",children:jsxRuntimeExports.jsx("div",{ref:n,className:"text-lg"})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 flex space-x-4",children:[jsxRuntimeExports.jsx(HashLink,{smooth:!0,to:"#about",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"About Me"}),jsxRuntimeExports.jsx(HashLink,{smooth:!0,to:"#projects",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"My Work"})]})]}),jsxRuntimeExports.jsx("style",{children:".wrap { border-right: 0.08em solid #666; }"})]})}const LayoutGroupContext=reactExports.createContext({});function useConstant(n){const t=reactExports.useRef(null);return t.current===null&&(t.current=n()),t.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(n,t){n.indexOf(t)===-1&&n.push(t)}function removeItem(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const clamp=(n,t,e)=>e>t?t:e<n?n:e;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function isObject(n){return typeof n=="object"&&n!==null}const isZeroValueString=n=>/^0[^.\s]+$/u.test(n);function memo(n){let t;return()=>(t===void 0&&(t=n()),t)}const noop=n=>n,combineFunctions=(n,t)=>e=>t(n(e)),pipe=(...n)=>n.reduce(combineFunctions),progress=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class SubscriptionManager{constructor(){this.subscriptions=[]}add(t){return addUniqueItem(this.subscriptions,t),()=>removeItem(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=n=>n*1e3,millisecondsToSeconds=n=>n/1e3;function velocityPerSecond(n,t){return t?n*(1e3/t):0}const calcBezier=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(n,t,e,i,s){let a,o,u=0;do o=t+(e-t)/2,a=calcBezier(o,i,s)-n,a>0?e=o:t=o;while(Math.abs(a)>subdivisionPrecision&&++u<subdivisionMaxIterations);return o}function cubicBezier(n,t,e,i){if(n===t&&e===i)return noop;const s=a=>binarySubdivide(a,0,1,n,e);return a=>a===0||a===1?a:calcBezier(s(a),t,i)}const mirrorEasing=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,reverseEasing=n=>t=>1-n(1-t),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=n=>(n*=2)<1?.5*backIn(n):.5*(2-Math.pow(2,-10*(n-1))),circIn=n=>1-Math.sin(Math.acos(n)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=n=>Array.isArray(n)&&typeof n[0]!="number",isBezierDefinition=n=>Array.isArray(n)&&typeof n[0]=="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=n=>typeof n=="string",easingDefinitionToFunction=n=>{if(isBezierDefinition(n)){invariant$1(n.length===4);const[t,e,i,s]=n;return cubicBezier(t,e,i,s)}else if(isValidEasing(n))return easingLookup[n];return n},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(n,t){let e=new Set,i=new Set,s=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(f){o.has(f)&&(d.schedule(f),n()),f(u)}const d={schedule:(f,g=!1,b=!1)=>{const E=b&&s?e:i;return g&&o.add(f),E.has(f)||E.add(f),f},cancel:f=>{i.delete(f),o.delete(f)},process:f=>{if(u=f,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(h),e.clear(),s=!1,a&&(a=!1,d.process(f))}};return d}const maxElapsed=40;function createRenderBatcher(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,o=stepsOrder.reduce((P,V)=>(P[V]=createRenderStep(a),P),{}),{setup:u,read:h,resolveKeyframes:d,preUpdate:f,update:g,preRender:b,render:x,postRender:E}=o,S=()=>{const P=MotionGlobalConfig.useManualTiming?s.timestamp:performance.now();e=!1,MotionGlobalConfig.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(P-s.timestamp,maxElapsed),1)),s.timestamp=P,s.isProcessing=!0,u.process(s),h.process(s),d.process(s),f.process(s),g.process(s),b.process(s),x.process(s),E.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(S))},R=()=>{e=!0,i=!0,s.isProcessing||n(S)};return{schedule:stepsOrder.reduce((P,V)=>{const B=o[V];return P[V]=(F,H=!1,K=!1)=>(e||R(),B.schedule(F,H,K)),P},{}),cancel:P=>{for(let V=0;V<stepsOrder.length;V++)o[stepsOrder[V]].cancel(P)},state:s,steps:o}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:n=>{now=n,queueMicrotask(clearTime)}},checkStringStartsWith=n=>t=>typeof t=="string"&&t.startsWith(n),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=n=>startsAsVariableToken(n)?singleCssVariableRegex.test(n.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$1={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},alpha={...number$1,transform:n=>clamp(0,1,n)},scale={...number$1,default:1},sanitize=n=>Math.round(n*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(n){return n==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(n,t)=>e=>!!(typeof e=="string"&&singleColorRegex.test(e)&&e.startsWith(n)||t&&!isNullish(e)&&Object.prototype.hasOwnProperty.call(e,t)),splitColor=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,o,u]=i.match(floatRegex);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},clampRgbUnit=n=>clamp(0,255,n),rgbUnit={...number$1,transform:n=>Math.round(clampRgbUnit(n))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+rgbUnit.transform(n)+", "+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+sanitize(alpha.transform(i))+")"};function parseHex(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:n=>percent.parse(n)/100,transform:n=>percent.transform(n*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+percent.transform(sanitize(t))+", "+percent.transform(sanitize(e))+", "+sanitize(alpha.transform(i))+")"},color$1={test:n=>rgba.test(n)||hex.test(n)||hsla.test(n),parse:n=>rgba.test(n)?rgba.parse(n):hsla.test(n)?hsla.parse(n):hex.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?rgba.transform(n):hsla.transform(n),getAnimatableNone:n=>{const t=color$1.parse(n);return t.alpha=0,color$1.transform(t)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(floatRegex))==null?void 0:t.length)||0)+(((e=n.match(colorRegex))==null?void 0:e.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const u=t.replace(complexRegex,h=>(color$1.test(h)?(i.color.push(a),s.push(COLOR_TOKEN),e.push(color$1.parse(h))):h.startsWith(VAR_FUNCTION_TOKEN)?(i.var.push(a),s.push(VAR_TOKEN),e.push(h)):(i.number.push(a),s.push(NUMBER_TOKEN),e.push(parseFloat(h))),++a,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:e,split:u,indexes:i,types:s}}function parseComplexValue(n){return analyseComplexValue(n).values}function createTransformer(n){const{split:t,types:e}=analyseComplexValue(n),i=t.length;return s=>{let a="";for(let o=0;o<i;o++)if(a+=t[o],s[o]!==void 0){const u=e[o];u===NUMBER_TOKEN?a+=sanitize(s[o]):u===COLOR_TOKEN?a+=color$1.transform(s[o]):a+=s[o]}return a}}const convertNumbersToZero=n=>typeof n=="number"?0:color$1.test(n)?color$1.getAnimatableNone(n):n;function getAnimatableNone$1(n){const t=parseComplexValue(n);return createTransformer(n)(t.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function hslaToRgba({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,o=0;if(!t)s=a=o=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;s=hueToRgb(h,u,n+1/3),a=hueToRgb(h,u,n),o=hueToRgb(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function mixImmediate(n,t){return e=>e>0?t:n}const mixNumber$1=(n,t,e)=>n+(t-n)*e,mixLinearColor=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},colorTypes=[hex,rgba,hsla],getColorType=n=>colorTypes.find(t=>t.test(n));function asRGBA(n){const t=getColorType(n);if(!t)return!1;let e=t.parse(n);return t===hsla&&(e=hslaToRgba(e)),e}const mixColor=(n,t)=>{const e=asRGBA(n),i=asRGBA(t);if(!e||!i)return mixImmediate(n,t);const s={...e};return a=>(s.red=mixLinearColor(e.red,i.red,a),s.green=mixLinearColor(e.green,i.green,a),s.blue=mixLinearColor(e.blue,i.blue,a),s.alpha=mixNumber$1(e.alpha,i.alpha,a),rgba.transform(s))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(n,t){return invisibleValues.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function mixNumber(n,t){return e=>mixNumber$1(n,t,e)}function getMixer(n){return typeof n=="number"?mixNumber:typeof n=="string"?isCSSVariableToken(n)?mixImmediate:color$1.test(n)?mixColor:mixComplex:Array.isArray(n)?mixArray:typeof n=="object"?color$1.test(n)?mixColor:mixObject:mixImmediate}function mixArray(n,t){const e=[...n],i=e.length,s=n.map((a,o)=>getMixer(a)(a,t[o]));return a=>{for(let o=0;o<i;o++)e[o]=s[o](a);return e}}function mixObject(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=getMixer(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function matchOrder(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=n.indexes[a][i[a]],u=n.values[o]??0;e[s]=u,i[a]++}return e}const mixComplex=(n,t)=>{const e=complex.createTransformer(t),i=analyseComplexValue(n),s=analyseComplexValue(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?invisibleValues.has(n)&&!s.values.length||invisibleValues.has(t)&&!i.values.length?mixVisibility(n,t):pipe(mixArray(matchOrder(i,s),s.values),e):mixImmediate(n,t)};function mix(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?mixNumber$1(n,t,e):getMixer(n)(n,t)}const frameloopDriver=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>frame.update(t,e),stop:()=>cancelFrame(t),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<maxGeneratorDuration;)t+=e,i=n.next(t);return t>=maxGeneratorDuration?1/0:t}function createGeneratorEasing(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(calcGeneratorDuration(i),maxGeneratorDuration);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:millisecondsToSeconds(s)}}const velocitySampleDuration=5;function calcGeneratorVelocity(n,t,e){const i=Math.max(t-velocitySampleDuration,0);return velocityPerSecond(e-n(i),t-i)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:n=springDefaults.duration,bounce:t=springDefaults.bounce,velocity:e=springDefaults.velocity,mass:i=springDefaults.mass}){let s,a,o=1-t;o=clamp(springDefaults.minDamping,springDefaults.maxDamping,o),n=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(n)),o<1?(s=d=>{const f=d*o,g=f*n,b=f-e,x=calcAngularFreq(d,o),E=Math.exp(-g);return safeMin-b/x*E},a=d=>{const g=d*o*n,b=g*e+e,x=Math.pow(o,2)*Math.pow(d,2)*n,E=Math.exp(-g),S=calcAngularFreq(Math.pow(d,2),o);return(-s(d)+safeMin>0?-1:1)*((b-x)*E)/S}):(s=d=>{const f=Math.exp(-d*n),g=(d-e)*n+1;return-safeMin+f*g},a=d=>{const f=Math.exp(-d*n),g=(e-d)*(n*n);return f*g});const u=5/n,h=approximateRoot(s,a,u);if(n=secondsToMilliseconds(n),isNaN(h))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:n};{const d=Math.pow(h,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:n}}}const rootIterations=12;function approximateRoot(n,t,e){let i=e;for(let s=1;s<rootIterations;s++)i=i-n(i)/t(i);return i}function calcAngularFreq(n,t){return n*Math.sqrt(1-t*t)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(n,t){return t.some(e=>n[e]!==void 0)}function getSpringOptions(n){let t={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...n};if(!isSpringType(n,physicsKeys)&&isSpringType(n,durationKeys))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*clamp(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:springDefaults.mass,stiffness:s,damping:a}}else{const e=findSpring(n);t={...t,...e,mass:springDefaults.mass},t.isResolvedFromDuration=!0}return t}function spring(n=springDefaults.visualDuration,t=springDefaults.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:d,mass:f,duration:g,velocity:b,isResolvedFromDuration:x}=getSpringOptions({...e,velocity:-millisecondsToSeconds(e.velocity||0)}),E=b||0,S=d/(2*Math.sqrt(h*f)),R=o-a,w=millisecondsToSeconds(Math.sqrt(h/f)),L=Math.abs(R)<5;i||(i=L?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),s||(s=L?springDefaults.restDelta.granular:springDefaults.restDelta.default);let P;if(S<1){const B=calcAngularFreq(w,S);P=F=>{const H=Math.exp(-S*w*F);return o-H*((E+S*w*R)/B*Math.sin(B*F)+R*Math.cos(B*F))}}else if(S===1)P=B=>o-Math.exp(-w*B)*(R+(E+w*R)*B);else{const B=w*Math.sqrt(S*S-1);P=F=>{const H=Math.exp(-S*w*F),K=Math.min(B*F,300);return o-H*((E+S*w*R)*Math.sinh(K)+B*R*Math.cosh(K))/B}}const V={calculatedDuration:x&&g||null,next:B=>{const F=P(B);if(x)u.done=B>=g;else{let H=B===0?E:0;S<1&&(H=B===0?secondsToMilliseconds(E):calcGeneratorVelocity(P,B,F));const K=Math.abs(H)<=i,J=Math.abs(o-F)<=s;u.done=K&&J}return u.value=u.done?o:F,u},toString:()=>{const B=Math.min(calcGeneratorDuration(V),maxGeneratorDuration),F=generateLinearEasing(H=>V.next(B*H).value,B,30);return B+"ms "+F},toTransition:()=>{}};return V}spring.applyToOptions=n=>{const t=createGeneratorEasing(n,100,spring);return n.ease=t.ease,n.duration=secondsToMilliseconds(t.duration),n.type="keyframes",n};function inertia({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:u,max:h,restDelta:d=.5,restSpeed:f}){const g=n[0],b={done:!1,value:g},x=K=>u!==void 0&&K<u||h!==void 0&&K>h,E=K=>u===void 0?h:h===void 0||Math.abs(u-K)<Math.abs(h-K)?u:h;let S=e*t;const R=g+S,w=o===void 0?R:o(R);w!==R&&(S=w-g);const L=K=>-S*Math.exp(-K/i),P=K=>w+L(K),V=K=>{const J=L(K),G=P(K);b.done=Math.abs(J)<=d,b.value=b.done?w:G};let B,F;const H=K=>{x(b.value)&&(B=K,F=spring({keyframes:[b.value,E(b.value)],velocity:calcGeneratorVelocity(P,K,b.value),damping:s,stiffness:a,restDelta:d,restSpeed:f}))};return H(0),{calculatedDuration:null,next:K=>{let J=!1;return!F&&B===void 0&&(J=!0,V(K),H(K)),B!==void 0&&K>=B?F.next(K-B):(!J&&V(K),b)}}}function createMixers(n,t,e){const i=[],s=e||MotionGlobalConfig.mix||mix,a=n.length-1;for(let o=0;o<a;o++){let u=s(n[o],n[o+1]);if(t){const h=Array.isArray(t)?t[o]||noop:t;u=pipe(h,u)}i.push(u)}return i}function interpolate(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(invariant$1(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=createMixers(t,i,s),h=u.length,d=f=>{if(o&&f<n[0])return t[0];let g=0;if(h>1)for(;g<n.length-2&&!(f<n[g+1]);g++);const b=progress(n[g],n[g+1],f);return u[g](b)};return e?f=>d(clamp(n[0],n[a-1],f)):d}function fillOffset(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=progress(0,t,i);n.push(mixNumber$1(e,1,s))}}function defaultOffset(n){const t=[0];return fillOffset(t,n.length-1),t}function convertOffsetToTimes(n,t){return n.map(e=>e*t)}function defaultEasing(n,t){return n.map(()=>t||easeInOut).splice(0,n.length-1)}function keyframes({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=isEasingArray(i)?i.map(easingDefinitionToFunction):easingDefinitionToFunction(i),a={done:!1,value:t[0]},o=convertOffsetToTimes(e&&e.length===t.length?e:defaultOffset(t),n),u=interpolate(o,t,{ease:Array.isArray(s)?s:defaultEasing(t,s)});return{calculatedDuration:n,next:h=>(a.value=u(h),a.done=h>=n,a)}}const isNotNull$1=n=>n!==null;function getFinalKeyframe$1(n,{repeat:t,repeatType:e="loop"},i,s=1){const a=n.filter(isNotNull$1),u=s<0||t&&e!=="loop"&&t%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(n){typeof n.type=="string"&&(n.type=transitionTypeMap[n.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const percentToProgress=n=>n/100;class JSAnimation extends WithPromise{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:e}=this.options;e&&e.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;replaceTransitionType(t);const{type:e=keyframes,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=t;let{keyframes:u}=t;const h=e||keyframes;h!==keyframes&&typeof u[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(u[0],u[1])),u=[0,100]);const d=h({...t,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=calcGeneratorDuration(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:f,repeat:g,repeatType:b,repeatDelay:x,type:E,onUpdate:S,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const w=this.currentTime-d*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let P=this.currentTime,V=i;if(g){const K=Math.min(this.currentTime,s)/u;let J=Math.floor(K),G=K%1;!G&&K>=1&&(G=1),G===1&&J--,J=Math.min(J,g+1),!!(J%2)&&(b==="reverse"?(G=1-G,x&&(G-=x/u)):b==="mirror"&&(V=o)),P=clamp(0,1,G)*u}const B=L?{done:!1,value:f[0]}:V.next(P);a&&(B.value=a(B.value));let{done:F}=B;!L&&h!==null&&(F=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return H&&E!==inertia&&(B.value=getFinalKeyframe$1(f,this.options,R,this.speed)),S&&S(B.value),H&&this.finish(),B}then(t,e){return this.finished.then(t,e)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(t){var e;t=secondsToMilliseconds(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(time.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=millisecondsToSeconds(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=frameloopDriver,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function fillWildcards(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const radToDeg=n=>n*180/Math.PI,rotate=n=>{const t=radToDeg(Math.atan2(n[1],n[0]));return rebaseAngle(t)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate,rotateZ:rotate,skewX:n=>radToDeg(Math.atan(n[1])),skewY:n=>radToDeg(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},rebaseAngle=n=>(n=n%360,n<0&&(n+=360),n),rotateZ=rotate,scaleX=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),scaleY=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:n=>(scaleX(n)+scaleY(n))/2,rotateX:n=>rebaseAngle(radToDeg(Math.atan2(n[6],n[5]))),rotateY:n=>rebaseAngle(radToDeg(Math.atan2(-n[2],n[0]))),rotateZ,rotate:rotateZ,skewX:n=>radToDeg(Math.atan(n[4])),skewY:n=>radToDeg(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function defaultTransformValue(n){return n.includes("scale")?1:0}function parseValueFromTransform(n,t){if(!n||n==="none")return defaultTransformValue(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=matrix3dParsers,s=e;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=matrix2dParsers,s=u}if(!s)return defaultTransformValue(t);const a=i[t],o=s[1].split(",").map(convertTransformToNumber);return typeof a=="function"?a(o):o[a]}const readTransformValue=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return parseValueFromTransform(e,t)};function convertTransformToNumber(n){return parseFloat(n.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=n=>n===number$1||n===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(n=>!transformKeys.has(n));function removeNonTranslationalTransform(n){const t=[];return nonTranslationalTransformKeys.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const positionalValues={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>parseValueFromTransform(t,"x"),y:(n,{transform:t})=>parseValueFromTransform(t,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const n=Array.from(toResolve).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=removeNonTranslationalTransform(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,o])=>{var u;(u=i.getValue(a))==null||u.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(n=>n.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(t,e,i,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&e){const u=i.readValue(e,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}fillWildcards(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=n=>n.startsWith("--");function setStyle(n,t,e){isCSSVar(t)?n.style.setProperty(t,e):n.style[t]=e}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(n,t){const e=memo(n);return()=>supportsFlags[t]??e()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(n,t){if(n)return typeof n=="function"?supportsLinearEasing()?generateLinearEasing(n,t):"ease-out":isBezierDefinition(n)?cubicBezierAsString(n):Array.isArray(n)?n.map(e=>mapEasingToNativeEasing(e,t)||supportedWaapiEasing.easeOut):supportedWaapiEasing[n]}function startWaapiAnimation(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:u="easeOut",times:h}={},d=void 0){const f={[t]:e};h&&(f.offset=h);const g=mapEasingToNativeEasing(u,s);Array.isArray(g)&&(f.easing=g);const b={delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),n.animate(f,b)}function isGenerator(n){return typeof n=="function"&&"applyToOptions"in n}function applyGeneratorOptions({type:n,...t}){return isGenerator(n)&&supportsLinearEasing()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class NativeAnimation extends WithPromise{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,invariant$1(typeof t.type!="string");const d=applyGeneratorOptions(t);this.animation=startWaapiAnimation(e,i,s,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=getFinalKeyframe$1(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(f):setStyle(e,i,f),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,i;const t=((i=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:i.call(e).duration)||0;return millisecondsToSeconds(Number(t))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&supportsScrollTimeline()?(this.animation.timeline=t,noop):e(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(n){return n in unsupportedEasingFunctions}function replaceStringEasing(n){typeof n.ease=="string"&&isUnsupportedEase(n.ease)&&(n.ease=unsupportedEasingFunctions[n.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(t){replaceStringEasing(t),replaceTransitionType(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:a,...o}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new JSAnimation({...o,autoplay:!1}),h=secondsToMilliseconds(this.finishedTime??this.time);e.setWithVelocity(u.sample(h-sampleDelta).value,u.sample(h).value,sampleDelta),u.stop()}}const isAnimatable=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(complex.test(n)||n==="0")&&!n.startsWith("url("));function hasKeyframesChanged(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function canAnimate(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],o=isAnimatable(s,t),u=isAnimatable(a,t);return!o||!u?!1:hasKeyframesChanged(n)||(e==="spring"||isGenerator(e))&&i}function isHTMLElement(n){return isObject(n)&&"offsetHeight"in n}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(n){var d;const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:a,type:o}=n;if(!isHTMLElement((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return supportsWaapi()&&e&&acceleratedValues.has(e)&&(e!=="transform"||!h)&&!u&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:u,name:h,motionValue:d,element:f,...g}){var E;super(),this.stop=()=>{var S,R;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=time.now();const b={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:o,name:h,motionValue:d,element:f,...g},x=(f==null?void 0:f.KeyframeResolver)||KeyframeResolver;this.keyframeResolver=new x(u,(S,R,w)=>this.onKeyframesResolved(S,R,b,!w),h,d,f),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:u,delay:h,isHandoff:d,onUpdate:f}=i;this.resolvedAt=time.now(),canAnimate(t,a,o,u)||((MotionGlobalConfig.instantAnimations||!h)&&(f==null||f(getFinalKeyframe$1(t,i,e))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},x=!d&&supportsBrowserAnimation(b)?new NativeAnimationExtended({...b,element:b.motionValue.owner.current}):new JSAnimation(b);x.finished.then(()=>this.notifyFinished()).catch(noop),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(n){const t=splitCSSVariableRegex.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function getVariableValue(n,t,e=1){const[i,s]=parseCSSVariable(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const o=a.trim();return isNumericalString(o)?parseFloat(o):o}return isCSSVariableToken(s)?getVariableValue(s,t,e+1):s}function getValueTransition(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:n=>n==="auto",parse:n=>n},testValueType=n=>t=>t.test(n),dimensionValueTypes=[number$1,px,percent,degrees,vw,vh,auto],findDimensionValueType=n=>dimensionValueTypes.find(testValueType(n));function isNone(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||isZeroValueString(n):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(floatRegex)||[];if(!i)return n;const s=e.replace(i,"");let a=maxDefaults.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:n=>{const t=n.match(functionRegex);return t?t.map(applyDefaultFilter).join(" "):n}},int$1={...number$1,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int$1,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int$1},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=n=>defaultValueTypes[n];function getAnimatableNone(n,t){let e=getDefaultValueType(n);return e!==filter&&(e=complex),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!invalidTemplates.has(a)&&analyseComplexValue(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=getAnimatableNone(e,s)}class DOMKeyframesResolver extends KeyframeResolver{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),isCSSVariableToken(d))){const f=getVariableValue(d,e.current);f!==void 0&&(t[h]=f),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(i)||t.length!==2)return;const[s,a]=t,o=findDimensionValueType(s),u=findDimensionValueType(a);if(o!==u)if(isNumOrPxType(o)&&isNumOrPxType(u))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else positionalValues[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||isNone(t[s]))&&i.push(s);i.length&&makeNoneKeyframesAnimatable(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=positionalValues[e](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function resolveElements(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const s=document.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const getValueAsType=(n,t)=>t&&typeof n=="number"?t.transform(n):n,MAX_VELOCITY_DELTA=30,isFloat=n=>!isNaN(parseFloat(n));class MotionValue{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var o,u;const a=time.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=time.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new SubscriptionManager);const i=this.events[t].add(e);return t==="change"?()=>{i(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(n,t){return new MotionValue(n,t)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(n){return n==="x"||n==="y"?isDragging[n]?null:(isDragging[n]=!0,()=>{isDragging[n]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(n,t){const e=resolveElements(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function isValidHover(n){return!(n.pointerType==="touch"||isDragActive())}function hover(n,t,e={}){const[i,s,a]=setupGesture(n,e),o=u=>{if(!isValidHover(u))return;const{target:h}=u,d=t(h,u);if(typeof d!="function"||!h)return;const f=g=>{isValidHover(g)&&(d(g),h.removeEventListener("pointerleave",f))};h.addEventListener("pointerleave",f,s)};return i.forEach(u=>{u.addEventListener("pointerenter",o,s)}),a}const isNodeOrChild=(n,t)=>t?n===t?!0:isNodeOrChild(n,t.parentElement):!1,isPrimaryPointer=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(n){return focusableElements.has(n.tagName)||n.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(n){return t=>{t.key==="Enter"&&n(t)}}function firePointerEvent(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=filterEvents(()=>{if(isPressing.has(e))return;firePointerEvent(e,"down");const s=filterEvents(()=>{firePointerEvent(e,"up")}),a=()=>firePointerEvent(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function isValidPressEvent(n){return isPrimaryPointer(n)&&!isDragActive()}function press(n,t,e={}){const[i,s,a]=setupGesture(n,e),o=u=>{const h=u.currentTarget;if(!isValidPressEvent(u))return;isPressing.add(h);const d=t(h,u),f=(x,E)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),isPressing.has(h)&&isPressing.delete(h),isValidPressEvent(x)&&typeof d=="function"&&d(x,{success:E})},g=x=>{f(x,h===window||h===document||e.useGlobalTarget||isNodeOrChild(h,x.target))},b=x=>{f(x,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",b,s)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),isHTMLElement(u)&&(u.addEventListener("focus",d=>enableKeyboardPress(d,s)),!isElementKeyboardAccessible(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function isSVGElement(n){return isObject(n)&&"ownerSVGElement"in n}function isSVGSVGElement(n){return isSVGElement(n)&&n.tagName==="svg"}const isMotionValue=n=>!!(n&&n.getVelocity),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=n=>valueTypes.find(testValueType(n)),MotionConfigContext=reactExports.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=isHTMLElement(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=e.offsetHeight||0,a.width=e.offsetWidth||0,a.top=e.offsetTop,a.left=e.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:n,isPresent:t,anchorX:e}){const i=reactExports.useId(),s=reactExports.useRef(null),a=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:f,right:g}=a.current;if(t||!s.current||!u||!h)return;const b=e==="left"?`left: ${f}`:`right: ${g}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");return o&&(x.nonce=o),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[t]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:t,childRef:s,sizeRef:a,children:reactExports.cloneElement(n,{ref:s})})}const PresenceChild=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:o,anchorX:u})=>{const h=useConstant(newChildrenMap),d=reactExports.useId();let f=!0,g=reactExports.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:e,custom:s,onExitComplete:b=>{h.set(b,!0);for(const x of h.values())if(!x)return;i&&i()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[e,h,i]);return a&&f&&(g={...g}),reactExports.useMemo(()=>{h.forEach((b,x)=>h.set(x,!1))},[e]),reactExports.useEffect(()=>{!e&&!h.size&&i&&i()},[e]),o==="popLayout"&&(n=jsxRuntimeExports.jsx(PopChild,{isPresent:e,anchorX:u,children:n})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:g,children:n})};function newChildrenMap(){return new Map}function usePresence(n=!0){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=reactExports.useId();reactExports.useEffect(()=>{if(n)return s(a)},[n]);const o=reactExports.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,o]:[!0]}const getChildKey=n=>n.key||"";function onlyElements(n){const t=[];return reactExports.Children.forEach(n,e=>{reactExports.isValidElement(e)&&t.push(e)}),t}const AnimatePresence=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:u="left"})=>{const[h,d]=usePresence(o),f=reactExports.useMemo(()=>onlyElements(n),[n]),g=o&&!h?[]:f.map(getChildKey),b=reactExports.useRef(!0),x=reactExports.useRef(f),E=useConstant(()=>new Map),[S,R]=reactExports.useState(f),[w,L]=reactExports.useState(f);useIsomorphicLayoutEffect(()=>{b.current=!1,x.current=f;for(let B=0;B<w.length;B++){const F=getChildKey(w[B]);g.includes(F)?E.delete(F):E.get(F)!==!0&&E.set(F,!1)}},[w,g.length,g.join("-")]);const P=[];if(f!==S){let B=[...f];for(let F=0;F<w.length;F++){const H=w[F],K=getChildKey(H);g.includes(K)||(B.splice(F,0,H),P.push(H))}return a==="wait"&&P.length&&(B=P),L(onlyElements(B)),R(f),null}const{forceRender:V}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:w.map(B=>{const F=getChildKey(B),H=o&&!h?!1:f===w||g.includes(F),K=()=>{if(E.has(F))E.set(F,!0);else return;let J=!0;E.forEach(G=>{G||(J=!1)}),J&&(V==null||V(),L(x.current),o&&(d==null||d()),i&&i())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:H,initial:!b.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:H?void 0:K,anchorX:u,children:B},F)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const n in featureProps)featureDefinitions[n]={isEnabled:t=>featureProps[n].some(e=>!!t[e])};function loadFeatures(n){for(const t in n)featureDefinitions[t]={...featureDefinitions[t],...n[t]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||validMotionProps.has(n)}let shouldForward=n=>!isValidMotionProp(n);function loadExternalIsValidProp(n){typeof n=="function"&&(shouldForward=t=>t.startsWith("on")?!isValidMotionProp(t):n(t))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(shouldForward(s)||e===!0&&isValidMotionProp(s)||!t&&!isValidMotionProp(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function createDOMMotionComponentProxy(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const MotionContext=reactExports.createContext({});function isAnimationControls(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function isVariantLabel(n){return typeof n=="string"||Array.isArray(n)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(n){return isAnimationControls(n.animate)||variantProps.some(t=>isVariantLabel(n[t]))}function isVariantNode(n){return!!(isControllingVariants(n)||n.variants)}function getCurrentTreeVariants(n,t){if(isControllingVariants(n)){const{initial:e,animate:i}=n;return{initial:e===!1||isVariantLabel(e)?e:void 0,animate:isVariantLabel(i)?i:void 0}}return n.inherit!==!1?t:{}}function useCreateMotionContext(n){const{initial:t,animate:e}=getCurrentTreeVariants(n,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:t,animate:e}),[variantLabelsAsDependency(t),variantLabelsAsDependency(e)])}function variantLabelsAsDependency(n){return Array.isArray(n)?n.join(" "):n}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function useMotionRef(n,t,e){return reactExports.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):isRefObject(e)&&(e.current=i))},[t])}const camelToDash=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(n,t,e,i,s){var S,R;const{visualElement:a}=reactExports.useContext(MotionContext),o=reactExports.useContext(LazyContext),u=reactExports.useContext(PresenceContext),h=reactExports.useContext(MotionConfigContext).reducedMotion,d=reactExports.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(n,{visualState:t,parent:a,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,g=reactExports.useContext(SwitchLayoutGroupContext);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&createProjectionNode$1(d.current,e,s,g);const b=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{f&&b.current&&f.update(e,u)});const x=e[optimizedAppearDataAttribute],E=reactExports.useRef(!!x&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,x))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,x)));return useIsomorphicLayoutEffect(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),microtask.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),reactExports.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,x)}),E.current=!1))}),f}function createProjectionNode$1(n,t,e,i){const{layoutId:s,layout:a,drag:o,dragConstraints:u,layoutScroll:h,layoutRoot:d,layoutCrossfade:f}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:getClosestProjectingNode(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||u&&isRefObject(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:h,layoutRoot:d})}function getClosestProjectingNode(n){if(n)return n.options.allowProjection!==!1?n.projection:getClosestProjectingNode(n.parent)}function createRendererMotionComponent({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){n&&loadFeatures(n);function a(u,h){let d;const f={...reactExports.useContext(MotionConfigContext),...u,layoutId:useLayoutId(u)},{isStatic:g}=f,b=useCreateMotionContext(u),x=i(u,g);if(!g&&isBrowser$1){useStrictMode();const E=getProjectionFunctionality(f);d=E.MeasureLayout,b.visualElement=useVisualElement(s,x,f,t,E.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:b,children:[d&&b.visualElement?jsxRuntimeExports.jsx(d,{visualElement:b.visualElement,...f}):null,e(s,u,useMotionRef(x,b.visualElement,h),x,g,b.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=reactExports.forwardRef(a);return o[motionComponentSymbol]=s,o}function useLayoutId({layoutId:n}){const t=reactExports.useContext(LayoutGroupContext).id;return t&&n!==void 0?t+"-"+n:n}function useStrictMode(n,t){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(n){const{drag:t,layout:e}=featureDefinitions;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const scaleCorrectors={};function addScaleCorrector(n){for(const t in n)scaleCorrectors[t]=n[t],isCSSVariableName(t)&&(scaleCorrectors[t].isCSSVariable=!0)}function isForcedMotionValue(n,{layout:t,layoutId:e}){return transformProps.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!scaleCorrectors[n]||n==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(n,t,e){let i="",s=!0;for(let a=0;a<numTransforms;a++){const o=transformPropOrder[a],u=n[o];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(o.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const d=getValueAsType(u,numberValueTypes[o]);if(!h){s=!1;const f=translateAlias[o]||o;i+=`${f}(${d}) `}e&&(t[o]=d)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function buildHTMLStyles(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let o=!1,u=!1;for(const h in t){const d=t[h];if(transformProps.has(h)){o=!0;continue}else if(isCSSVariableName(h)){s[h]=d;continue}else{const f=getValueAsType(d,numberValueTypes[h]);h.startsWith("origin")?(u=!0,a[h]=f):i[h]=f}}if(t.transform||(o||e?i.transform=buildTransform(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=a;i.transformOrigin=`${h} ${d} ${f}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(n,t,e){for(const i in t)!isMotionValue(t[i])&&!isForcedMotionValue(i,e)&&(n[i]=t[i])}function useInitialMotionValues({transformTemplate:n},t){return reactExports.useMemo(()=>{const e=createHtmlRenderState();return buildHTMLStyles(e,t,n),Object.assign({},e.vars,e.style)},[t])}function useStyle(n,t){const e=n.style||{},i={};return copyRawValuesOnly(i,e,n),Object.assign(i,useInitialMotionValues(n,t)),i}function useHTMLProps(n,t){const e={},i=useStyle(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?dashKeys:camelKeys;n[a.offset]=px.transform(-i);const o=px.transform(t),u=px.transform(e);n[a.array]=`${o} ${u}`}function buildSVGAttrs(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...u},h,d,f){if(buildHTMLStyles(n,u,d),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:b}=n;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),e!==void 0&&(g.y=e),i!==void 0&&(g.scale=i),s!==void 0&&buildSVGPath(g,s,a,o,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=n=>typeof n=="string"&&n.toLowerCase()==="svg";function useSVGProps(n,t,e,i){const s=reactExports.useMemo(()=>{const a=createSvgRenderState();return buildSVGAttrs(a,t,isSVGTag(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};copyRawValuesOnly(a,n.style,n),s.style={...a,...s.style}}return s}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(n){return typeof n!="string"||n.includes("-")?!1:!!(lowercaseSVGElements.indexOf(n)>-1||/[A-Z]/u.test(n))}function createUseRender(n=!1){return(e,i,s,{latestValues:a},o)=>{const h=(isSVGComponent(e)?useSVGProps:useHTMLProps)(i,a,o,e),d=filterProps(i,typeof e=="string",n),f=e!==reactExports.Fragment?{...d,...h,ref:s}:{},{children:g}=i,b=reactExports.useMemo(()=>isMotionValue(g)?g.get():g,[g]);return reactExports.createElement(e,{...f,children:b})}}function getValueState(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function resolveVariantFromProps(n,t,e,i){if(typeof t=="function"){const[s,a]=getValueState(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=getValueState(i);t=t(e!==void 0?e:n.custom,s,a)}return t}function resolveMotionValue(n){return isMotionValue(n)?n.get():n}function makeState({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:makeLatestValues(e,i,s,n),renderState:t()}}const makeUseVisualState=n=>(t,e)=>{const i=reactExports.useContext(MotionContext),s=reactExports.useContext(PresenceContext),a=()=>makeState(n,t,i,s);return e?a():useConstant(a)};function makeLatestValues(n,t,e,i){const s={},a=i(n,{});for(const b in a)s[b]=resolveMotionValue(a[b]);let{initial:o,animate:u}=n;const h=isControllingVariants(n),d=isVariantNode(n);t&&d&&!h&&n.inherit!==!1&&(o===void 0&&(o=t.initial),u===void 0&&(u=t.animate));let f=e?e.initial===!1:!1;f=f||o===!1;const g=f?u:o;if(g&&typeof g!="boolean"&&!isAnimationControls(g)){const b=Array.isArray(g)?g:[g];for(let x=0;x<b.length;x++){const E=resolveVariantFromProps(n,b[x]);if(E){const{transitionEnd:S,transition:R,...w}=E;for(const L in w){let P=w[L];if(Array.isArray(P)){const V=f?P.length-1:0;P=P[V]}P!==null&&(s[L]=P)}for(const L in S)s[L]=S[L]}}}return s}function scrapeMotionValuesFromProps$1(n,t,e){var a;const{style:i}=n,s={};for(const o in i)(isMotionValue(i[o])||t.style&&isMotionValue(t.style[o])||isForcedMotionValue(o,n)||((a=e==null?void 0:e.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function scrapeMotionValuesFromProps(n,t,e){const i=scrapeMotionValuesFromProps$1(n,t,e);for(const s in n)if(isMotionValue(n[s])||isMotionValue(t[s])){const a=transformPropOrder.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState})};function createMotionComponentFactory(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...isSVGComponent(i)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:n,useRender:createUseRender(s),createVisualElement:t,Component:i};return createRendererMotionComponent(o)}}function resolveVariant(n,t,e){const i=n.getProps();return resolveVariantFromProps(i,t,e!==void 0?e:i.custom,n)}const isKeyframesTarget=n=>Array.isArray(n);function setMotionValue(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,motionValue(e))}function resolveFinalValueInKeyframes(n){return isKeyframesTarget(n)?n[n.length-1]||0:n}function setTarget(n,t){const e=resolveVariant(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const o in a){const u=resolveFinalValueInKeyframes(a[o]);setMotionValue(n,o,u)}}function isWillChangeMotionValue(n){return!!(isMotionValue(n)&&n.add)}function addValueToWillChange(n,t){const e=n.getValue("willChange");if(isWillChangeMotionValue(e))return e.add(t);if(!e&&MotionGlobalConfig.WillChange){const i=new MotionGlobalConfig.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function getOptimisedAppearId(n){return n.props[optimizedAppearDataAttribute]}const isNotNull=n=>n!==null;function getFinalKeyframe(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(isNotNull),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[a]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(n,{keyframes:t})=>t.length>2?keyframesTransition:transformProps.has(n)?n.startsWith("scale")?criticallyDampedSpring(t[1]):underDampedSpring:ease;function isTransitionDefined({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:u,from:h,elapsed:d,...f}){return!!Object.keys(f).length}const animateMotionValue=(n,t,e,i={},s,a)=>o=>{const u=getValueTransition(i,n)||{},h=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-secondsToMilliseconds(h);const f={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-d,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:a?void 0:s};isTransitionDefined(u)||Object.assign(f,getDefaultTransition(n,f)),f.duration&&(f.duration=secondsToMilliseconds(f.duration)),f.repeatDelay&&(f.repeatDelay=secondsToMilliseconds(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(g=!0,f.duration=0,f.delay=0),f.allowFlatten=!u.type&&!u.ease,g&&!a&&t.get()!==void 0){const b=getFinalKeyframe(f.keyframes,u);if(b!==void 0){frame.update(()=>{f.onUpdate(b),f.onComplete()});return}}return u.isSync?new JSAnimation(f):new AsyncMotionValueAnimation(f)};function shouldBlockAnimation({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function animateTarget(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:o,...u}=t;i&&(a=i);const h=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const f in u){const g=n.getValue(f,n.latestValues[f]??null),b=u[f];if(b===void 0||d&&shouldBlockAnimation(d,f))continue;const x={delay:e,...getValueTransition(a||{},f)},E=g.get();if(E!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===E&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=getOptimisedAppearId(n);if(w){const L=window.MotionHandoffAnimation(w,f,frame);L!==null&&(x.startTime=L,S=!0)}}addValueToWillChange(n,f),g.start(animateMotionValue(f,g,b,n.shouldReduceMotion&&positionalKeys.has(f)?{type:!1}:x,n,S));const R=g.animation;R&&h.push(R)}return o&&Promise.all(h).then(()=>{frame.update(()=>{o&&setTarget(n,o)})}),h}function animateVariant(n,t,e={}){var h;const i=resolveVariant(n,t,e.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const a=i?()=>Promise.all(animateTarget(n,i,e)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:b}=s;return animateChildren(n,t,f+d,g,b,e)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,f]=u==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(e.delay)])}function animateChildren(n,t,e=0,i=0,s=1,a){const o=[],u=(n.variantChildren.size-1)*i,h=s===1?(d=0)=>d*i:(d=0)=>u-d*i;return Array.from(n.variantChildren).sort(sortByTreeOrder).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(animateVariant(d,t,{...a,delay:e+h(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function sortByTreeOrder(n,t){return n.sortNodePosition(t)}function animateVisualElement(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>animateVariant(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=animateVariant(n,t,e);else{const s=typeof t=="function"?resolveVariant(n,t,e.custom):t;i=Promise.all(animateTarget(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function shallowCompare(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?getVariantContext(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<numVariantProps;e++){const i=variantProps[e],s=n.props[i];(isVariantLabel(s)||s===!1)&&(t[i]=s)}return t}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(n){return t=>Promise.all(t.map(({animation:e,options:i})=>animateVisualElement(n,e,i)))}function createAnimationState(n){let t=animateList(n),e=createState$1(),i=!0;const s=h=>(d,f)=>{var b;const g=resolveVariant(n,f,h==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:x,transitionEnd:E,...S}=g;d={...d,...S,...E}}return d};function a(h){t=h(n)}function o(h){const{props:d}=n,f=getVariantContext(n.parent)||{},g=[],b=new Set;let x={},E=1/0;for(let R=0;R<numAnimationTypes;R++){const w=reversePriorityOrder[R],L=e[w],P=d[w]!==void 0?d[w]:f[w],V=isVariantLabel(P),B=w===h?L.isActive:null;B===!1&&(E=R);let F=P===f[w]&&P!==d[w]&&V;if(F&&i&&n.manuallyAnimateOnMount&&(F=!1),L.protectedKeys={...x},!L.isActive&&B===null||!P&&!L.prevProp||isAnimationControls(P)||typeof P=="boolean")continue;const H=checkVariantsDidChange(L.prevProp,P);let K=H||w===h&&L.isActive&&!F&&V||R>E&&V,J=!1;const G=Array.isArray(P)?P:[P];let et=G.reduce(s(w),{});B===!1&&(et={});const{prevResolvedValues:ut={}}=L,Et={...ut,...et},ot=Z=>{K=!0,b.has(Z)&&(J=!0,b.delete(Z)),L.needsAnimating[Z]=!0;const it=n.getValue(Z);it&&(it.liveStyle=!1)};for(const Z in Et){const it=et[Z],Ct=ut[Z];if(x.hasOwnProperty(Z))continue;let I=!1;isKeyframesTarget(it)&&isKeyframesTarget(Ct)?I=!shallowCompare(it,Ct):I=it!==Ct,I?it!=null?ot(Z):b.add(Z):it!==void 0&&b.has(Z)?ot(Z):L.protectedKeys[Z]=!0}L.prevProp=P,L.prevResolvedValues=et,L.isActive&&(x={...x,...et}),i&&n.blockInitialAnimation&&(K=!1),K&&(!(F&&H)||J)&&g.push(...G.map(Z=>({animation:Z,options:{type:w}})))}if(b.size){const R={};if(typeof d.initial!="boolean"){const w=resolveVariant(n,Array.isArray(d.initial)?d.initial[0]:d.initial);w&&w.transition&&(R.transition=w.transition)}b.forEach(w=>{const L=n.getBaseTarget(w),P=n.getValue(w);P&&(P.liveStyle=!0),R[w]=L??null}),g.push({animation:R})}let S=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(g):Promise.resolve()}function u(h,d){var g;if(e[h].isActive===d)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(b=>{var x;return(x=b.animationState)==null?void 0:x.setActive(h,d)}),e[h].isActive=d;const f=o(h);for(const b in e)e[b].protectedKeys={};return f}return{animateChanges:o,setActive:u,setAnimateFunction:a,getState:()=>e,reset:()=>{e=createState$1(),i=!0}}}function checkVariantsDidChange(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!shallowCompare(t,n):!1}function createTypeState(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(t){this.isMounted=!1,this.node=t}update(){}}class AnimationFeature extends Feature{constructor(t){super(t),t.animationState||(t.animationState=createAnimationState(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();isAnimationControls(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function extractEventInfo(n){return{point:{x:n.pageX,y:n.pageY}}}const addPointerInfo=n=>t=>isPrimaryPointer(t)&&n(t,extractEventInfo(t));function addPointerEvent(n,t,e,i){return addDomEvent(n,t,addPointerInfo(e),i)}function convertBoundingBoxToBox({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function convertBoxToBoundingBox({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function transformBoxPoints(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(n){return n.max-n.min}function isNear(n,t,e){return Math.abs(n-t)<=e}function calcAxisDelta(n,t,e,i=.5){n.origin=i,n.originPoint=mixNumber$1(t.min,t.max,n.origin),n.scale=calcLength(e)/calcLength(t),n.translate=mixNumber$1(e.min,e.max,n.origin)-n.originPoint,(n.scale>=SCALE_MIN&&n.scale<=SCALE_MAX||isNaN(n.scale))&&(n.scale=1),(n.translate>=TRANSLATE_MIN&&n.translate<=TRANSLATE_MAX||isNaN(n.translate))&&(n.translate=0)}function calcBoxDelta(n,t,e,i){calcAxisDelta(n.x,t.x,e.x,i?i.originX:void 0),calcAxisDelta(n.y,t.y,e.y,i?i.originY:void 0)}function calcRelativeAxis(n,t,e){n.min=e.min+t.min,n.max=n.min+calcLength(t)}function calcRelativeBox(n,t,e){calcRelativeAxis(n.x,t.x,e.x),calcRelativeAxis(n.y,t.y,e.y)}function calcRelativeAxisPosition(n,t,e){n.min=t.min-e.min,n.max=n.min+calcLength(t)}function calcRelativePosition(n,t,e){calcRelativeAxisPosition(n.x,t.x,e.x),calcRelativeAxisPosition(n.y,t.y,e.y)}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(n){return[n("x"),n("y")]}function isIdentityScale(n){return n===void 0||n===1}function hasScale({scale:n,scaleX:t,scaleY:e}){return!isIdentityScale(n)||!isIdentityScale(t)||!isIdentityScale(e)}function hasTransform(n){return hasScale(n)||has2DTranslate(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function has2DTranslate(n){return is2DTranslate(n.x)||is2DTranslate(n.y)}function is2DTranslate(n){return n&&n!=="0%"}function scalePoint(n,t,e){const i=n-e,s=t*i;return e+s}function applyPointDelta(n,t,e,i,s){return s!==void 0&&(n=scalePoint(n,s,i)),scalePoint(n,e,i)+t}function applyAxisDelta(n,t=0,e=1,i,s){n.min=applyPointDelta(n.min,t,e,i,s),n.max=applyPointDelta(n.max,t,e,i,s)}function applyBoxDelta(n,{x:t,y:e}){applyAxisDelta(n.x,t.translate,t.scale,t.originPoint),applyAxisDelta(n.y,e.translate,e.scale,e.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,o;for(let u=0;u<s;u++){a=e[u],o=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&transformBox(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,applyBoxDelta(n,o)),i&&hasTransform(a.latestValues)&&transformBox(n,a.latestValues))}t.x<TREE_SCALE_SNAP_MAX&&t.x>TREE_SCALE_SNAP_MIN&&(t.x=1),t.y<TREE_SCALE_SNAP_MAX&&t.y>TREE_SCALE_SNAP_MIN&&(t.y=1)}function translateAxis(n,t){n.min=n.min+t,n.max=n.max+t}function transformAxis(n,t,e,i,s=.5){const a=mixNumber$1(n.min,n.max,s);applyAxisDelta(n,t,e,a,i)}function transformBox(n,t){transformAxis(n.x,t.x,t.scaleX,t.scale,t.originX),transformAxis(n.y,t.y,t.scaleY,t.scale,t.originY)}function measureViewportBox(n,t){return convertBoundingBoxToBox(transformBoxPoints(n.getBoundingClientRect(),t))}function measurePageBox(n,t,e){const i=measureViewportBox(n,e),{scroll:s}=t;return s&&(translateAxis(i.x,s.offset.x),translateAxis(i.y,s.offset.y)),i}const getContextWindow=({current:n})=>n?n.ownerDocument.defaultView:null,distance=(n,t)=>Math.abs(n-t);function distance2D(n,t){const e=distance(n.x,t.x),i=distance(n.y,t.y);return Math.sqrt(e**2+i**2)}class PanSession{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=getPanInfo(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=distance2D(g.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:E}=g,{timestamp:S}=frameData;this.history.push({...E,timestamp:S});const{onStart:R,onMove:w}=this.handlers;b||(R&&R(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=transformPoint(b,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:x,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=getPanInfo(g.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,R),E&&E(g,R)},!isPrimaryPointer(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;const o=extractEventInfo(t),u=transformPoint(o,this.transformPagePoint),{point:h}=u,{timestamp:d}=frameData;this.history=[{...h,timestamp:d}];const{onSessionStart:f}=e;f&&f(t,getPanInfo(u,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(n,t){return t?{point:t(n.point)}:n}function subtractPoint(n,t){return{x:n.x-t.x,y:n.y-t.y}}function getPanInfo({point:n},t){return{point:n,delta:subtractPoint(n,lastDevicePoint(t)),offset:subtractPoint(n,startDevicePoint(t)),velocity:getVelocity(t,.1)}}function startDevicePoint(n){return n[0]}function lastDevicePoint(n){return n[n.length-1]}function getVelocity(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=lastDevicePoint(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>secondsToMilliseconds(t)));)e--;if(!i)return{x:0,y:0};const a=millisecondsToSeconds(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function applyConstraints(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?mixNumber$1(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?mixNumber$1(e,n,i.max):Math.min(n,e)),n}function calcRelativeAxisConstraints(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function calcRelativeConstraints(n,{top:t,left:e,bottom:i,right:s}){return{x:calcRelativeAxisConstraints(n.x,e,s),y:calcRelativeAxisConstraints(n.y,t,i)}}function calcViewportAxisConstraints(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function calcViewportConstraints(n,t){return{x:calcViewportAxisConstraints(n.x,t.x),y:calcViewportAxisConstraints(n.y,t.y)}}function calcOrigin(n,t){let e=.5;const i=calcLength(n),s=calcLength(t);return s>i?e=progress(t.min,t.max-i,n.min):i>s&&(e=progress(n.min,n.max-s,t.min)),clamp(0,1,e)}function rebaseAxisConstraints(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const defaultElastic=.35;function resolveDragElastic(n=defaultElastic){return n===!1?n=0:n===!0&&(n=defaultElastic),{x:resolveAxisElastic(n,"left","right"),y:resolveAxisElastic(n,"top","bottom")}}function resolveAxisElastic(n,t,e){return{min:resolvePointElastic(n,t),max:resolvePointElastic(n,e)}}function resolvePointElastic(n,t){return typeof n=="number"?n:n[t]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(extractEventInfo(f).point)},a=(f,g)=>{const{drag:b,dragPropagation:x,onDragStart:E}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(R=>{let w=this.getAxisMotionValue(R).get()||0;if(percent.test(w)){const{projection:L}=this.visualElement;if(L&&L.layout){const P=L.layout.layoutBox[R];P&&(w=calcLength(P)*(parseFloat(w)/100))}}this.originPoint[R]=w}),E&&frame.postRender(()=>E(f,g)),addValueToWillChange(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,g)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:E,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:R}=g;if(x&&this.currentDirection===null){this.currentDirection=getCurrentDirection(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,R),this.updateAxis("y",g.point,R),this.visualElement.render(),S&&S(f,g)},u=(f,g)=>this.stop(f,g),h=()=>eachAxis(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PanSession(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:getContextWindow(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&frame.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!shouldDrag(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=applyConstraints(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&isRefObject(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=calcRelativeConstraints(i.layoutBox,t):this.constraints=!1,this.elastic=resolveDragElastic(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rebaseAxisConstraints(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!isRefObject(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=measurePageBox(i,s.root,this.visualElement.getTransformPagePoint());let o=calcViewportConstraints(s.layout.layoutBox,a);if(e){const u=e(convertBoxToBoundingBox(o));this.hasMutatedConstraints=!!u,u&&(o=convertBoundingBoxToBox(u))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=eachAxis(f=>{if(!shouldDrag(f,e,this.currentDirection))return;let g=h&&h[f]||{};o&&(g={min:0,max:0});const b=s?200:1e6,x=s?40:1e7,E={type:"inertia",velocity:i?t[f]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(f,E)});return Promise.all(d).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return addValueToWillChange(this.visualElement,t),i.start(animateMotionValue(t,i,0,e,this.visualElement,!1))}stopAnimation(){eachAxis(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){eachAxis(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){eachAxis(e=>{const{drag:i}=this.getProps();if(!shouldDrag(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[e];a.set(t[e]-mixNumber$1(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!isRefObject(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};eachAxis(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const h=u.get();s[o]=calcOrigin({min:h,max:h},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),eachAxis(o=>{if(!shouldDrag(o,t,null))return;const u=this.getAxisMotionValue(o),{min:h,max:d}=this.constraints[o];u.set(mixNumber$1(h,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const t=this.visualElement.current,e=addPointerEvent(t,"pointerdown",h=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();isRefObject(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),frame.read(i);const o=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(eachAxis(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=h[f].translate,g.set(g.get()+h[f].translate))}),this.visualElement.render())});return()=>{o(),e(),a(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=defaultElastic,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:u}}}function shouldDrag(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function getCurrentDirection(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class DragGesture extends Feature{constructor(t){super(t),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=n=>(t,e)=>{n&&frame.postRender(()=>n(t,e))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(t){this.session=new PanSession(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:asyncHandler(t),onStart:asyncHandler(e),onMove:i,onEnd:(a,o)=>{delete this.session,s&&frame.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const correctBorderRadius={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(px.test(n))n=parseFloat(n);else return n;const e=pixelsToPercent(n,t.target.x),i=pixelsToPercent(n,t.target.y);return`${e}% ${i}%`}},correctBoxShadow={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=complex.parse(n);if(s.length>5)return i;const a=complex.createTransformer(n),o=typeof s[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;s[0+o]/=u,s[1+o]/=h;const d=mixNumber$1(u,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),a(s)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;addScaleCorrector(defaultScaleCorrectors),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,s||t.layoutDependency!==e||e===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||frame.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),microtask.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function MeasureLayout(n){const[t,e]=usePresence(),i=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...n,layoutGroup:i,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:t,safeToRemove:e})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(n,t,e){const i=isMotionValue(n)?n:motionValue(n);return i.start(animateMotionValue("",i,t,e)),i.animation}const compareByDepth=(n,t)=>n.depth-t.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(t){addUniqueItem(this.children,t),this.isDirty=!0}remove(t){removeItem(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(t)}}function delay(n,t){const e=time.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(cancelFrame(i),n(a-t))};return frame.setup(i,!0),()=>cancelFrame(i)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=n=>typeof n=="string"?parseFloat(n):n,isPx=n=>typeof n=="number"||px.test(n);function mixValues(n,t,e,i,s,a){s?(n.opacity=mixNumber$1(0,e.opacity??1,easeCrossfadeIn(i)),n.opacityExit=mixNumber$1(t.opacity??1,0,easeCrossfadeOut(i))):a&&(n.opacity=mixNumber$1(t.opacity??1,e.opacity??1,i));for(let o=0;o<numBorders;o++){const u=`border${borders[o]}Radius`;let h=getRadius(t,u),d=getRadius(e,u);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||isPx(h)===isPx(d)?(n[u]=Math.max(mixNumber$1(asNumber(h),asNumber(d),i),0),(percent.test(d)||percent.test(h))&&(n[u]+="%")):n[u]=d}(t.rotate||e.rotate)&&(n.rotate=mixNumber$1(t.rotate||0,e.rotate||0,i))}function getRadius(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(n,t,e){return i=>i<n?0:i>t?1:e(progress(n,t,i))}function copyAxisInto(n,t){n.min=t.min,n.max=t.max}function copyBoxInto(n,t){copyAxisInto(n.x,t.x),copyAxisInto(n.y,t.y)}function copyAxisDeltaInto(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function removePointDelta(n,t,e,i,s){return n-=t,n=scalePoint(n,1/e,i),s!==void 0&&(n=scalePoint(n,1/s,i)),n}function removeAxisDelta(n,t=0,e=1,i=.5,s,a=n,o=n){if(percent.test(t)&&(t=parseFloat(t),t=mixNumber$1(o.min,o.max,t/100)-o.min),typeof t!="number")return;let u=mixNumber$1(a.min,a.max,i);n===a&&(u-=t),n.min=removePointDelta(n.min,t,e,u,s),n.max=removePointDelta(n.max,t,e,u,s)}function removeAxisTransforms(n,t,[e,i,s],a,o){removeAxisDelta(n,t[e],t[i],t[s],t.scale,a,o)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(n,t,e,i){removeAxisTransforms(n.x,t,xKeys,e?e.x:void 0,i?i.x:void 0),removeAxisTransforms(n.y,t,yKeys,e?e.y:void 0,i?i.y:void 0)}function isAxisDeltaZero(n){return n.translate===0&&n.scale===1}function isDeltaZero(n){return isAxisDeltaZero(n.x)&&isAxisDeltaZero(n.y)}function axisEquals(n,t){return n.min===t.min&&n.max===t.max}function boxEquals(n,t){return axisEquals(n.x,t.x)&&axisEquals(n.y,t.y)}function axisEqualsRounded(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function boxEqualsRounded(n,t){return axisEqualsRounded(n.x,t.x)&&axisEqualsRounded(n.y,t.y)}function aspectRatio(n){return calcLength(n.x)/calcLength(n.y)}function axisDeltaEquals(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class NodeStack{constructor(){this.members=[]}add(t){addUniqueItem(this.members,t),t.scheduleRender()}remove(t){if(removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||a||o)&&(i=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:f,rotateX:g,rotateY:b,skewX:x,skewY:E}=e;d&&(i=`perspective(${d}px) ${i}`),f&&(i+=`rotate(${f}deg) `),g&&(i+=`rotateX(${g}deg) `),b&&(i+=`rotateY(${b}deg) `),x&&(i+=`skewX(${x}deg) `),E&&(i+=`skewY(${E}deg) `)}const u=n.x.scale*t.x,h=n.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function cancelTreeOptimisedTransformAnimations(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=getOptimisedAppearId(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",frame,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(i)}function createProjectionNode({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},u=t==null?void 0:t()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new SubscriptionManager),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const h=this.eventHandlers.get(o);h&&h.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=isSVGElement(o)&&!isSVGSVGElement(o),this.instance=o;const{layoutId:u,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let f;const g=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=delay(g,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||h)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=d.getProps(),w=!this.targetLayout||!boxEqualsRounded(this.targetLayout,x),L=!g&&b;if(this.options.layoutRoot||this.resumeFrom||L||g&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...getValueTransition(E,"layout"),onPlay:S,onComplete:R};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,L)}else g||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const u=time.now();frameData.delta=clamp(0,1e3/60,u-frameData.timestamp),frameData.timestamp=u,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!isDeltaZero(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(u||hasTransform(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return o&&(h=this.removeTransform(h)),roundBox(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return createBox();const u=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:f}=this.root;f&&(translateAxis(u.x,f.offset.x),translateAxis(u.y,f.offset.y))}return u}removeElementScroll(o){var h;const u=createBox();if(copyBoxInto(u,o),(h=this.scroll)!=null&&h.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:b}=f;f!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&copyBoxInto(u,o),translateAxis(u.x,g.offset.x),translateAxis(u.y,g.offset.y))}return u}applyTransform(o,u=!1){const h=createBox();copyBoxInto(h,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&transformBox(h,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hasTransform(f.latestValues)&&transformBox(h,f.latestValues)}return hasTransform(this.latestValues)&&transformBox(h,this.latestValues),h}removeTransform(o){const u=createBox();copyBoxInto(u,o);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!hasTransform(d.latestValues))continue;hasScale(d.latestValues)&&d.updateSnapshot();const f=createBox(),g=d.measurePageBox();copyBoxInto(f,g),removeBoxTransforms(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return hasTransform(this.latestValues)&&removeBoxTransforms(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,x.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(h=!1),h)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=createBox());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(o,u=!1){const h=this.snapshot,d=h?h.latestValues:{},f={...this.latestValues},g=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=createBox(),x=h?h.source:void 0,E=this.layout?this.layout.source:void 0,S=x!==E,R=this.getStack(),w=!R||R.members.length<=1,L=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let P;this.mixTargetDelta=V=>{const B=V/1e3;mixAxisDelta(g.x,o.x,B),mixAxisDelta(g.y,o.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,b,B),P&&boxEquals(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=createBox()),copyBoxInto(P,this.relativeTarget)),S&&(this.animationValues=f,mixValues(f,d,this.latestValues,B,L,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,h,d;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(d=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||d.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:h,layout:d,latestValues:f}=o;if(!(!u||!h||!d)){if(this!==o&&this.layout&&d&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||createBox();const g=calcLength(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+g;const b=calcLength(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+b}copyBoxInto(u,h),transformBox(u,f),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NodeStack),this.sharedNodes.get(o).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const d={};h.z&&resetDistortingTransform("z",o,d,this.animationValues);for(let f=0;f<transformAxes.length;f++)resetDistortingTransform(`rotate${transformAxes[f]}`,o,d,this.animationValues),resetDistortingTransform(`skew${transformAxes[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=resolveMotionValue(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=resolveMotionValue(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:g,y:b}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?u.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in scaleCorrectors){if(f[x]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:R}=scaleCorrectors[x],w=u.transform==="none"?f[x]:E(f[x],d);if(S){const L=S.length;for(let P=0;P<L;P++)u[S[P]]=w}else R?this.options.visualElement.renderState.vars[x]=w:u[x]=w}return this.options.layoutId&&(u.pointerEvents=d===this?resolveMotionValue(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(n){n.updateLayout()}function notifyLayoutUpdate(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:a}=n.options,o=t.source!==n.layout.source;a==="size"?eachAxis(g=>{const b=o?t.measuredBox[g]:t.layoutBox[g],x=calcLength(b);b.min=i[g].min,b.max=b.min+x}):shouldAnimatePositionOnly(a,t.layoutBox,i)&&eachAxis(g=>{const b=o?t.measuredBox[g]:t.layoutBox[g],x=calcLength(i[g]);b.max=b.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+x)});const u=createDelta();calcBoxDelta(u,i,t.layoutBox);const h=createDelta();o?calcBoxDelta(h,n.applyTransform(s,!0),t.measuredBox):calcBoxDelta(h,i,t.layoutBox);const d=!isDeltaZero(u);let f=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const E=createBox();calcRelativePosition(E,t.layoutBox,b.layoutBox);const S=createBox();calcRelativePosition(S,i,x.layoutBox),boxEqualsRounded(E,S)||(f=!0),g.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function propagateDirtyNodes(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function cleanDirtyNodes(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function clearSnapshot(n){n.clearSnapshot()}function clearMeasurements(n){n.clearMeasurements()}function clearIsLayoutDirty(n){n.isLayoutDirty=!1}function resetTransformStyle(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function finishAnimation(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function resolveTargetDelta(n){n.resolveTargetDelta()}function calcProjection(n){n.calcProjection()}function resetSkewAndRotation(n){n.resetSkewAndRotation()}function removeLeadSnapshots(n){n.removeLeadSnapshot()}function mixAxisDelta(n,t,e){n.translate=mixNumber$1(t.translate,0,e),n.scale=mixNumber$1(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function mixAxis(n,t,e,i){n.min=mixNumber$1(t.min,e.min,i),n.max=mixNumber$1(t.max,e.max,i)}function mixBox(n,t,e,i){mixAxis(n.x,t.x,e.x,i),mixAxis(n.y,t.y,e.y,i)}function hasOpacityCrossfade(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(n){n.min=roundPoint(n.min),n.max=roundPoint(n.max)}function roundBox(n){roundAxis(n.x),roundAxis(n.y)}function shouldAnimatePositionOnly(n,t,e){return n==="position"||n==="preserve-aspect"&&!isNear(aspectRatio(t),aspectRatio(e),.2)}function checkNodeWasScrollRoot(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(n,t)=>addDomEvent(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const n=new DocumentProjectionNode({});n.mount(window),n.setOptions({layoutScroll:!0}),rootProjectionNode.current=n}return rootProjectionNode.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&frame.postRender(()=>a(t,extractEventInfo(t)))}class HoverGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=hover(t,(e,i)=>(handleHoverEvent(this.node,i,"Start"),s=>handleHoverEvent(this.node,s,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&frame.postRender(()=>a(t,extractEventInfo(t)))}class PressGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=press(t,(e,i)=>(handlePressEvent(this.node,i,"Start"),(s,{success:a})=>handlePressEvent(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=n=>{const t=observerCallbacks.get(n.target);t&&t(n)},fireAllObserverCallbacks=n=>{n.forEach(fireObserverCallback)};function initIntersectionObserver({root:n,...t}){const e=n||document;observers.has(e)||observers.set(e,{});const i=observers.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(fireAllObserverCallbacks,{root:n,...t})),i[s]}function observeIntersection(n,t,e){const i=initIntersectionObserver(t);return observerCallbacks.set(n,e),i.observe(n),()=>{observerCallbacks.delete(n),i.unobserve(n)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:thresholdNames[s]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),b=d?f:g;b&&b(h)};return observeIntersection(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(t,e))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>prefersReducedMotion.current=n.matches;n.addListener(t),t()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(n,t,e){for(const i in t){const s=t[i],a=e[i];if(isMotionValue(s))n.addValue(i,s);else if(isMotionValue(a))n.addValue(i,motionValue(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,motionValue(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=time.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,frame.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=isControllingVariants(e),this.isVariantNode=isVariantNode(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in g){const x=g[b];h[b]!==void 0&&isMotionValue(x)&&x.set(h[b],!1)}}mount(t){this.current=t,visualElementStore.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=transformProps.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&frame.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in featureDefinitions){const e=featureDefinitions[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<propEventHandlers.length;i++){const s=propEventHandlers[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=motionValue(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(isNumericalString(i)||isZeroValueString(i))?i=parseFloat(i):!findValueType(i)&&complex.test(e)&&(i=getAnimatableNone(t,e)),this.setBaseTarget(t,isMotionValue(i)?i.get():i)),isMotionValue(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var a;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=resolveVariantFromProps(this.props,e,(a=this.presenceContext)==null?void 0:a.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!isMotionValue(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new SubscriptionManager),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;isMotionValue(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function renderHTML(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const a in e)n.style.setProperty(a,e[a])}function getComputedStyle$1(n){return window.getComputedStyle(n)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(t,e){var i;if(transformProps.has(e))return(i=this.projection)!=null&&i.isProjecting?defaultTransformValue(e):readTransformValue(t,e);{const s=getComputedStyle$1(t),a=(isCSSVariableName(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return measureViewportBox(t,e)}build(t,e,i){buildHTMLStyles(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return scrapeMotionValuesFromProps$1(t,e,i)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(n,t,e,i){renderHTML(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(camelCaseAttributes.has(s)?s:camelToDash(s),t.attrs[s])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(transformProps.has(e)){const i=getDefaultValueType(e);return i&&i.default||0}return e=camelCaseAttributes.has(e)?e:camelToDash(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return scrapeMotionValuesFromProps(t,e,i)}build(t,e,i){buildSVGAttrs(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){renderSVG(t,e,i,s)}mount(t){this.isSVGTag=isSVGTag(t.tagName),super.mount(t)}}const createDomVisualElement=(n,t)=>isSVGComponent(n)?new SVGVisualElement(t):new HTMLVisualElement(t,{allowProjection:n!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function stopAnimation(n){n.values.forEach(t=>t.stop())}function setVariants(n,t){[...t].reverse().forEach(i=>{const s=n.getVariant(i);s&&setTarget(n,s),n.variantChildren&&n.variantChildren.forEach(a=>{setVariants(a,t)})})}function setValues(n,t){if(Array.isArray(t))return setVariants(n,t);if(typeof t=="string")return setVariants(n,[t]);setTarget(n,t)}function animationControls(){const n=new Set,t={subscribe(e){return n.add(e),()=>void n.delete(e)},start(e,i){const s=[];return n.forEach(a=>{s.push(animateVisualElement(a,e,{transitionOverride:i}))}),Promise.all(s)},set(e){return n.forEach(i=>{setValues(i,e)})},stop(){n.forEach(e=>{stopAnimation(e)})},mount(){return()=>{t.stop()}}};return t}function useAnimationControls(){const n=useConstant(animationControls);return useIsomorphicLayoutEffect(n.mount,[]),n}const useAnimation=useAnimationControls,thresholds={some:0,all:1};function inView(n,t,{root:e,margin:i,amount:s="some"}={}){const a=resolveElements(n),o=new WeakMap,u=d=>{d.forEach(f=>{const g=o.get(f.target);if(f.isIntersecting!==!!g)if(f.isIntersecting){const b=t(f.target,f);typeof b=="function"?o.set(f.target,b):h.unobserve(f.target)}else typeof g=="function"&&(g(f),o.delete(f.target))})},h=new IntersectionObserver(u,{root:e,rootMargin:i,threshold:typeof s=="number"?s:thresholds[s]});return a.forEach(d=>h.observe(d)),()=>h.disconnect()}function useInView(n,{root:t,margin:e,amount:i,once:s=!1,initial:a=!1}={}){const[o,u]=reactExports.useState(a);return reactExports.useEffect(()=>{if(!n.current||s&&o)return;const h=()=>(u(!0),s?void 0:()=>u(!1)),d={root:t&&t.current||void 0,margin:e,amount:i};return inView(n.current,h,d)},[t,n,e,s,i]),o}const __vite_glob_0_21="/assets/profile-i7qSniSb.jpg";function AboutSection({id:n}){const t=reactExports.useRef(null),e=useInView(t,{once:!0,margin:"-50px"});return jsxRuntimeExports.jsx(motion.section,{id:n,ref:t,initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut"},className:"py-20 bg-gray-200 text-gray-800",children:jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 md:pr-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"About Me"}),jsxRuntimeExports.jsx("p",{className:"text-base leading-relaxed text-gray-700",children:"Hello! I'm a junior at Olin College of Engineering '27, studying Computer Science and Robotics. I love working on hands-on software projects and exploring a broad range of topics across the stack. I'm drawn to projects with clear impact, as well as side projects that breathe whimsy into learning. Whether I'm tackling a practical problem or experimenting with a new concept, I enjoy learning by building and iterating."})]}),jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2 flex justify-center md:justify-end mt-8 md:mt-0",children:jsxRuntimeExports.jsx("img",{src:__vite_glob_0_21,alt:"Profile",className:"rounded-full w-40 h-40 md:w-48 md:h-48 object-cover shadow-lg"})})]})})})}const __vite_glob_0_0="/assets/CompArch_MP3-DlrQ9N-m.mov",__vite_glob_0_1="/assets/agrodoc-backend-component-diagram-Cc0gbjmE.jpg",__vite_glob_0_2="/assets/agrodoc-sys-arch-diagram-nEUHh7vi.jpg",__vite_glob_0_3="/assets/powisset-thumbnail-mP_NhkiY.png",__vite_glob_0_4="/assets/background-MQ2qiMkw.gif",__vite_glob_0_5="/assets/bettafish-sys-arch-DQUDILIC.jpg",__vite_glob_0_6="/assets/chess-bot-action-DW-m95jx.gif",__vite_glob_0_7="/assets/chess-bot-sim-MmX3DMcJ.png",__vite_glob_0_8="/assets/chess-grid-segmentation-BWa3ovM8.png",__vite_glob_0_9="/assets/chess-move-detection-BtPP0p-W.png",__vite_glob_0_10="/assets/chess-thumbnail-CjrptFQ_.jpg",__vite_glob_0_11="/assets/couch-debugging-candid-ahrDpa7Z.jpg",__vite_glob_0_12="/assets/couch-final-photoshoot-KOLQY3-5.jpg",__vite_glob_0_13="/assets/couch-pre-drive-Du6WWhBX.jpg",__vite_glob_0_14="/assets/couch-thumbnail-B0wvjqcS.png",__vite_glob_0_15="/assets/dancing-links-thumbnail-BQc6DN3G.png",__vite_glob_0_16="/assets/iron-man-beta-hax2oUzL.png",__vite_glob_0_17="/assets/iron-man-hero-DHnJHwe3.jpg",__vite_glob_0_18="/assets/iron-man-mask-actuation-DdkDAeBl.mp4",__vite_glob_0_19="/assets/iron-man-workspace-Cq6TMKNA.jpeg",__vite_glob_0_22="/assets/pvmpkin-memory-map-DHGQsfcY.gif",__vite_glob_0_23="/assets/react-CHdo91hT.svg",__vite_glob_0_24="/assets/harris-harris-multicycle-unpipelined-processor-diag-BS8fWReR.png",__vite_glob_0_25="/assets/mp4-processor-sim--FfJS4zy.png",__vite_glob_0_26="/assets/digital-sequencer-thumbnail-D-rVt8jJ.png",__vite_glob_1_0=`---
title: "AgroDoc"
slug: "agro-doc"
image: "powisset-thumbnail"
category: "Python | Flask | Machine Learning | Web Dev | IaC"
galleryImages:
  - "agrodoc-backend-component-diagram"
  - "agrodoc-sys-arch-diagram"
learnMoreLink: "https://github.com/FarmNerdsLab/agro-doc"
leftAnimation:
  shape: triangle
  color: green
  count: 8
rightAnimation:
  shape: triangle
  color: green
  count: 8
---
---

## GitHub Repository
[https://github.com/FarmNerdsLab/agro-doc](https://github.com/FarmNerdsLab/agro-doc)

## Project Overview
This project started Summer 2024. I spent a summer as a research assistant under Dr. Alessandra Ferzoco. My partner--Arianne Fong-- and I co-designed with the head farmers at Powisset Farm in Dover, MA. We learned that they would frequently spent much of their time over the weekends updating and organizing their spreadsheets with the latest harvests from the week--a monotonous and slow task. Therefore, we developed a webapp to help them streamline their documentation process using Python with a Flask backend. This webapp leveraged LLM and OCR models to perform the text digitization. We deployed our MVP to them the following year.  

Beyond the app itself, we published a paper to IEEE's Frontiers in Education (FIE) 2025 Conference, and presented our talk in the Fall in Nashville, TN.  

A massive thank-you to Alessandra for supporting me all the way and making this an experience to remember!`,__vite_glob_1_1=`---
title: "BettaFish Chess Robot"
slug: "chess-robot"
image: "chess-thumbnail"
category: "Python | Path-Planning | Algorithms | Behavioral Robotics | Robot Arm"
galleryImages:
  - "chess-bot-action"
  - "chess-bot-sim"
  - "chess-grid-segmentation"
learnMoreLink: "https://eddydpan.github.io/chess_bot/"
leftAnimation:
  shape: square
  color: yellow
  count: 8
rightAnimation:
  shape: square
  color: yellow
  count: 8
---

## Description  

The Chess Bot 
TODO


## Documentation  
Cleaned GitHub Repo: [https://github.com/eddydpan/robot-chess-player](https://github.com/eddydpan/robot-chess-player)  
Website: [https://eddydpan.github.io/chess_bot/](https://eddydpan.github.io/chess_bot/)

## Next Steps
Coming soon`,__vite_glob_1_2=`---
title: "Control-Oriented Universal Chassis Hub (COUCH)"
slug: "couch"
image: "couch-thumbnail"
category: "C | ESP32 | ESP-IDF | FreeRTOS | Bluetooth | DAC | Motor Control"
galleryImages:
  - "couch-final-photoshoot"
  - "couch-pre-drive"
  - "couch-debugging-candid"
learnMoreLink: https://github.com/eddydpan/COUCH"
leftAnimation:
  shape: square
  color: blue
  count: 8
rightAnimation:
  shape: square
  color: blue
  count: 8
---
--- 

## Hype Video
\`\`\`youtube
https://youtu.be/RcAKfHjtkew
\`\`\`
props to Cooper for making the hype video!

## GitHub Link:
[https://github.com/eddydpan/COUCH](https://github.com/eddydpan/COUCH)
## Description
For a passion project during our third year, my friends--Cooper and Tane--and I decided to take up an engineering project together: a remote-controlled motorized rig. Cooper led mechanical, Tane led electrical, and I led software. By no means was this a cheap project; in the end, we spent right up against $450 for the cheapest components that would have this rig in a position to drive.  

This project was a great opportunity for me to apply what I've learned within Software Engineering and move lower into embedded programming. I was working with an ESP32 with the ESP-IDF development environment. After the initial learning curve, I used the [Bluepad32](https://github.com/ricardoquesada/bluepad32) library built off [BTStack](https://github.com/bluekitchen/btstack) to connect the PS4 Controller to the ESP32. 

Afterwards, I used two DAC pins from the ESP32 to drive current to the throttle pins on our motor controller to control the speed. After mapping the DAC pins' voltage to the PS4 Controller's left and right joystick, we had open-loop control. 

## Reflections
We were new to building a mobile base, and there were many ideas we failed to consider earlier for this project. 
Additionally, We ran into challenges of budgeting, as a project of this size ran us right up against our allotted Passionate Pursuit budget. Our project was tightly constrained by cost--altering how we spec'd out our components and resulting in us going with the cheapest options. 

In retrospect, we've identified many aspects of the project we would've changed had we done it again: (1) the motors and ESCs were from E-Bike kits and were the cheapest we could find, and much of our time was sunk into integrating them; (2) we would've organized our timeline to enable mechanical testing post-integration early on instead of going into our "final demo" mechanically untested; and (3) we would explore robust ways to connect the motor to the wheel axel. 

## Visibility
Ultimately, at the _Robots of Olin Exhibition_, we presented our rig to the larger Olin community explaining our design process, milestones, and reflections.`,__vite_glob_1_3=`---
title: "Dancing Links Visualizer"
slug: "dancing-links-visualizer"
image: "dancing-links-thumbnail"
category: "JavaScript | React | TailwindCSS | Python | Algorithms"
galleryImages:
  - 
learnMoreLink: "https://github.com/eddydpan/dancing-links"
leftAnimation:
  shape: square
  color: red
  count: 8
rightAnimation:
  shape: square
  color: red
  count: 8
---
--- 

## Overview

For my Data Structures and Algorithms final project, I did a deep dive on the 'Dancing Links' algorithm by Dr. Don Knuth, the author of the renowned *The Art of Computer Programming* series. During my search, I watched his [lecture](https://www.youtube.com/watch?v=_cR9zDlvP88). Something caught my ear at [this timestamp](https://youtu.be/_cR9zDlvP88?si=9DJrhUNgDw6jaA7j&t=1777): Knuth states  

    "I'm still waiting on somebody to write an app that takes this algorithm and an exact cover 
    problem, and somehow animates it... I wish I had a good visualization of the process."   

Since this lecture was recorded back in 2018, I imagined someone would've already taken up the esteemed professor's call-to-action. I began scouring the internet for any form of dynamic visualizer for the Dancing Links, yet nothing came up after pages of Google and repositories on GitHub. I was elated to find the perfect project to work on.  

I first implemented the algorithm in my most comfortable language, Python, to dig a bit deeper into each step. After, I ported the algorithm into JavaScript, then began building the visualizer as a client-side React application. I faced implementation challenges due to the complex nature of which nodes to display during the process of covering and uncovering. 

## Next Steps 
I finished my beta release by the end of the two-week project period: it features the logic for creating an Exact Cover Problem and stepping through a visualization of the Dancing Links algorithm. I am planning on returning to it now that I have more React and JavaScript experience under my belt to bring it to deployment-ready. I'm hoping to reach Knuth once I have finished this project; although, it has proven more difficult than I expected to reach him as he notes on his personal website that the only emails he'll look at are ones that point out bugs in his books. 

## Documentation
GitHub repository: [https://github.com/eddydpan/dancing-links](https://github.com/eddydpan/dancing-links)

Beta Version Visualizer: [https://eddydpan.github.io/dancing-links/](https://eddydpan.github.io/dancing-links/)

Slideshow link: [https://docs.google.com/presentation/d/1AS5-agf4QNf9up3ARq-uBXr2tUAGxle65uFYnTdCQnU/edit?usp=sharing](https://docs.google.com/presentation/d/1AS5-agf4QNf9up3ARq-uBXr2tUAGxle65uFYnTdCQnU/edit?usp=sharing)

Knuth Lecture: [https://www.youtube.com/watch?v=_cR9zDlvP88](https://www.youtube.com/watch?v=_cR9zDlvP88)

`,__vite_glob_1_4=`---
title: "FPGA Digital Sequencer"
slug: "digital-sequencer"
image: "digital-sequencer-thumbnail"
category: "SystemVerilog | C++ | UART | I2C | DSP | Qt"
galleryImages:
  - "digital-sequencer-thumbnail"
learnMoreLink: "https://github.com/eddydpan/fpga-sequencer/tree/main"
leftAnimation:
  shape: circle
  color: green
  count: 8
rightAnimation:
  shape: circle
  color: green
  count: 8
---
--- 

# FPGA Digital Sequencer
Updated: December 28, 2025

## Project Overview 

Our core objective is to develop a functional Digital Beat Sequencer implemented in SystemVerilog on the iceBlinkPico. Our MVP consists of three integrated subsystems: the Core Sequencer Logic, the Audio Output, and the Visual Output. For the core logic, we will use a 4x4 Keypad Matrix to program the memory addresses of a 16-step sequence, determining which beats trigger a sound. The audio output will be monophonic; a rotary encoder will set the tone by mapping user input to one of eight selectable pitches within a single octave (C4-C5). This tone is generated as a basic digital square wave and output directly to a buzzer, bypassing the need for a DAC. Finally, for visual output, we use a seven segment display to show the tone currently selected by the rotary encoder.

## GitHub Repo
Our GitHub repo contains our digital design modules in SystemVerilog, the Qt Visualizer GUI in C++, as well as much more documentation on our modules and design decisions.  

**Github Link:** [https://github.com/eddydpan/fpga-sequencer](https://github.com/eddydpan/fpga-sequencer) 

## Video Demonstration

[FPGA Sequencer: Creating Beats](https://youtube.com/shorts/dOwPXBnwGPw?feature=share)

[Tetris Theme Demo](https://youtube.com/shorts/HQIssS48aXo?si=sSymORCl6q5preDt)

## Reflections

Overall, this project was a blast to work on. At the time, I had a beginner-intermediate understanding of SystemVerilog, and this project absolutely helped to solidify architecting digital design. I was also able to use this project as a platform to learn Qt and C++. There were so many opportunities and directions for new learning opportunities with this project--with each feature yielding satisfaction and joy. Ultimately, we had a little more than 1 week to implement this project, and we took it as far as we could within that timeframe. With how time-constrained this project felt, I am more than happy with the results, and I am eager to continue working on this project in the near future. Hopefully I remember to update this website with the final product, but I have big dreams of building an ensemble of embedded music instruments to play in ~~symphony~~ cacophony.   

## Next Steps

Since this project was both fun and offered great learning opportunities, were looking to build on top of this project by:

1. Swapping out the 4x4 Keypin Matrix with the Adafruit NeoTrellis PCB  
  - It offers a more satisfying tactile experience  
  - Uses RGBs at each button to visualize tones as the sequence builds  
  - Uses the I2C protocol which we would need to implement in SystemVerilog  
2. Digital-to-Analog Converter  
  - Implementing a DAC would open the gates to a myriad of audio opportunities. We would gain access to sine waves, sawtooth waves, triangle waves, etc.   
  - An even further continuation of a DAC would be to implement Attack-Decay-Sustain-Release (ADSR) Envelopes  
3. Implement a UART RX module on the FPGA  
  - Send transmissions from the GUI Visualizer to the FPGA over UART to load punch-ins into memory  
4. Turn it into a product by soldering it to perfboard and encasing it within a 3D-printed shell.

Over the course of the next calendar year, we plan on implementing these features. `,__vite_glob_1_5=`---
title: "Home Automation"
slug: "home-automation"
image: "home-automation-thumbnail"
category: "Python | C++ | MQTT | Networking | Linux | Bash"
galleryImages:
  - 
learnMoreLink: "https://github.com/eddydpan/fpga-sequencer/tree/main" //TODO: resolve this link
--- 


## Overview
I have been a bit obsessed about "smartifying" my living spaces. However, I've also been trying to stay more security-conscious. While the convenience of an Amazon Echo or Google Home seemed incredible, my pride kicked in thinking: "yeah, I could build this myself".  

I've enjoyed this project so much because of its immediate applications in my life. I started out using smart plugs and LEDs that I could communicate with over my network and had an exposed Python API. This was perfect for my first goal: having clap-controlled lights. 

I set up a Raspberry Pi to run some simple digital signal processing for two "clap-like" sounds which would send a command over the network to toggle the state of the lights. 

Eventually, I wanted to upgrade this project. Using ODROID XU4s, I broke my initial Raspberry Pi out into a distributed system and refactored my Python code to C++. With a distributed system, I enabled myself to have task-specific SBCs: audio, video, and embedded nodes. `,__vite_glob_1_6=`---
title: "Iron Man MK5 Helmet"
slug: "iron-man"
image: "iron-man-workspace"
category: "Python | Arduino | LLM | Integration | Raspberry Pi"
galleryImages:
    - "iron-man-beta"
    - "iron-man-hero"
learnMoreLink: "https://olincollege.github.io/pie-2024-03/iron-man/"
leftAnimation:
  shape: triangle
  color: red
  count: 8
rightAnimation:
  shape: triangle
  color: red
  count: 8
---
---

Over the course of half a semester my Sophomore Fall, my friends and I built this mockup of the Iron Man Mark-5 helmet. We wanted it to have all the features the helmet has from the movies--especially the AI voice assistant, AR Heads-Up Display (HUD), and mask actuation. After many sleepless nights, three prototype iterations, and a rollercoaster of emotions, I present to you our take on the MK5 Helmet.   

See our website for the full details and documentation below.  
`,__vite_glob_1_7=`---
title: "RISC-V VM and Processor"
slug: "risc-v"
image: "harris-harris-multicycle-unpipelined-processor-diag"
category: "C | CMake | RISC-V | SystemVerilog | ASM"
galleryImages:
  - mp4-processor-sim
learnMoreLink: "https://github.com/olincollege/pVMpkin"
leftAnimation:
  shape: circle
  color: blue
  count: 8
rightAnimation:
  shape: circle
  color: blue
  count: 8
--- 

## Overview
In order to build my understanding of computer architecture and engineering, I got my hands dirty with the [RISC-V architecture](https://en.wikipedia.org/wiki/RISC-V). I implemented both a RISC-based LC-3 virtual machine in C and the RV32I instruction set for an Unpipelined Multicycle RISC-V Processor in SystemVerilog. 

### GitHub Links
LC-3 Virtual Machine: [https://github.com/olincollege/pVMpkin](https://github.com/olincollege/pVMpkin)
Unpipelined Multicycle RV32I Processor: [https://github.com/darianjimenez/MP4/tree/main](https://github.com/darianjimenez/MP4/tree/main)

### LC-3 Virtual Machine
See [this slideshow](https://docs.google.com/presentation/d/12DWFksfCx5f3zhMVkU8ODTlY10oCDZahaejDrJKTmhU/preview?usp=sharing) for more detailed documentation on how we implemented the virtual machine to run ASM and visualized the memory with an SDL3 memory map. 

### RISC-V Processor Documentation 
\`\`\`pdf
/docs/mp4-writeup.pdf
\`\`\``,__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var kindOf,hasRequiredKindOf;function requireKindOf(){if(hasRequiredKindOf)return kindOf;hasRequiredKindOf=1;var n=Object.prototype.toString;kindOf=function(g){if(g===void 0)return"undefined";if(g===null)return"null";var b=typeof g;if(b==="boolean")return"boolean";if(b==="string")return"string";if(b==="number")return"number";if(b==="symbol")return"symbol";if(b==="function")return o(g)?"generatorfunction":"function";if(e(g))return"array";if(d(g))return"buffer";if(h(g))return"arguments";if(s(g))return"date";if(i(g))return"error";if(a(g))return"regexp";switch(t(g)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(u(g))return"generator";switch(b=n.call(g),b){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return b.slice(8,-1).toLowerCase().replace(/\s/g,"")};function t(f){return typeof f.constructor=="function"?f.constructor.name:null}function e(f){return Array.isArray?Array.isArray(f):f instanceof Array}function i(f){return f instanceof Error||typeof f.message=="string"&&f.constructor&&typeof f.constructor.stackTraceLimit=="number"}function s(f){return f instanceof Date?!0:typeof f.toDateString=="function"&&typeof f.getDate=="function"&&typeof f.setDate=="function"}function a(f){return f instanceof RegExp?!0:typeof f.flags=="string"&&typeof f.ignoreCase=="boolean"&&typeof f.multiline=="boolean"&&typeof f.global=="boolean"}function o(f,g){return t(f)==="GeneratorFunction"}function u(f){return typeof f.throw=="function"&&typeof f.return=="function"&&typeof f.next=="function"}function h(f){try{if(typeof f.length=="number"&&typeof f.callee=="function")return!0}catch(g){if(g.message.indexOf("callee")!==-1)return!0}return!1}function d(f){return f.constructor&&typeof f.constructor.isBuffer=="function"?f.constructor.isBuffer(f):!1}return kindOf}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable,hasRequiredIsExtendable;function requireIsExtendable(){return hasRequiredIsExtendable||(hasRequiredIsExtendable=1,isExtendable=function(t){return typeof t<"u"&&t!==null&&(typeof t=="object"||typeof t=="function")}),isExtendable}var extendShallow,hasRequiredExtendShallow;function requireExtendShallow(){if(hasRequiredExtendShallow)return extendShallow;hasRequiredExtendShallow=1;var n=requireIsExtendable();extendShallow=function(s){n(s)||(s={});for(var a=arguments.length,o=1;o<a;o++){var u=arguments[o];n(u)&&t(s,u)}return s};function t(i,s){for(var a in s)e(s,a)&&(i[a]=s[a])}function e(i,s){return Object.prototype.hasOwnProperty.call(i,s)}return extendShallow}var sectionMatter,hasRequiredSectionMatter;function requireSectionMatter(){if(hasRequiredSectionMatter)return sectionMatter;hasRequiredSectionMatter=1;var n=requireKindOf(),t=requireExtendShallow();sectionMatter=function(h,d){typeof d=="function"&&(d={parse:d});var f=i(h),g={section_delimiter:"---",parse:o},b=t({},g,d),x=b.section_delimiter,E=f.content.split(/\r?\n/),S=null,R=a(),w=[],L=[];function P(J){f.content=J,S=[],w=[]}function V(J){L.length&&(R.key=s(L[0],x),R.content=J,b.parse(R,S),S.push(R),R=a(),w=[],L=[])}for(var B=0;B<E.length;B++){var F=E[B],H=L.length,K=F.trim();if(e(K,x)){if(K.length===3&&B!==0){if(H===0||H===2){w.push(F);continue}L.push(K),R.data=w.join(`
`),w=[];continue}S===null&&P(w.join(`
`)),H===2&&V(w.join(`
`)),L.push(K);continue}w.push(F)}return S===null?P(w.join(`
`)):V(w.join(`
`)),f.sections=S,f};function e(h,d){return!(h.slice(0,d.length)!==d||h.charAt(d.length+1)===d.slice(-1))}function i(h){if(n(h)!=="object"&&(h={content:h}),typeof h.content!="string"&&!u(h.content))throw new TypeError("expected a buffer or string");return h.content=h.content.toString(),h.sections=[],h}function s(h,d){return h?h.slice(d.length).trim():""}function a(){return{key:"",data:"",content:""}}function o(h){return h}function u(h){return h&&h.constructor&&typeof h.constructor.isBuffer=="function"?h.constructor.isBuffer(h):!1}return sectionMatter}var engines={exports:{}},jsYaml$1={},loader={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function n(o){return typeof o>"u"||o===null}function t(o){return typeof o=="object"&&o!==null}function e(o){return Array.isArray(o)?o:n(o)?[]:[o]}function i(o,u){var h,d,f,g;if(u)for(g=Object.keys(u),h=0,d=g.length;h<d;h+=1)f=g[h],o[f]=u[f];return o}function s(o,u){var h="",d;for(d=0;d<u;d+=1)h+=o;return h}function a(o){return o===0&&Number.NEGATIVE_INFINITY===1/o}return common.isNothing=n,common.isObject=t,common.toArray=e,common.repeat=s,common.isNegativeZero=a,common.extend=i,common}var exception,hasRequiredException;function requireException(){if(hasRequiredException)return exception;hasRequiredException=1;function n(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.toString=function(e){var i=this.name+": ";return i+=this.reason||"(unknown reason)",!e&&this.mark&&(i+=" "+this.mark.toString()),i},exception=n,exception}var mark$1,hasRequiredMark;function requireMark(){if(hasRequiredMark)return mark$1;hasRequiredMark=1;var n=requireCommon();function t(e,i,s,a,o){this.name=e,this.buffer=i,this.position=s,this.line=a,this.column=o}return t.prototype.getSnippet=function(i,s){var a,o,u,h,d;if(!this.buffer)return null;for(i=i||4,s=s||75,a="",o=this.position;o>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(o-1))===-1;)if(o-=1,this.position-o>s/2-1){a=" ... ",o+=5;break}for(u="",h=this.position;h<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(h))===-1;)if(h+=1,h-this.position>s/2-1){u=" ... ",h-=5;break}return d=this.buffer.slice(o,h),n.repeat(" ",i)+a+d+u+`
`+n.repeat(" ",i+this.position-o+a.length)+"^"},t.prototype.toString=function(i){var s,a="";return this.name&&(a+='in "'+this.name+'" '),a+="at line "+(this.line+1)+", column "+(this.column+1),i||(s=this.getSnippet(),s&&(a+=`:
`+s)),a},mark$1=t,mark$1}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1;var n=requireException(),t=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],e=["scalar","sequence","mapping"];function i(a){var o={};return a!==null&&Object.keys(a).forEach(function(u){a[u].forEach(function(h){o[String(h)]=u})}),o}function s(a,o){if(o=o||{},Object.keys(o).forEach(function(u){if(t.indexOf(u)===-1)throw new n('Unknown option "'+u+'" is met in definition of "'+a+'" YAML type.')}),this.tag=a,this.kind=o.kind||null,this.resolve=o.resolve||function(){return!0},this.construct=o.construct||function(u){return u},this.instanceOf=o.instanceOf||null,this.predicate=o.predicate||null,this.represent=o.represent||null,this.defaultStyle=o.defaultStyle||null,this.styleAliases=i(o.styleAliases||null),e.indexOf(this.kind)===-1)throw new n('Unknown kind "'+this.kind+'" is specified for "'+a+'" YAML type.')}return type=s,type}var schema,hasRequiredSchema;function requireSchema(){if(hasRequiredSchema)return schema;hasRequiredSchema=1;var n=requireCommon(),t=requireException(),e=requireType();function i(o,u,h){var d=[];return o.include.forEach(function(f){h=i(f,u,h)}),o[u].forEach(function(f){h.forEach(function(g,b){g.tag===f.tag&&g.kind===f.kind&&d.push(b)}),h.push(f)}),h.filter(function(f,g){return d.indexOf(g)===-1})}function s(){var o={scalar:{},sequence:{},mapping:{},fallback:{}},u,h;function d(f){o[f.kind][f.tag]=o.fallback[f.tag]=f}for(u=0,h=arguments.length;u<h;u+=1)arguments[u].forEach(d);return o}function a(o){this.include=o.include||[],this.implicit=o.implicit||[],this.explicit=o.explicit||[],this.implicit.forEach(function(u){if(u.loadKind&&u.loadKind!=="scalar")throw new t("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=i(this,"implicit",[]),this.compiledExplicit=i(this,"explicit",[]),this.compiledTypeMap=s(this.compiledImplicit,this.compiledExplicit)}return a.DEFAULT=null,a.create=function(){var u,h;switch(arguments.length){case 1:u=a.DEFAULT,h=arguments[0];break;case 2:u=arguments[0],h=arguments[1];break;default:throw new t("Wrong number of arguments for Schema.create function")}if(u=n.toArray(u),h=n.toArray(h),!u.every(function(d){return d instanceof a}))throw new t("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!h.every(function(d){return d instanceof e}))throw new t("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new a({include:u,explicit:h})},schema=a,schema}var str,hasRequiredStr;function requireStr(){if(hasRequiredStr)return str;hasRequiredStr=1;var n=requireType();return str=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),str}var seq,hasRequiredSeq;function requireSeq(){if(hasRequiredSeq)return seq;hasRequiredSeq=1;var n=requireType();return seq=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),seq}var map$2,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map$2;hasRequiredMap=1;var n=requireType();return map$2=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),map$2}var failsafe,hasRequiredFailsafe;function requireFailsafe(){if(hasRequiredFailsafe)return failsafe;hasRequiredFailsafe=1;var n=requireSchema();return failsafe=new n({explicit:[requireStr(),requireSeq(),requireMap()]}),failsafe}var _null,hasRequired_null;function require_null(){if(hasRequired_null)return _null;hasRequired_null=1;var n=requireType();function t(s){if(s===null)return!0;var a=s.length;return a===1&&s==="~"||a===4&&(s==="null"||s==="Null"||s==="NULL")}function e(){return null}function i(s){return s===null}return _null=new n("tag:yaml.org,2002:null",{kind:"scalar",resolve:t,construct:e,predicate:i,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),_null}var bool,hasRequiredBool;function requireBool(){if(hasRequiredBool)return bool;hasRequiredBool=1;var n=requireType();function t(s){if(s===null)return!1;var a=s.length;return a===4&&(s==="true"||s==="True"||s==="TRUE")||a===5&&(s==="false"||s==="False"||s==="FALSE")}function e(s){return s==="true"||s==="True"||s==="TRUE"}function i(s){return Object.prototype.toString.call(s)==="[object Boolean]"}return bool=new n("tag:yaml.org,2002:bool",{kind:"scalar",resolve:t,construct:e,predicate:i,represent:{lowercase:function(s){return s?"true":"false"},uppercase:function(s){return s?"TRUE":"FALSE"},camelcase:function(s){return s?"True":"False"}},defaultStyle:"lowercase"}),bool}var int,hasRequiredInt;function requireInt(){if(hasRequiredInt)return int;hasRequiredInt=1;var n=requireCommon(),t=requireType();function e(h){return 48<=h&&h<=57||65<=h&&h<=70||97<=h&&h<=102}function i(h){return 48<=h&&h<=55}function s(h){return 48<=h&&h<=57}function a(h){if(h===null)return!1;var d=h.length,f=0,g=!1,b;if(!d)return!1;if(b=h[f],(b==="-"||b==="+")&&(b=h[++f]),b==="0"){if(f+1===d)return!0;if(b=h[++f],b==="b"){for(f++;f<d;f++)if(b=h[f],b!=="_"){if(b!=="0"&&b!=="1")return!1;g=!0}return g&&b!=="_"}if(b==="x"){for(f++;f<d;f++)if(b=h[f],b!=="_"){if(!e(h.charCodeAt(f)))return!1;g=!0}return g&&b!=="_"}for(;f<d;f++)if(b=h[f],b!=="_"){if(!i(h.charCodeAt(f)))return!1;g=!0}return g&&b!=="_"}if(b==="_")return!1;for(;f<d;f++)if(b=h[f],b!=="_"){if(b===":")break;if(!s(h.charCodeAt(f)))return!1;g=!0}return!g||b==="_"?!1:b!==":"?!0:/^(:[0-5]?[0-9])+$/.test(h.slice(f))}function o(h){var d=h,f=1,g,b,x=[];return d.indexOf("_")!==-1&&(d=d.replace(/_/g,"")),g=d[0],(g==="-"||g==="+")&&(g==="-"&&(f=-1),d=d.slice(1),g=d[0]),d==="0"?0:g==="0"?d[1]==="b"?f*parseInt(d.slice(2),2):d[1]==="x"?f*parseInt(d,16):f*parseInt(d,8):d.indexOf(":")!==-1?(d.split(":").forEach(function(E){x.unshift(parseInt(E,10))}),d=0,b=1,x.forEach(function(E){d+=E*b,b*=60}),f*d):f*parseInt(d,10)}function u(h){return Object.prototype.toString.call(h)==="[object Number]"&&h%1===0&&!n.isNegativeZero(h)}return int=new t("tag:yaml.org,2002:int",{kind:"scalar",resolve:a,construct:o,predicate:u,represent:{binary:function(h){return h>=0?"0b"+h.toString(2):"-0b"+h.toString(2).slice(1)},octal:function(h){return h>=0?"0"+h.toString(8):"-0"+h.toString(8).slice(1)},decimal:function(h){return h.toString(10)},hexadecimal:function(h){return h>=0?"0x"+h.toString(16).toUpperCase():"-0x"+h.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),int}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1;var n=requireCommon(),t=requireType(),e=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function i(h){return!(h===null||!e.test(h)||h[h.length-1]==="_")}function s(h){var d,f,g,b;return d=h.replace(/_/g,"").toLowerCase(),f=d[0]==="-"?-1:1,b=[],"+-".indexOf(d[0])>=0&&(d=d.slice(1)),d===".inf"?f===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:d===".nan"?NaN:d.indexOf(":")>=0?(d.split(":").forEach(function(x){b.unshift(parseFloat(x,10))}),d=0,g=1,b.forEach(function(x){d+=x*g,g*=60}),f*d):f*parseFloat(d,10)}var a=/^[-+]?[0-9]+e/;function o(h,d){var f;if(isNaN(h))switch(d){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===h)switch(d){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===h)switch(d){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(n.isNegativeZero(h))return"-0.0";return f=h.toString(10),a.test(f)?f.replace("e",".e"):f}function u(h){return Object.prototype.toString.call(h)==="[object Number]"&&(h%1!==0||n.isNegativeZero(h))}return float=new t("tag:yaml.org,2002:float",{kind:"scalar",resolve:i,construct:s,predicate:u,represent:o,defaultStyle:"lowercase"}),float}var json,hasRequiredJson;function requireJson(){if(hasRequiredJson)return json;hasRequiredJson=1;var n=requireSchema();return json=new n({include:[requireFailsafe()],implicit:[require_null(),requireBool(),requireInt(),requireFloat()]}),json}var core,hasRequiredCore;function requireCore(){if(hasRequiredCore)return core;hasRequiredCore=1;var n=requireSchema();return core=new n({include:[requireJson()]}),core}var timestamp,hasRequiredTimestamp;function requireTimestamp(){if(hasRequiredTimestamp)return timestamp;hasRequiredTimestamp=1;var n=requireType(),t=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),e=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function i(o){return o===null?!1:t.exec(o)!==null||e.exec(o)!==null}function s(o){var u,h,d,f,g,b,x,E=0,S=null,R,w,L;if(u=t.exec(o),u===null&&(u=e.exec(o)),u===null)throw new Error("Date resolve error");if(h=+u[1],d=+u[2]-1,f=+u[3],!u[4])return new Date(Date.UTC(h,d,f));if(g=+u[4],b=+u[5],x=+u[6],u[7]){for(E=u[7].slice(0,3);E.length<3;)E+="0";E=+E}return u[9]&&(R=+u[10],w=+(u[11]||0),S=(R*60+w)*6e4,u[9]==="-"&&(S=-S)),L=new Date(Date.UTC(h,d,f,g,b,x,E)),S&&L.setTime(L.getTime()-S),L}function a(o){return o.toISOString()}return timestamp=new n("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:i,construct:s,instanceOf:Date,represent:a}),timestamp}var merge$1,hasRequiredMerge;function requireMerge(){if(hasRequiredMerge)return merge$1;hasRequiredMerge=1;var n=requireType();function t(e){return e==="<<"||e===null}return merge$1=new n("tag:yaml.org,2002:merge",{kind:"scalar",resolve:t}),merge$1}function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var binary,hasRequiredBinary;function requireBinary(){if(hasRequiredBinary)return binary;hasRequiredBinary=1;var n;try{var t=commonjsRequire;n=t("buffer").Buffer}catch{}var e=requireType(),i=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function s(h){if(h===null)return!1;var d,f,g=0,b=h.length,x=i;for(f=0;f<b;f++)if(d=x.indexOf(h.charAt(f)),!(d>64)){if(d<0)return!1;g+=6}return g%8===0}function a(h){var d,f,g=h.replace(/[\r\n=]/g,""),b=g.length,x=i,E=0,S=[];for(d=0;d<b;d++)d%4===0&&d&&(S.push(E>>16&255),S.push(E>>8&255),S.push(E&255)),E=E<<6|x.indexOf(g.charAt(d));return f=b%4*6,f===0?(S.push(E>>16&255),S.push(E>>8&255),S.push(E&255)):f===18?(S.push(E>>10&255),S.push(E>>2&255)):f===12&&S.push(E>>4&255),n?n.from?n.from(S):new n(S):S}function o(h){var d="",f=0,g,b,x=h.length,E=i;for(g=0;g<x;g++)g%3===0&&g&&(d+=E[f>>18&63],d+=E[f>>12&63],d+=E[f>>6&63],d+=E[f&63]),f=(f<<8)+h[g];return b=x%3,b===0?(d+=E[f>>18&63],d+=E[f>>12&63],d+=E[f>>6&63],d+=E[f&63]):b===2?(d+=E[f>>10&63],d+=E[f>>4&63],d+=E[f<<2&63],d+=E[64]):b===1&&(d+=E[f>>2&63],d+=E[f<<4&63],d+=E[64],d+=E[64]),d}function u(h){return n&&n.isBuffer(h)}return binary=new e("tag:yaml.org,2002:binary",{kind:"scalar",resolve:s,construct:a,predicate:u,represent:o}),binary}var omap,hasRequiredOmap;function requireOmap(){if(hasRequiredOmap)return omap;hasRequiredOmap=1;var n=requireType(),t=Object.prototype.hasOwnProperty,e=Object.prototype.toString;function i(a){if(a===null)return!0;var o=[],u,h,d,f,g,b=a;for(u=0,h=b.length;u<h;u+=1){if(d=b[u],g=!1,e.call(d)!=="[object Object]")return!1;for(f in d)if(t.call(d,f))if(!g)g=!0;else return!1;if(!g)return!1;if(o.indexOf(f)===-1)o.push(f);else return!1}return!0}function s(a){return a!==null?a:[]}return omap=new n("tag:yaml.org,2002:omap",{kind:"sequence",resolve:i,construct:s}),omap}var pairs,hasRequiredPairs;function requirePairs(){if(hasRequiredPairs)return pairs;hasRequiredPairs=1;var n=requireType(),t=Object.prototype.toString;function e(s){if(s===null)return!0;var a,o,u,h,d,f=s;for(d=new Array(f.length),a=0,o=f.length;a<o;a+=1){if(u=f[a],t.call(u)!=="[object Object]"||(h=Object.keys(u),h.length!==1))return!1;d[a]=[h[0],u[h[0]]]}return!0}function i(s){if(s===null)return[];var a,o,u,h,d,f=s;for(d=new Array(f.length),a=0,o=f.length;a<o;a+=1)u=f[a],h=Object.keys(u),d[a]=[h[0],u[h[0]]];return d}return pairs=new n("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:e,construct:i}),pairs}var set,hasRequiredSet;function requireSet(){if(hasRequiredSet)return set;hasRequiredSet=1;var n=requireType(),t=Object.prototype.hasOwnProperty;function e(s){if(s===null)return!0;var a,o=s;for(a in o)if(t.call(o,a)&&o[a]!==null)return!1;return!0}function i(s){return s!==null?s:{}}return set=new n("tag:yaml.org,2002:set",{kind:"mapping",resolve:e,construct:i}),set}var default_safe,hasRequiredDefault_safe;function requireDefault_safe(){if(hasRequiredDefault_safe)return default_safe;hasRequiredDefault_safe=1;var n=requireSchema();return default_safe=new n({include:[requireCore()],implicit:[requireTimestamp(),requireMerge()],explicit:[requireBinary(),requireOmap(),requirePairs(),requireSet()]}),default_safe}var _undefined,hasRequired_undefined;function require_undefined(){if(hasRequired_undefined)return _undefined;hasRequired_undefined=1;var n=requireType();function t(){return!0}function e(){}function i(){return""}function s(a){return typeof a>"u"}return _undefined=new n("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:t,construct:e,predicate:s,represent:i}),_undefined}var regexp,hasRequiredRegexp;function requireRegexp(){if(hasRequiredRegexp)return regexp;hasRequiredRegexp=1;var n=requireType();function t(a){if(a===null||a.length===0)return!1;var o=a,u=/\/([gim]*)$/.exec(a),h="";return!(o[0]==="/"&&(u&&(h=u[1]),h.length>3||o[o.length-h.length-1]!=="/"))}function e(a){var o=a,u=/\/([gim]*)$/.exec(a),h="";return o[0]==="/"&&(u&&(h=u[1]),o=o.slice(1,o.length-h.length-1)),new RegExp(o,h)}function i(a){var o="/"+a.source+"/";return a.global&&(o+="g"),a.multiline&&(o+="m"),a.ignoreCase&&(o+="i"),o}function s(a){return Object.prototype.toString.call(a)==="[object RegExp]"}return regexp=new n("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:t,construct:e,predicate:s,represent:i}),regexp}var _function,hasRequired_function;function require_function(){if(hasRequired_function)return _function;hasRequired_function=1;var n;try{var t=commonjsRequire;n=t("esprima")}catch{typeof window<"u"&&(n=window.esprima)}var e=requireType();function i(u){if(u===null)return!1;try{var h="("+u+")",d=n.parse(h,{range:!0});return!(d.type!=="Program"||d.body.length!==1||d.body[0].type!=="ExpressionStatement"||d.body[0].expression.type!=="ArrowFunctionExpression"&&d.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function s(u){var h="("+u+")",d=n.parse(h,{range:!0}),f=[],g;if(d.type!=="Program"||d.body.length!==1||d.body[0].type!=="ExpressionStatement"||d.body[0].expression.type!=="ArrowFunctionExpression"&&d.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return d.body[0].expression.params.forEach(function(b){f.push(b.name)}),g=d.body[0].expression.body.range,d.body[0].expression.body.type==="BlockStatement"?new Function(f,h.slice(g[0]+1,g[1]-1)):new Function(f,"return "+h.slice(g[0],g[1]))}function a(u){return u.toString()}function o(u){return Object.prototype.toString.call(u)==="[object Function]"}return _function=new e("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:i,construct:s,predicate:o,represent:a}),_function}var default_full,hasRequiredDefault_full;function requireDefault_full(){if(hasRequiredDefault_full)return default_full;hasRequiredDefault_full=1;var n=requireSchema();return default_full=n.DEFAULT=new n({include:[requireDefault_safe()],explicit:[require_undefined(),requireRegexp(),require_function()]}),default_full}var hasRequiredLoader;function requireLoader(){if(hasRequiredLoader)return loader;hasRequiredLoader=1;var n=requireCommon(),t=requireException(),e=requireMark(),i=requireDefault_safe(),s=requireDefault_full(),a=Object.prototype.hasOwnProperty,o=1,u=2,h=3,d=4,f=1,g=2,b=3,x=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,E=/[\x85\u2028\u2029]/,S=/[,\[\]\{\}]/,R=/^(?:!|!!|![a-z\-]+!)$/i,w=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function L(_){return Object.prototype.toString.call(_)}function P(_){return _===10||_===13}function V(_){return _===9||_===32}function B(_){return _===9||_===32||_===10||_===13}function F(_){return _===44||_===91||_===93||_===123||_===125}function H(_){var Y;return 48<=_&&_<=57?_-48:(Y=_|32,97<=Y&&Y<=102?Y-97+10:-1)}function K(_){return _===120?2:_===117?4:_===85?8:0}function J(_){return 48<=_&&_<=57?_-48:-1}function G(_){return _===48?"\0":_===97?"\x07":_===98?"\b":_===116||_===9?"	":_===110?`
`:_===118?"\v":_===102?"\f":_===114?"\r":_===101?"\x1B":_===32?" ":_===34?'"':_===47?"/":_===92?"\\":_===78?"":_===95?"":_===76?"\u2028":_===80?"\u2029":""}function et(_){return _<=65535?String.fromCharCode(_):String.fromCharCode((_-65536>>10)+55296,(_-65536&1023)+56320)}function ut(_,Y,M){Y==="__proto__"?Object.defineProperty(_,Y,{configurable:!0,enumerable:!0,writable:!0,value:M}):_[Y]=M}for(var Et=new Array(256),ot=new Array(256),dt=0;dt<256;dt++)Et[dt]=G(dt)?1:0,ot[dt]=G(dt);function Q(_,Y){this.input=_,this.filename=Y.filename||null,this.schema=Y.schema||s,this.onWarning=Y.onWarning||null,this.legacy=Y.legacy||!1,this.json=Y.json||!1,this.listener=Y.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=_.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function Z(_,Y){return new t(Y,new e(_.filename,_.input,_.position,_.line,_.position-_.lineStart))}function it(_,Y){throw Z(_,Y)}function Ct(_,Y){_.onWarning&&_.onWarning.call(null,Z(_,Y))}var I={YAML:function(Y,M,T){var C,k,j;Y.version!==null&&it(Y,"duplication of %YAML directive"),T.length!==1&&it(Y,"YAML directive accepts exactly one argument"),C=/^([0-9]+)\.([0-9]+)$/.exec(T[0]),C===null&&it(Y,"ill-formed argument of the YAML directive"),k=parseInt(C[1],10),j=parseInt(C[2],10),k!==1&&it(Y,"unacceptable YAML version of the document"),Y.version=T[0],Y.checkLineBreaks=j<2,j!==1&&j!==2&&Ct(Y,"unsupported YAML version of the document")},TAG:function(Y,M,T){var C,k;T.length!==2&&it(Y,"TAG directive accepts exactly two arguments"),C=T[0],k=T[1],R.test(C)||it(Y,"ill-formed tag handle (first argument) of the TAG directive"),a.call(Y.tagMap,C)&&it(Y,'there is a previously declared suffix for "'+C+'" tag handle'),w.test(k)||it(Y,"ill-formed tag prefix (second argument) of the TAG directive"),Y.tagMap[C]=k}};function at(_,Y,M,T){var C,k,j,q;if(Y<M){if(q=_.input.slice(Y,M),T)for(C=0,k=q.length;C<k;C+=1)j=q.charCodeAt(C),j===9||32<=j&&j<=1114111||it(_,"expected valid JSON character");else x.test(q)&&it(_,"the stream contains non-printable characters");_.result+=q}}function pt(_,Y,M,T){var C,k,j,q;for(n.isObject(M)||it(_,"cannot merge mappings; the provided source object is unacceptable"),C=Object.keys(M),j=0,q=C.length;j<q;j+=1)k=C[j],a.call(Y,k)||(ut(Y,k,M[k]),T[k]=!0)}function z(_,Y,M,T,C,k,j,q){var X,ct;if(Array.isArray(C))for(C=Array.prototype.slice.call(C),X=0,ct=C.length;X<ct;X+=1)Array.isArray(C[X])&&it(_,"nested arrays are not supported inside keys"),typeof C=="object"&&L(C[X])==="[object Object]"&&(C[X]="[object Object]");if(typeof C=="object"&&L(C)==="[object Object]"&&(C="[object Object]"),C=String(C),Y===null&&(Y={}),T==="tag:yaml.org,2002:merge")if(Array.isArray(k))for(X=0,ct=k.length;X<ct;X+=1)pt(_,Y,k[X],M);else pt(_,Y,k,M);else!_.json&&!a.call(M,C)&&a.call(Y,C)&&(_.line=j||_.line,_.position=q||_.position,it(_,"duplicated mapping key")),ut(Y,C,k),delete M[C];return Y}function St(_){var Y;Y=_.input.charCodeAt(_.position),Y===10?_.position++:Y===13?(_.position++,_.input.charCodeAt(_.position)===10&&_.position++):it(_,"a line break is expected"),_.line+=1,_.lineStart=_.position}function Tt(_,Y,M){for(var T=0,C=_.input.charCodeAt(_.position);C!==0;){for(;V(C);)C=_.input.charCodeAt(++_.position);if(Y&&C===35)do C=_.input.charCodeAt(++_.position);while(C!==10&&C!==13&&C!==0);if(P(C))for(St(_),C=_.input.charCodeAt(_.position),T++,_.lineIndent=0;C===32;)_.lineIndent++,C=_.input.charCodeAt(++_.position);else break}return M!==-1&&T!==0&&_.lineIndent<M&&Ct(_,"deficient indentation"),T}function wt(_){var Y=_.position,M;return M=_.input.charCodeAt(Y),!!((M===45||M===46)&&M===_.input.charCodeAt(Y+1)&&M===_.input.charCodeAt(Y+2)&&(Y+=3,M=_.input.charCodeAt(Y),M===0||B(M)))}function Lt(_,Y){Y===1?_.result+=" ":Y>1&&(_.result+=n.repeat(`
`,Y-1))}function Ot(_,Y,M){var T,C,k,j,q,X,ct,mt,lt=_.kind,vt=_.result,gt;if(gt=_.input.charCodeAt(_.position),B(gt)||F(gt)||gt===35||gt===38||gt===42||gt===33||gt===124||gt===62||gt===39||gt===34||gt===37||gt===64||gt===96||(gt===63||gt===45)&&(C=_.input.charCodeAt(_.position+1),B(C)||M&&F(C)))return!1;for(_.kind="scalar",_.result="",k=j=_.position,q=!1;gt!==0;){if(gt===58){if(C=_.input.charCodeAt(_.position+1),B(C)||M&&F(C))break}else if(gt===35){if(T=_.input.charCodeAt(_.position-1),B(T))break}else{if(_.position===_.lineStart&&wt(_)||M&&F(gt))break;if(P(gt))if(X=_.line,ct=_.lineStart,mt=_.lineIndent,Tt(_,!1,-1),_.lineIndent>=Y){q=!0,gt=_.input.charCodeAt(_.position);continue}else{_.position=j,_.line=X,_.lineStart=ct,_.lineIndent=mt;break}}q&&(at(_,k,j,!1),Lt(_,_.line-X),k=j=_.position,q=!1),V(gt)||(j=_.position+1),gt=_.input.charCodeAt(++_.position)}return at(_,k,j,!1),_.result?!0:(_.kind=lt,_.result=vt,!1)}function Xt(_,Y){var M,T,C;if(M=_.input.charCodeAt(_.position),M!==39)return!1;for(_.kind="scalar",_.result="",_.position++,T=C=_.position;(M=_.input.charCodeAt(_.position))!==0;)if(M===39)if(at(_,T,_.position,!0),M=_.input.charCodeAt(++_.position),M===39)T=_.position,_.position++,C=_.position;else return!0;else P(M)?(at(_,T,C,!0),Lt(_,Tt(_,!1,Y)),T=C=_.position):_.position===_.lineStart&&wt(_)?it(_,"unexpected end of the document within a single quoted scalar"):(_.position++,C=_.position);it(_,"unexpected end of the stream within a single quoted scalar")}function jt(_,Y){var M,T,C,k,j,q;if(q=_.input.charCodeAt(_.position),q!==34)return!1;for(_.kind="scalar",_.result="",_.position++,M=T=_.position;(q=_.input.charCodeAt(_.position))!==0;){if(q===34)return at(_,M,_.position,!0),_.position++,!0;if(q===92){if(at(_,M,_.position,!0),q=_.input.charCodeAt(++_.position),P(q))Tt(_,!1,Y);else if(q<256&&Et[q])_.result+=ot[q],_.position++;else if((j=K(q))>0){for(C=j,k=0;C>0;C--)q=_.input.charCodeAt(++_.position),(j=H(q))>=0?k=(k<<4)+j:it(_,"expected hexadecimal character");_.result+=et(k),_.position++}else it(_,"unknown escape sequence");M=T=_.position}else P(q)?(at(_,M,T,!0),Lt(_,Tt(_,!1,Y)),M=T=_.position):_.position===_.lineStart&&wt(_)?it(_,"unexpected end of the document within a double quoted scalar"):(_.position++,T=_.position)}it(_,"unexpected end of the stream within a double quoted scalar")}function ue(_,Y){var M=!0,T,C=_.tag,k,j=_.anchor,q,X,ct,mt,lt,vt={},gt,$t,te,Ut;if(Ut=_.input.charCodeAt(_.position),Ut===91)X=93,lt=!1,k=[];else if(Ut===123)X=125,lt=!0,k={};else return!1;for(_.anchor!==null&&(_.anchorMap[_.anchor]=k),Ut=_.input.charCodeAt(++_.position);Ut!==0;){if(Tt(_,!0,Y),Ut=_.input.charCodeAt(_.position),Ut===X)return _.position++,_.tag=C,_.anchor=j,_.kind=lt?"mapping":"sequence",_.result=k,!0;M||it(_,"missed comma between flow collection entries"),$t=gt=te=null,ct=mt=!1,Ut===63&&(q=_.input.charCodeAt(_.position+1),B(q)&&(ct=mt=!0,_.position++,Tt(_,!0,Y))),T=_.line,Ye(_,Y,o,!1,!0),$t=_.tag,gt=_.result,Tt(_,!0,Y),Ut=_.input.charCodeAt(_.position),(mt||_.line===T)&&Ut===58&&(ct=!0,Ut=_.input.charCodeAt(++_.position),Tt(_,!0,Y),Ye(_,Y,o,!1,!0),te=_.result),lt?z(_,k,vt,$t,gt,te):ct?k.push(z(_,null,vt,$t,gt,te)):k.push(gt),Tt(_,!0,Y),Ut=_.input.charCodeAt(_.position),Ut===44?(M=!0,Ut=_.input.charCodeAt(++_.position)):M=!1}it(_,"unexpected end of the stream within a flow collection")}function Me(_,Y){var M,T,C=f,k=!1,j=!1,q=Y,X=0,ct=!1,mt,lt;if(lt=_.input.charCodeAt(_.position),lt===124)T=!1;else if(lt===62)T=!0;else return!1;for(_.kind="scalar",_.result="";lt!==0;)if(lt=_.input.charCodeAt(++_.position),lt===43||lt===45)f===C?C=lt===43?b:g:it(_,"repeat of a chomping mode identifier");else if((mt=J(lt))>=0)mt===0?it(_,"bad explicit indentation width of a block scalar; it cannot be less than one"):j?it(_,"repeat of an indentation width identifier"):(q=Y+mt-1,j=!0);else break;if(V(lt)){do lt=_.input.charCodeAt(++_.position);while(V(lt));if(lt===35)do lt=_.input.charCodeAt(++_.position);while(!P(lt)&&lt!==0)}for(;lt!==0;){for(St(_),_.lineIndent=0,lt=_.input.charCodeAt(_.position);(!j||_.lineIndent<q)&&lt===32;)_.lineIndent++,lt=_.input.charCodeAt(++_.position);if(!j&&_.lineIndent>q&&(q=_.lineIndent),P(lt)){X++;continue}if(_.lineIndent<q){C===b?_.result+=n.repeat(`
`,k?1+X:X):C===f&&k&&(_.result+=`
`);break}for(T?V(lt)?(ct=!0,_.result+=n.repeat(`
`,k?1+X:X)):ct?(ct=!1,_.result+=n.repeat(`
`,X+1)):X===0?k&&(_.result+=" "):_.result+=n.repeat(`
`,X):_.result+=n.repeat(`
`,k?1+X:X),k=!0,j=!0,X=0,M=_.position;!P(lt)&&lt!==0;)lt=_.input.charCodeAt(++_.position);at(_,M,_.position,!1)}return!0}function Ft(_,Y){var M,T=_.tag,C=_.anchor,k=[],j,q=!1,X;for(_.anchor!==null&&(_.anchorMap[_.anchor]=k),X=_.input.charCodeAt(_.position);X!==0&&!(X!==45||(j=_.input.charCodeAt(_.position+1),!B(j)));){if(q=!0,_.position++,Tt(_,!0,-1)&&_.lineIndent<=Y){k.push(null),X=_.input.charCodeAt(_.position);continue}if(M=_.line,Ye(_,Y,h,!1,!0),k.push(_.result),Tt(_,!0,-1),X=_.input.charCodeAt(_.position),(_.line===M||_.lineIndent>Y)&&X!==0)it(_,"bad indentation of a sequence entry");else if(_.lineIndent<Y)break}return q?(_.tag=T,_.anchor=C,_.kind="sequence",_.result=k,!0):!1}function Yt(_,Y,M){var T,C,k,j,q=_.tag,X=_.anchor,ct={},mt={},lt=null,vt=null,gt=null,$t=!1,te=!1,Ut;for(_.anchor!==null&&(_.anchorMap[_.anchor]=ct),Ut=_.input.charCodeAt(_.position);Ut!==0;){if(T=_.input.charCodeAt(_.position+1),k=_.line,j=_.position,(Ut===63||Ut===58)&&B(T))Ut===63?($t&&(z(_,ct,mt,lt,vt,null),lt=vt=gt=null),te=!0,$t=!0,C=!0):$t?($t=!1,C=!0):it(_,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),_.position+=1,Ut=T;else if(Ye(_,M,u,!1,!0))if(_.line===k){for(Ut=_.input.charCodeAt(_.position);V(Ut);)Ut=_.input.charCodeAt(++_.position);if(Ut===58)Ut=_.input.charCodeAt(++_.position),B(Ut)||it(_,"a whitespace character is expected after the key-value separator within a block mapping"),$t&&(z(_,ct,mt,lt,vt,null),lt=vt=gt=null),te=!0,$t=!1,C=!1,lt=_.tag,vt=_.result;else if(te)it(_,"can not read an implicit mapping pair; a colon is missed");else return _.tag=q,_.anchor=X,!0}else if(te)it(_,"can not read a block mapping entry; a multiline key may not be an implicit key");else return _.tag=q,_.anchor=X,!0;else break;if((_.line===k||_.lineIndent>Y)&&(Ye(_,Y,d,!0,C)&&($t?vt=_.result:gt=_.result),$t||(z(_,ct,mt,lt,vt,gt,k,j),lt=vt=gt=null),Tt(_,!0,-1),Ut=_.input.charCodeAt(_.position)),_.lineIndent>Y&&Ut!==0)it(_,"bad indentation of a mapping entry");else if(_.lineIndent<Y)break}return $t&&z(_,ct,mt,lt,vt,null),te&&(_.tag=q,_.anchor=X,_.kind="mapping",_.result=ct),te}function ae(_){var Y,M=!1,T=!1,C,k,j;if(j=_.input.charCodeAt(_.position),j!==33)return!1;if(_.tag!==null&&it(_,"duplication of a tag property"),j=_.input.charCodeAt(++_.position),j===60?(M=!0,j=_.input.charCodeAt(++_.position)):j===33?(T=!0,C="!!",j=_.input.charCodeAt(++_.position)):C="!",Y=_.position,M){do j=_.input.charCodeAt(++_.position);while(j!==0&&j!==62);_.position<_.length?(k=_.input.slice(Y,_.position),j=_.input.charCodeAt(++_.position)):it(_,"unexpected end of the stream within a verbatim tag")}else{for(;j!==0&&!B(j);)j===33&&(T?it(_,"tag suffix cannot contain exclamation marks"):(C=_.input.slice(Y-1,_.position+1),R.test(C)||it(_,"named tag handle cannot contain such characters"),T=!0,Y=_.position+1)),j=_.input.charCodeAt(++_.position);k=_.input.slice(Y,_.position),S.test(k)&&it(_,"tag suffix cannot contain flow indicator characters")}return k&&!w.test(k)&&it(_,"tag name cannot contain such characters: "+k),M?_.tag=k:a.call(_.tagMap,C)?_.tag=_.tagMap[C]+k:C==="!"?_.tag="!"+k:C==="!!"?_.tag="tag:yaml.org,2002:"+k:it(_,'undeclared tag handle "'+C+'"'),!0}function ce(_){var Y,M;if(M=_.input.charCodeAt(_.position),M!==38)return!1;for(_.anchor!==null&&it(_,"duplication of an anchor property"),M=_.input.charCodeAt(++_.position),Y=_.position;M!==0&&!B(M)&&!F(M);)M=_.input.charCodeAt(++_.position);return _.position===Y&&it(_,"name of an anchor node must contain at least one character"),_.anchor=_.input.slice(Y,_.position),!0}function ge(_){var Y,M,T;if(T=_.input.charCodeAt(_.position),T!==42)return!1;for(T=_.input.charCodeAt(++_.position),Y=_.position;T!==0&&!B(T)&&!F(T);)T=_.input.charCodeAt(++_.position);return _.position===Y&&it(_,"name of an alias node must contain at least one character"),M=_.input.slice(Y,_.position),a.call(_.anchorMap,M)||it(_,'unidentified alias "'+M+'"'),_.result=_.anchorMap[M],Tt(_,!0,-1),!0}function Ye(_,Y,M,T,C){var k,j,q,X=1,ct=!1,mt=!1,lt,vt,gt,$t,te;if(_.listener!==null&&_.listener("open",_),_.tag=null,_.anchor=null,_.kind=null,_.result=null,k=j=q=d===M||h===M,T&&Tt(_,!0,-1)&&(ct=!0,_.lineIndent>Y?X=1:_.lineIndent===Y?X=0:_.lineIndent<Y&&(X=-1)),X===1)for(;ae(_)||ce(_);)Tt(_,!0,-1)?(ct=!0,q=k,_.lineIndent>Y?X=1:_.lineIndent===Y?X=0:_.lineIndent<Y&&(X=-1)):q=!1;if(q&&(q=ct||C),(X===1||d===M)&&(o===M||u===M?$t=Y:$t=Y+1,te=_.position-_.lineStart,X===1?q&&(Ft(_,te)||Yt(_,te,$t))||ue(_,$t)?mt=!0:(j&&Me(_,$t)||Xt(_,$t)||jt(_,$t)?mt=!0:ge(_)?(mt=!0,(_.tag!==null||_.anchor!==null)&&it(_,"alias node should not have any properties")):Ot(_,$t,o===M)&&(mt=!0,_.tag===null&&(_.tag="?")),_.anchor!==null&&(_.anchorMap[_.anchor]=_.result)):X===0&&(mt=q&&Ft(_,te))),_.tag!==null&&_.tag!=="!")if(_.tag==="?"){for(_.result!==null&&_.kind!=="scalar"&&it(_,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+_.kind+'"'),lt=0,vt=_.implicitTypes.length;lt<vt;lt+=1)if(gt=_.implicitTypes[lt],gt.resolve(_.result)){_.result=gt.construct(_.result),_.tag=gt.tag,_.anchor!==null&&(_.anchorMap[_.anchor]=_.result);break}}else a.call(_.typeMap[_.kind||"fallback"],_.tag)?(gt=_.typeMap[_.kind||"fallback"][_.tag],_.result!==null&&gt.kind!==_.kind&&it(_,"unacceptable node kind for !<"+_.tag+'> tag; it should be "'+gt.kind+'", not "'+_.kind+'"'),gt.resolve(_.result)?(_.result=gt.construct(_.result),_.anchor!==null&&(_.anchorMap[_.anchor]=_.result)):it(_,"cannot resolve a node with !<"+_.tag+"> explicit tag")):it(_,"unknown tag !<"+_.tag+">");return _.listener!==null&&_.listener("close",_),_.tag!==null||_.anchor!==null||mt}function Un(_){var Y=_.position,M,T,C,k=!1,j;for(_.version=null,_.checkLineBreaks=_.legacy,_.tagMap={},_.anchorMap={};(j=_.input.charCodeAt(_.position))!==0&&(Tt(_,!0,-1),j=_.input.charCodeAt(_.position),!(_.lineIndent>0||j!==37));){for(k=!0,j=_.input.charCodeAt(++_.position),M=_.position;j!==0&&!B(j);)j=_.input.charCodeAt(++_.position);for(T=_.input.slice(M,_.position),C=[],T.length<1&&it(_,"directive name must not be less than one character in length");j!==0;){for(;V(j);)j=_.input.charCodeAt(++_.position);if(j===35){do j=_.input.charCodeAt(++_.position);while(j!==0&&!P(j));break}if(P(j))break;for(M=_.position;j!==0&&!B(j);)j=_.input.charCodeAt(++_.position);C.push(_.input.slice(M,_.position))}j!==0&&St(_),a.call(I,T)?I[T](_,T,C):Ct(_,'unknown document directive "'+T+'"')}if(Tt(_,!0,-1),_.lineIndent===0&&_.input.charCodeAt(_.position)===45&&_.input.charCodeAt(_.position+1)===45&&_.input.charCodeAt(_.position+2)===45?(_.position+=3,Tt(_,!0,-1)):k&&it(_,"directives end mark is expected"),Ye(_,_.lineIndent-1,d,!1,!0),Tt(_,!0,-1),_.checkLineBreaks&&E.test(_.input.slice(Y,_.position))&&Ct(_,"non-ASCII line breaks are interpreted as content"),_.documents.push(_.result),_.position===_.lineStart&&wt(_)){_.input.charCodeAt(_.position)===46&&(_.position+=3,Tt(_,!0,-1));return}if(_.position<_.length-1)it(_,"end of the stream or a document separator is expected");else return}function zn(_,Y){_=String(_),Y=Y||{},_.length!==0&&(_.charCodeAt(_.length-1)!==10&&_.charCodeAt(_.length-1)!==13&&(_+=`
`),_.charCodeAt(0)===65279&&(_=_.slice(1)));var M=new Q(_,Y),T=_.indexOf("\0");for(T!==-1&&(M.position=T,it(M,"null byte is not allowed in input")),M.input+="\0";M.input.charCodeAt(M.position)===32;)M.lineIndent+=1,M.position+=1;for(;M.position<M.length-1;)Un(M);return M.documents}function Ke(_,Y,M){Y!==null&&typeof Y=="object"&&typeof M>"u"&&(M=Y,Y=null);var T=zn(_,M);if(typeof Y!="function")return T;for(var C=0,k=T.length;C<k;C+=1)Y(T[C])}function Xe(_,Y){var M=zn(_,Y);if(M.length!==0){if(M.length===1)return M[0];throw new t("expected a single document in the stream, but found more")}}function Zn(_,Y,M){return typeof Y=="object"&&Y!==null&&typeof M>"u"&&(M=Y,Y=null),Ke(_,Y,n.extend({schema:i},M))}function Fi(_,Y){return Xe(_,n.extend({schema:i},Y))}return loader.loadAll=Ke,loader.load=Xe,loader.safeLoadAll=Zn,loader.safeLoad=Fi,loader}var dumper={},hasRequiredDumper;function requireDumper(){if(hasRequiredDumper)return dumper;hasRequiredDumper=1;var n=requireCommon(),t=requireException(),e=requireDefault_full(),i=requireDefault_safe(),s=Object.prototype.toString,a=Object.prototype.hasOwnProperty,o=9,u=10,h=13,d=32,f=33,g=34,b=35,x=37,E=38,S=39,R=42,w=44,L=45,P=58,V=61,B=62,F=63,H=64,K=91,J=93,G=96,et=123,ut=124,Et=125,ot={};ot[0]="\\0",ot[7]="\\a",ot[8]="\\b",ot[9]="\\t",ot[10]="\\n",ot[11]="\\v",ot[12]="\\f",ot[13]="\\r",ot[27]="\\e",ot[34]='\\"',ot[92]="\\\\",ot[133]="\\N",ot[160]="\\_",ot[8232]="\\L",ot[8233]="\\P";var dt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function Q(k,j){var q,X,ct,mt,lt,vt,gt;if(j===null)return{};for(q={},X=Object.keys(j),ct=0,mt=X.length;ct<mt;ct+=1)lt=X[ct],vt=String(j[lt]),lt.slice(0,2)==="!!"&&(lt="tag:yaml.org,2002:"+lt.slice(2)),gt=k.compiledTypeMap.fallback[lt],gt&&a.call(gt.styleAliases,vt)&&(vt=gt.styleAliases[vt]),q[lt]=vt;return q}function Z(k){var j,q,X;if(j=k.toString(16).toUpperCase(),k<=255)q="x",X=2;else if(k<=65535)q="u",X=4;else if(k<=4294967295)q="U",X=8;else throw new t("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+q+n.repeat("0",X-j.length)+j}function it(k){this.schema=k.schema||e,this.indent=Math.max(1,k.indent||2),this.noArrayIndent=k.noArrayIndent||!1,this.skipInvalid=k.skipInvalid||!1,this.flowLevel=n.isNothing(k.flowLevel)?-1:k.flowLevel,this.styleMap=Q(this.schema,k.styles||null),this.sortKeys=k.sortKeys||!1,this.lineWidth=k.lineWidth||80,this.noRefs=k.noRefs||!1,this.noCompatMode=k.noCompatMode||!1,this.condenseFlow=k.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ct(k,j){for(var q=n.repeat(" ",j),X=0,ct=-1,mt="",lt,vt=k.length;X<vt;)ct=k.indexOf(`
`,X),ct===-1?(lt=k.slice(X),X=vt):(lt=k.slice(X,ct+1),X=ct+1),lt.length&&lt!==`
`&&(mt+=q),mt+=lt;return mt}function I(k,j){return`
`+n.repeat(" ",k.indent*j)}function at(k,j){var q,X,ct;for(q=0,X=k.implicitTypes.length;q<X;q+=1)if(ct=k.implicitTypes[q],ct.resolve(j))return!0;return!1}function pt(k){return k===d||k===o}function z(k){return 32<=k&&k<=126||161<=k&&k<=55295&&k!==8232&&k!==8233||57344<=k&&k<=65533&&k!==65279||65536<=k&&k<=1114111}function St(k){return z(k)&&!pt(k)&&k!==65279&&k!==h&&k!==u}function Tt(k,j){return z(k)&&k!==65279&&k!==w&&k!==K&&k!==J&&k!==et&&k!==Et&&k!==P&&(k!==b||j&&St(j))}function wt(k){return z(k)&&k!==65279&&!pt(k)&&k!==L&&k!==F&&k!==P&&k!==w&&k!==K&&k!==J&&k!==et&&k!==Et&&k!==b&&k!==E&&k!==R&&k!==f&&k!==ut&&k!==V&&k!==B&&k!==S&&k!==g&&k!==x&&k!==H&&k!==G}function Lt(k){var j=/^\n* /;return j.test(k)}var Ot=1,Xt=2,jt=3,ue=4,Me=5;function Ft(k,j,q,X,ct){var mt,lt,vt,gt=!1,$t=!1,te=X!==-1,Ut=-1,Fe=wt(k.charCodeAt(0))&&!pt(k.charCodeAt(k.length-1));if(j)for(mt=0;mt<k.length;mt++){if(lt=k.charCodeAt(mt),!z(lt))return Me;vt=mt>0?k.charCodeAt(mt-1):null,Fe=Fe&&Tt(lt,vt)}else{for(mt=0;mt<k.length;mt++){if(lt=k.charCodeAt(mt),lt===u)gt=!0,te&&($t=$t||mt-Ut-1>X&&k[Ut+1]!==" ",Ut=mt);else if(!z(lt))return Me;vt=mt>0?k.charCodeAt(mt-1):null,Fe=Fe&&Tt(lt,vt)}$t=$t||te&&mt-Ut-1>X&&k[Ut+1]!==" "}return!gt&&!$t?Fe&&!ct(k)?Ot:Xt:q>9&&Lt(k)?Me:$t?ue:jt}function Yt(k,j,q,X){k.dump=function(){if(j.length===0)return"''";if(!k.noCompatMode&&dt.indexOf(j)!==-1)return"'"+j+"'";var ct=k.indent*Math.max(1,q),mt=k.lineWidth===-1?-1:Math.max(Math.min(k.lineWidth,40),k.lineWidth-ct),lt=X||k.flowLevel>-1&&q>=k.flowLevel;function vt(gt){return at(k,gt)}switch(Ft(j,lt,k.indent,mt,vt)){case Ot:return j;case Xt:return"'"+j.replace(/'/g,"''")+"'";case jt:return"|"+ae(j,k.indent)+ce(Ct(j,ct));case ue:return">"+ae(j,k.indent)+ce(Ct(ge(j,mt),ct));case Me:return'"'+Un(j)+'"';default:throw new t("impossible error: invalid scalar style")}}()}function ae(k,j){var q=Lt(k)?String(j):"",X=k[k.length-1]===`
`,ct=X&&(k[k.length-2]===`
`||k===`
`),mt=ct?"+":X?"":"-";return q+mt+`
`}function ce(k){return k[k.length-1]===`
`?k.slice(0,-1):k}function ge(k,j){for(var q=/(\n+)([^\n]*)/g,X=function(){var $t=k.indexOf(`
`);return $t=$t!==-1?$t:k.length,q.lastIndex=$t,Ye(k.slice(0,$t),j)}(),ct=k[0]===`
`||k[0]===" ",mt,lt;lt=q.exec(k);){var vt=lt[1],gt=lt[2];mt=gt[0]===" ",X+=vt+(!ct&&!mt&&gt!==""?`
`:"")+Ye(gt,j),ct=mt}return X}function Ye(k,j){if(k===""||k[0]===" ")return k;for(var q=/ [^ ]/g,X,ct=0,mt,lt=0,vt=0,gt="";X=q.exec(k);)vt=X.index,vt-ct>j&&(mt=lt>ct?lt:vt,gt+=`
`+k.slice(ct,mt),ct=mt+1),lt=vt;return gt+=`
`,k.length-ct>j&&lt>ct?gt+=k.slice(ct,lt)+`
`+k.slice(lt+1):gt+=k.slice(ct),gt.slice(1)}function Un(k){for(var j="",q,X,ct,mt=0;mt<k.length;mt++){if(q=k.charCodeAt(mt),q>=55296&&q<=56319&&(X=k.charCodeAt(mt+1),X>=56320&&X<=57343)){j+=Z((q-55296)*1024+X-56320+65536),mt++;continue}ct=ot[q],j+=!ct&&z(q)?k[mt]:ct||Z(q)}return j}function zn(k,j,q){var X="",ct=k.tag,mt,lt;for(mt=0,lt=q.length;mt<lt;mt+=1)_(k,j,q[mt],!1,!1)&&(mt!==0&&(X+=","+(k.condenseFlow?"":" ")),X+=k.dump);k.tag=ct,k.dump="["+X+"]"}function Ke(k,j,q,X){var ct="",mt=k.tag,lt,vt;for(lt=0,vt=q.length;lt<vt;lt+=1)_(k,j+1,q[lt],!0,!0)&&((!X||lt!==0)&&(ct+=I(k,j)),k.dump&&u===k.dump.charCodeAt(0)?ct+="-":ct+="- ",ct+=k.dump);k.tag=mt,k.dump=ct||"[]"}function Xe(k,j,q){var X="",ct=k.tag,mt=Object.keys(q),lt,vt,gt,$t,te;for(lt=0,vt=mt.length;lt<vt;lt+=1)te="",lt!==0&&(te+=", "),k.condenseFlow&&(te+='"'),gt=mt[lt],$t=q[gt],_(k,j,gt,!1,!1)&&(k.dump.length>1024&&(te+="? "),te+=k.dump+(k.condenseFlow?'"':"")+":"+(k.condenseFlow?"":" "),_(k,j,$t,!1,!1)&&(te+=k.dump,X+=te));k.tag=ct,k.dump="{"+X+"}"}function Zn(k,j,q,X){var ct="",mt=k.tag,lt=Object.keys(q),vt,gt,$t,te,Ut,Fe;if(k.sortKeys===!0)lt.sort();else if(typeof k.sortKeys=="function")lt.sort(k.sortKeys);else if(k.sortKeys)throw new t("sortKeys must be a boolean or a function");for(vt=0,gt=lt.length;vt<gt;vt+=1)Fe="",(!X||vt!==0)&&(Fe+=I(k,j)),$t=lt[vt],te=q[$t],_(k,j+1,$t,!0,!0,!0)&&(Ut=k.tag!==null&&k.tag!=="?"||k.dump&&k.dump.length>1024,Ut&&(k.dump&&u===k.dump.charCodeAt(0)?Fe+="?":Fe+="? "),Fe+=k.dump,Ut&&(Fe+=I(k,j)),_(k,j+1,te,!0,Ut)&&(k.dump&&u===k.dump.charCodeAt(0)?Fe+=":":Fe+=": ",Fe+=k.dump,ct+=Fe));k.tag=mt,k.dump=ct||"{}"}function Fi(k,j,q){var X,ct,mt,lt,vt,gt;for(ct=q?k.explicitTypes:k.implicitTypes,mt=0,lt=ct.length;mt<lt;mt+=1)if(vt=ct[mt],(vt.instanceOf||vt.predicate)&&(!vt.instanceOf||typeof j=="object"&&j instanceof vt.instanceOf)&&(!vt.predicate||vt.predicate(j))){if(k.tag=q?vt.tag:"?",vt.represent){if(gt=k.styleMap[vt.tag]||vt.defaultStyle,s.call(vt.represent)==="[object Function]")X=vt.represent(j,gt);else if(a.call(vt.represent,gt))X=vt.represent[gt](j,gt);else throw new t("!<"+vt.tag+'> tag resolver accepts not "'+gt+'" style');k.dump=X}return!0}return!1}function _(k,j,q,X,ct,mt){k.tag=null,k.dump=q,Fi(k,q,!1)||Fi(k,q,!0);var lt=s.call(k.dump);X&&(X=k.flowLevel<0||k.flowLevel>j);var vt=lt==="[object Object]"||lt==="[object Array]",gt,$t;if(vt&&(gt=k.duplicates.indexOf(q),$t=gt!==-1),(k.tag!==null&&k.tag!=="?"||$t||k.indent!==2&&j>0)&&(ct=!1),$t&&k.usedDuplicates[gt])k.dump="*ref_"+gt;else{if(vt&&$t&&!k.usedDuplicates[gt]&&(k.usedDuplicates[gt]=!0),lt==="[object Object]")X&&Object.keys(k.dump).length!==0?(Zn(k,j,k.dump,ct),$t&&(k.dump="&ref_"+gt+k.dump)):(Xe(k,j,k.dump),$t&&(k.dump="&ref_"+gt+" "+k.dump));else if(lt==="[object Array]"){var te=k.noArrayIndent&&j>0?j-1:j;X&&k.dump.length!==0?(Ke(k,te,k.dump,ct),$t&&(k.dump="&ref_"+gt+k.dump)):(zn(k,te,k.dump),$t&&(k.dump="&ref_"+gt+" "+k.dump))}else if(lt==="[object String]")k.tag!=="?"&&Yt(k,k.dump,j,mt);else{if(k.skipInvalid)return!1;throw new t("unacceptable kind of an object to dump "+lt)}k.tag!==null&&k.tag!=="?"&&(k.dump="!<"+k.tag+"> "+k.dump)}return!0}function Y(k,j){var q=[],X=[],ct,mt;for(M(k,q,X),ct=0,mt=X.length;ct<mt;ct+=1)j.duplicates.push(q[X[ct]]);j.usedDuplicates=new Array(mt)}function M(k,j,q){var X,ct,mt;if(k!==null&&typeof k=="object")if(ct=j.indexOf(k),ct!==-1)q.indexOf(ct)===-1&&q.push(ct);else if(j.push(k),Array.isArray(k))for(ct=0,mt=k.length;ct<mt;ct+=1)M(k[ct],j,q);else for(X=Object.keys(k),ct=0,mt=X.length;ct<mt;ct+=1)M(k[X[ct]],j,q)}function T(k,j){j=j||{};var q=new it(j);return q.noRefs||Y(k,q),_(q,0,k,!0,!0)?q.dump+`
`:""}function C(k,j){return T(k,n.extend({schema:i},j))}return dumper.dump=T,dumper.safeDump=C,dumper}var hasRequiredJsYaml$1;function requireJsYaml$1(){if(hasRequiredJsYaml$1)return jsYaml$1;hasRequiredJsYaml$1=1;var n=requireLoader(),t=requireDumper();function e(i){return function(){throw new Error("Function "+i+" is deprecated and cannot be used.")}}return jsYaml$1.Type=requireType(),jsYaml$1.Schema=requireSchema(),jsYaml$1.FAILSAFE_SCHEMA=requireFailsafe(),jsYaml$1.JSON_SCHEMA=requireJson(),jsYaml$1.CORE_SCHEMA=requireCore(),jsYaml$1.DEFAULT_SAFE_SCHEMA=requireDefault_safe(),jsYaml$1.DEFAULT_FULL_SCHEMA=requireDefault_full(),jsYaml$1.load=n.load,jsYaml$1.loadAll=n.loadAll,jsYaml$1.safeLoad=n.safeLoad,jsYaml$1.safeLoadAll=n.safeLoadAll,jsYaml$1.dump=t.dump,jsYaml$1.safeDump=t.safeDump,jsYaml$1.YAMLException=requireException(),jsYaml$1.MINIMAL_SCHEMA=requireFailsafe(),jsYaml$1.SAFE_SCHEMA=requireDefault_safe(),jsYaml$1.DEFAULT_SCHEMA=requireDefault_full(),jsYaml$1.scan=e("scan"),jsYaml$1.parse=e("parse"),jsYaml$1.compose=e("compose"),jsYaml$1.addConstructor=e("addConstructor"),jsYaml$1}var jsYaml,hasRequiredJsYaml;function requireJsYaml(){if(hasRequiredJsYaml)return jsYaml;hasRequiredJsYaml=1;var n=requireJsYaml$1();return jsYaml=n,jsYaml}var hasRequiredEngines;function requireEngines(){return hasRequiredEngines||(hasRequiredEngines=1,function(module,exports){const yaml=requireJsYaml(),engines=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)},engines.json={parse:JSON.parse.bind(JSON),stringify:function(n,t){const e=Object.assign({replacer:null,space:2},t);return JSON.stringify(n,e.replacer,e.space)}},engines.javascript={parse:function parse(str,options,wrap){try{return wrap!==!1&&(str=`(function() {
return `+str.trim()+`;
}());`),eval(str)||{}}catch(n){if(wrap!==!1&&/(unexpected|identifier)/i.test(n.message))return parse(str,options,!1);throw new SyntaxError(n)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}}(engines)),engines.exports}var utils={};/*!
 * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var stripBomString,hasRequiredStripBomString;function requireStripBomString(){return hasRequiredStripBomString||(hasRequiredStripBomString=1,stripBomString=function(n){return typeof n=="string"&&n.charAt(0)==="\uFEFF"?n.slice(1):n}),stripBomString}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(n){const t=requireStripBomString(),e=requireKindOf();n.define=function(i,s,a){Reflect.defineProperty(i,s,{enumerable:!1,configurable:!0,writable:!0,value:a})},n.isBuffer=function(i){return e(i)==="buffer"},n.isObject=function(i){return e(i)==="object"},n.toBuffer=function(i){return typeof i=="string"?Buffer.from(i):i},n.toString=function(i){if(n.isBuffer(i))return t(String(i));if(typeof i!="string")throw new TypeError("expected input to be a string or buffer");return t(i)},n.arrayify=function(i){return i?Array.isArray(i)?i:[i]:[]},n.startsWith=function(i,s,a){return typeof a!="number"&&(a=s.length),i.slice(0,a)===s}}(utils)),utils}var defaults,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults;hasRequiredDefaults=1;const n=requireEngines(),t=requireUtils();return defaults=function(e){const i=Object.assign({},e);return i.delimiters=t.arrayify(i.delims||i.delimiters||"---"),i.delimiters.length===1&&i.delimiters.push(i.delimiters[0]),i.language=(i.language||i.lang||"yaml").toLowerCase(),i.engines=Object.assign({},n,i.parsers,i.engines),i},defaults}var engine,hasRequiredEngine;function requireEngine(){if(hasRequiredEngine)return engine;hasRequiredEngine=1,engine=function(t,e){let i=e.engines[t]||e.engines[n(t)];if(typeof i>"u")throw new Error('gray-matter engine "'+t+'" is not registered');return typeof i=="function"&&(i={parse:i}),i};function n(t){switch(t.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return t}}return engine}var stringify$2,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$2;hasRequiredStringify=1;const n=requireKindOf(),t=requireEngine(),e=requireDefaults();stringify$2=function(s,a,o){if(a==null&&o==null)switch(n(s)){case"object":a=s.data,o={};break;case"string":return s;default:throw new TypeError("expected file to be a string or object")}const u=s.content,h=e(o);if(a==null){if(!h.data)return s;a=h.data}const d=s.language||h.language,f=t(d,h);if(typeof f.stringify!="function")throw new TypeError('expected "'+d+'.stringify" to be a function');a=Object.assign({},s.data,a);const g=h.delimiters[0],b=h.delimiters[1],x=f.stringify(a,o).trim();let E="";return x!=="{}"&&(E=i(g)+i(x)+i(b)),typeof s.excerpt=="string"&&s.excerpt!==""&&u.indexOf(s.excerpt.trim())===-1&&(E+=i(s.excerpt)+i(b)),E+i(u)};function i(s){return s.slice(-1)!==`
`?s+`
`:s}return stringify$2}var excerpt,hasRequiredExcerpt;function requireExcerpt(){if(hasRequiredExcerpt)return excerpt;hasRequiredExcerpt=1;const n=requireDefaults();return excerpt=function(t,e){const i=n(e);if(t.data==null&&(t.data={}),typeof i.excerpt=="function")return i.excerpt(t,i);const s=t.data.excerpt_separator||i.excerpt_separator;if(s==null&&(i.excerpt===!1||i.excerpt==null))return t;const a=typeof i.excerpt=="string"?i.excerpt:s||i.delimiters[0],o=t.content.indexOf(a);return o!==-1&&(t.excerpt=t.content.slice(0,o)),t},excerpt}var toFile,hasRequiredToFile;function requireToFile(){if(hasRequiredToFile)return toFile;hasRequiredToFile=1;const n=requireKindOf(),t=requireStringify(),e=requireUtils();return toFile=function(i){return n(i)!=="object"&&(i={content:i}),n(i.data)!=="object"&&(i.data={}),i.contents&&i.content==null&&(i.content=i.contents),e.define(i,"orig",e.toBuffer(i.content)),e.define(i,"language",i.language||""),e.define(i,"matter",i.matter||""),e.define(i,"stringify",function(s,a){return a&&a.language&&(i.language=a.language),t(i,s,a)}),i.content=e.toString(i.content),i.isEmpty=!1,i.excerpt="",i},toFile}var parse$1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse$1;hasRequiredParse=1;const n=requireEngine(),t=requireDefaults();return parse$1=function(e,i,s){const a=t(s),o=n(e,a);if(typeof o.parse!="function")throw new TypeError('expected "'+e+'.parse" to be a function');return o.parse(i,a)},parse$1}var grayMatter,hasRequiredGrayMatter;function requireGrayMatter(){if(hasRequiredGrayMatter)return grayMatter;hasRequiredGrayMatter=1;const n=require$$0,t=requireSectionMatter(),e=requireDefaults(),i=requireStringify(),s=requireExcerpt(),a=requireEngines(),o=requireToFile(),u=requireParse(),h=requireUtils();function d(g,b){if(g==="")return{data:{},content:g,excerpt:"",orig:g};let x=o(g);const E=d.cache[x.content];if(!b){if(E)return x=Object.assign({},E),x.orig=E.orig,x;d.cache[x.content]=x}return f(x,b)}function f(g,b){const x=e(b),E=x.delimiters[0],S=`
`+x.delimiters[1];let R=g.content;x.language&&(g.language=x.language);const w=E.length;if(!h.startsWith(R,E,w))return s(g,x),g;if(R.charAt(w)===E.slice(-1))return g;R=R.slice(w);const L=R.length,P=d.language(R,x);P.name&&(g.language=P.name,R=R.slice(P.raw.length));let V=R.indexOf(S);return V===-1&&(V=L),g.matter=R.slice(0,V),g.matter.replace(/^\s*#[^\n]+/gm,"").trim()===""?(g.isEmpty=!0,g.empty=g.content,g.data={}):g.data=u(g.language,g.matter,x),V===L?g.content="":(g.content=R.slice(V+S.length),g.content[0]==="\r"&&(g.content=g.content.slice(1)),g.content[0]===`
`&&(g.content=g.content.slice(1))),s(g,x),(x.sections===!0||typeof x.section=="function")&&t(g,x.section),g}return d.engines=a,d.stringify=function(g,b,x){return typeof g=="string"&&(g=d(g,x)),i(g,b,x)},d.read=function(g,b){const x=n.readFileSync(g,"utf8"),E=d(x,b);return E.path=g,E},d.test=function(g,b){return h.startsWith(g,e(b).delimiters[0])},d.language=function(g,b){const E=e(b).delimiters[0];d.test(g)&&(g=g.slice(E.length));const S=g.slice(0,g.search(/\r?\n/));return{raw:S,name:S?S.trim():""}},d.cache={},d.clearCache=function(){d.cache={}},grayMatter=d,grayMatter}var grayMatterExports=requireGrayMatter();const matter=getDefaultExportFromCjs(grayMatterExports),imageModules=Object.assign({"/src/assets/CompArch_MP3.mov":__vite_glob_0_0,"/src/assets/agro-doc/agrodoc-backend-component-diagram.jpg":__vite_glob_0_1,"/src/assets/agro-doc/agrodoc-sys-arch-diagram.jpg":__vite_glob_0_2,"/src/assets/agro-doc/powisset-thumbnail.png":__vite_glob_0_3,"/src/assets/background.gif":__vite_glob_0_4,"/src/assets/chess-bot/bettafish-sys-arch.jpg":__vite_glob_0_5,"/src/assets/chess-bot/chess-bot-action.gif":__vite_glob_0_6,"/src/assets/chess-bot/chess-bot-sim.png":__vite_glob_0_7,"/src/assets/chess-bot/chess-grid-segmentation.png":__vite_glob_0_8,"/src/assets/chess-bot/chess-move-detection.png":__vite_glob_0_9,"/src/assets/chess-bot/chess-thumbnail.jpg":__vite_glob_0_10,"/src/assets/couch/couch-debugging-candid.jpg":__vite_glob_0_11,"/src/assets/couch/couch-final-photoshoot.jpg":__vite_glob_0_12,"/src/assets/couch/couch-pre-drive.jpg":__vite_glob_0_13,"/src/assets/couch/couch-thumbnail.png":__vite_glob_0_14,"/src/assets/dlx/dancing-links-thumbnail.png":__vite_glob_0_15,"/src/assets/iron-man/iron-man-beta.png":__vite_glob_0_16,"/src/assets/iron-man/iron-man-hero.jpg":__vite_glob_0_17,"/src/assets/iron-man/iron-man-mask-actuation.mp4":__vite_glob_0_18,"/src/assets/iron-man/iron-man-workspace.jpeg":__vite_glob_0_19,"/src/assets/landing-background.gif":__vite_glob_0_20,"/src/assets/profile.jpg":__vite_glob_0_21,"/src/assets/pvmpkin-memory-map.gif":__vite_glob_0_22,"/src/assets/react.svg":__vite_glob_0_23,"/src/assets/risc-v/harris-harris-multicycle-unpipelined-processor-diag.png":__vite_glob_0_24,"/src/assets/risc-v/mp4-processor-sim.png":__vite_glob_0_25,"/src/assets/sequencer/digital-sequencer-thumbnail.png":__vite_glob_0_26}),imageMap={};for(const n in imageModules){const t=imageModules[n],e=n.split("/").pop().replace(/\.\w+$/,"");imageMap[e]=t}const resolveGalleryImages=n=>!n||!Array.isArray(n)?[]:n.map(t=>imageMap[t]||t).filter(Boolean),projectModules=Object.assign({"/src/content/projects/agro-doc.md":__vite_glob_1_0,"/src/content/projects/chess-robot.md":__vite_glob_1_1,"/src/content/projects/couch.md":__vite_glob_1_2,"/src/content/projects/dancing-links.md":__vite_glob_1_3,"/src/content/projects/digital-sequencer.md":__vite_glob_1_4,"/src/content/projects/home-automation.md":__vite_glob_1_5,"/src/content/projects/iron-man.md":__vite_glob_1_6,"/src/content/projects/risc-v.md":__vite_glob_1_7}),allProjectsData={};for(const n in projectModules){const t=projectModules[n],{data:e,content:i}=matter(t);allProjectsData[e.slug]={frontmatter:{...e,image:imageMap[e.image]||e.image,galleryImages:resolveGalleryImages(e.galleryImages)},markdownBody:i}}const getAllProjects=()=>Object.values(allProjectsData).map(n=>({slug:n.frontmatter.slug,image:n.frontmatter.image,title:n.frontmatter.title,category:n.frontmatter.category})),getProjectBySlug=n=>allProjectsData[n]||null,resolveImageSrc=n=>imageMap[n]?imageMap[n]:n;function AnimatedShapes({count:n=12,shape:t="triangle",color:e="red",orientation:i="horizontal",height:s="100%",spreadX:a={min:0,max:100},spreadY:o={min:20,max:80}}){const[u,h]=reactExports.useState([]),f={red:"#E60000",blue:"#4F46E5",yellow:"#FCD34D",green:"#10B981",purple:"#A855F7",pink:"#EC4899",cyan:"#06B6D4",orange:"#F97316"}[e]||e;function g(x,E){return Math.random()*(E-x)+x}reactExports.useEffect(()=>{const x=Array.from({length:n},(E,S)=>({id:S,left:`${g(a.min,a.max)}%`,top:`${g(o.min,o.max)}%`,delay:S*.1,size:30+Math.random()*20,scale:g(.5,1.2),rotate:g(-30,30)}));h(x)},[n,a,o]);function b({shapeData:x}){const E=useAnimation();reactExports.useEffect(()=>{async function R(){const w=i==="horizontal"?{x:[0,-10,0]}:{y:[0,-10,0]};await E.start({x:0,y:0,opacity:1,transition:{duration:.8,delay:x.delay,ease:"easeOut"}}),E.start({...w,transition:{repeat:1/0,repeatType:"reverse",duration:4+Math.random()*2,ease:"easeInOut"}})}R()},[E,x.delay,i]);const S=()=>{const R=x.size;switch(t){case"triangle":return jsxRuntimeExports.jsx("svg",{width:R,height:R,viewBox:"0 0 100 100",style:{filter:"drop-shadow(0 0 8px rgba(0,0,0,0.2))"},children:jsxRuntimeExports.jsx("polygon",{points:"50,10 90,90 10,90",fill:f,opacity:"0.9"})});case"circle":return jsxRuntimeExports.jsx("div",{style:{width:R,height:R,borderRadius:"50%",backgroundColor:f,opacity:.9,boxShadow:"0 0 8px rgba(0,0,0,0.2)"}});case"square":return jsxRuntimeExports.jsx("div",{style:{width:R,height:R,backgroundColor:f,opacity:1,boxShadow:"0 0 8px rgba(0,0,0,0.2)"}});default:return null}};return jsxRuntimeExports.jsx(motion.div,{initial:{y:50,opacity:0},animate:E,style:{position:"absolute",left:x.left,top:x.top,scale:x.scale,rotate:`${x.rotate}deg`,pointerEvents:"none"},children:S()})}return jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",height:s,overflow:"hidden"},children:u.map(x=>jsxRuntimeExports.jsx(b,{shapeData:x},x.id))})}function AnimatedShapesSection({shape:n="triangle",color:t="red",count:e=12,orientation:i="horizontal",height:s="160px",spreadX:a={min:0,max:100},spreadY:o={min:20,max:80},className:u=""}){return jsxRuntimeExports.jsx("div",{className:`relative overflow-hidden ${u}`,style:{height:s},children:jsxRuntimeExports.jsx(AnimatedShapes,{shape:n,color:t,count:e,orientation:i,height:"100%",spreadX:a,spreadY:o})})}const PROJECT_ORDER=["chess-robot","agro-doc","dancing-links-visualizer","couch","digital-sequencer","risc-v","iron-man","home-automation"],ProjectsItem=({slug:n,image:t,title:e,category:i})=>jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"relative overflow-hidden h-48",children:jsxRuntimeExports.jsx(Link,{to:`/projects/${n}`,className:"block w-full h-full",children:jsxRuntimeExports.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-800",children:e}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:i})]})]});function Projects({id:n,order:t}){const e=reactExports.useRef(null),i=useInView(e,{once:!0,margin:"-50px"}),s=reactExports.useMemo(()=>getAllProjects(),[]),a=reactExports.useMemo(()=>{const o=Array.isArray(t)&&t.length>0?t:PROJECT_ORDER;if(Array.isArray(o)&&o.length>0){const u=new Map(s.map(f=>[f.slug,f])),h=o.map(f=>u.get(f)).filter(Boolean),d=s.filter(f=>!o.includes(f.slug));return[...h,...d]}return s},[s,t]);return jsxRuntimeExports.jsxs(motion.section,{id:n,ref:e,initial:{opacity:0,y:50},animate:i?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut"},className:"bg-gray-100 relative",children:[jsxRuntimeExports.jsx(AnimatedShapesSection,{shape:"triangle",color:"red",count:12,orientation:"vertical",height:"160px",spreadX:{min:0,max:100},spreadY:{min:20,max:80},className:"mb-8"}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6 pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:"Projects"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-4",children:"Here are a few of my technical projects I've done throughout my time at Olin College."}),jsxRuntimeExports.jsx("div",{className:"mt-4 w-16 h-1 bg-indigo-500 mx-auto"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(o=>jsxRuntimeExports.jsx(ProjectsItem,{slug:o.slug,image:o.image,title:o.title,category:o.category},o.slug))})]})]})}function ok$1(){}function unreachable$1(){}function stringify$1(n,t){const e={};return(n[n.length-1]===""?[...n,""]:n).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name(n,t){return(emptyOptions$3.jsx?nameReJsx:nameRe).test(n)}const re=/[ \t\n\f\r]/g;function whitespace(n){return typeof n=="object"?n.type==="text"?empty$1(n.value):!1:empty$1(n)}function empty$1(n){return n.replace(re,"")===""}class Schema{constructor(t,e,i){this.normal=e,this.property=t,i&&(this.space=i)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(n,t){const e={},i={};for(const s of n)Object.assign(e,s.property),Object.assign(i,s.normal);return new Schema(e,i,t)}function normalize$1(n){return n.toLowerCase()}class Info{constructor(t,e){this.attribute=e,this.property=t}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(t,e,i,s){let a=-1;if(super(t,e),mark(this,"space",s),typeof i=="number")for(;++a<checks.length;){const o=checks[a];mark(this,checks[a],(i&types[o])===types[o])}}}DefinedInfo.prototype.defined=!0;function mark(n,t,e){e&&(n[t]=e)}function create(n){const t={},e={};for(const[i,s]of Object.entries(n.properties)){const a=new DefinedInfo(i,n.transform(n.attributes||{},i),s,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),t[i]=a,e[normalize$1(i)]=i,e[normalize$1(a.attribute)]=i}return new Schema(t,e,n.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function caseSensitiveTransform(n,t){return t in n?n[t]:t}function caseInsensitiveTransform(n,t){return caseSensitiveTransform(n,t.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find$1(n,t){const e=normalize$1(t);let i=t,s=Info;if(e in n.normal)return n.property[n.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&valid.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(dash,camelcase);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!dash.test(a)){let o=a.replace(cap$1,kebab);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=DefinedInfo}return new s(i,t)}function kebab(n){return"-"+n.toLowerCase()}function camelcase(n){return n.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(n){return n.join(" ").trim()}var cjs$2={},cjs$1,hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$1;hasRequiredCjs$2=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,u=/^\s+|\s+$/g,h=`
`,d="/",f="*",g="",b="comment",x="declaration";function E(R,w){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];w=w||{};var L=1,P=1;function V(ot){var dt=ot.match(t);dt&&(L+=dt.length);var Q=ot.lastIndexOf(h);P=~Q?ot.length-Q:P+ot.length}function B(){var ot={line:L,column:P};return function(dt){return dt.position=new F(ot),J(),dt}}function F(ot){this.start=ot,this.end={line:L,column:P},this.source=w.source}F.prototype.content=R;function H(ot){var dt=new Error(w.source+":"+L+":"+P+": "+ot);if(dt.reason=ot,dt.filename=w.source,dt.line=L,dt.column=P,dt.source=R,!w.silent)throw dt}function K(ot){var dt=ot.exec(R);if(dt){var Q=dt[0];return V(Q),R=R.slice(Q.length),dt}}function J(){K(e)}function G(ot){var dt;for(ot=ot||[];dt=et();)dt!==!1&&ot.push(dt);return ot}function et(){var ot=B();if(!(d!=R.charAt(0)||f!=R.charAt(1))){for(var dt=2;g!=R.charAt(dt)&&(f!=R.charAt(dt)||d!=R.charAt(dt+1));)++dt;if(dt+=2,g===R.charAt(dt-1))return H("End of comment missing");var Q=R.slice(2,dt-2);return P+=2,V(Q),R=R.slice(dt),P+=2,ot({type:b,comment:Q})}}function ut(){var ot=B(),dt=K(i);if(dt){if(et(),!K(s))return H("property missing ':'");var Q=K(a),Z=ot({type:x,property:S(dt[0].replace(n,g)),value:Q?S(Q[0].replace(n,g)):g});return K(o),Z}}function Et(){var ot=[];G(ot);for(var dt;dt=ut();)dt!==!1&&(ot.push(dt),G(ot));return ot}return J(),Et()}function S(R){return R?R.replace(u,g):g}return cjs$1=E,cjs$1}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$2;hasRequiredCjs$1=1;var n=cjs$2&&cjs$2.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.default=e;const t=n(requireCjs$2());function e(i,s){let a=null;if(!i||typeof i!="string")return a;const o=(0,t.default)(i),u=typeof s=="function";return o.forEach(h=>{if(h.type!=="declaration")return;const{property:d,value:f}=h;u?s(d,f,h):f&&(a=a||{},a[d]=f)}),a}return cjs$2}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(d){return!d||e.test(d)||n.test(d)},o=function(d,f){return f.toUpperCase()},u=function(d,f){return"".concat(f,"-")},h=function(d,f){return f===void 0&&(f={}),a(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(s,u):d=d.replace(i,u),d.replace(t,o))};return utilities.camelCase=h,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var n=cjs&&cjs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=n(requireCjs$1()),e=requireUtilities();function i(s,a){var o={};return!s||typeof s!="string"||(0,t.default)(s,function(u,h){u&&h&&(o[(0,e.camelCase)(u,a)]=h)}),o}return i.default=i,cjs=i,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(n){return t;function t(e){const i=e&&e.position&&e.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function position$1(n){const t=pointStart(n),e=pointEnd(n);if(t&&e)return{start:t,end:e}}function stringifyPosition(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?position(n.position):"start"in n||"end"in n?position(n):"line"in n||"column"in n?point$1(n):""}function point$1(n){return index(n&&n.line)+":"+index(n&&n.column)}function position(n){return point$1(n&&n.start)+"-"+point$1(n&&n.end)}function index(n){return n&&typeof n=="number"?n:1}class VFileMessage extends Error{constructor(t,e,i){super(),typeof e=="string"&&(i=e,e=void 0);let s="",a={},o=!1;if(e&&("line"in e&&"column"in e?a={place:e}:"start"in e&&"end"in e?a={place:e}:"type"in e?a={ancestors:[e],place:e.position}:a={...e}),typeof t=="string"?s=t:!a.cause&&t&&(o=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof i=="string"){const h=i.indexOf(":");h===-1?a.ruleId=i:(a.source=i.slice(0,h),a.ruleId=i.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const u=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=u?u.line:void 0,this.name=stringifyPosition(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=developmentCreate(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=productionCreate(e,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?svg:html$2,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=one$1(s,n,void 0);return a&&typeof a!="string"?a:s.create(n,s.Fragment,{children:a||void 0},void 0)}function one$1(n,t,e){if(t.type==="element")return element$1(n,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mdxExpression(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mdxJsxElement(n,t,e);if(t.type==="mdxjsEsm")return mdxEsm(n,t);if(t.type==="root")return root$2(n,t,e);if(t.type==="text")return text$5(n,t)}function element$1(n,t,e){const i=n.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=svg,n.schema=s),n.ancestors.push(t);const a=findComponentFromName(n,t.tagName,!1),o=createElementProps(n,t);let u=createChildren(n,t);return tableElements.has(t.tagName)&&(u=u.filter(function(h){return typeof h=="string"?!whitespace(h):!0})),addNode(n,o,a,t),addChildren(o,u),n.ancestors.pop(),n.schema=i,n.create(t,a,o,e)}function mdxExpression(n,t){if(t.data&&t.data.estree&&n.evaluater){const i=t.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}crashEstree(n,t.position)}function mdxEsm(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);crashEstree(n,t.position)}function mdxJsxElement(n,t,e){const i=n.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=svg,n.schema=s),n.ancestors.push(t);const a=t.name===null?n.Fragment:findComponentFromName(n,t.name,!0),o=createJsxElementProps(n,t),u=createChildren(n,t);return addNode(n,o,a,t),addChildren(o,u),n.ancestors.pop(),n.schema=i,n.create(t,a,o,e)}function root$2(n,t,e){const i={};return addChildren(i,createChildren(n,t)),n.create(t,n.Fragment,i,e)}function text$5(n,t){return t.value}function addNode(n,t,e,i){typeof e!="string"&&e!==n.Fragment&&n.passNode&&(t.node=i)}function addChildren(n,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(n.children=e)}}function productionCreate(n,t,e){return i;function i(s,a,o,u){const d=Array.isArray(o.children)?e:t;return u?d(a,o,u):d(a,o)}}function developmentCreate(n,t){return e;function e(i,s,a,o){const u=Array.isArray(a.children),h=pointStart(i);return t(s,a,o,u,{columnNumber:h?h.column-1:void 0,fileName:n,lineNumber:h?h.line:void 0},void 0)}}function createElementProps(n,t){const e={};let i,s;for(s in t.properties)if(s!=="children"&&own$3.call(t.properties,s)){const a=createProperty(n,s,t.properties[s]);if(a){const[o,u]=a;n.tableCellAlignToStyle&&o==="align"&&typeof u=="string"&&tableCellElement.has(t.tagName)?i=u:e[o]=u}}if(i){const a=e.style||(e.style={});a[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return e}function createJsxElementProps(n,t){const e={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const a=i.data.estree.body[0];a.type;const o=a.expression;o.type;const u=o.properties[0];u.type,Object.assign(e,n.evaluater.evaluateExpression(u.argument))}else crashEstree(n,t.position);else{const s=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const u=i.value.data.estree.body[0];u.type,a=n.evaluater.evaluateExpression(u.expression)}else crashEstree(n,t.position);else a=i.value===null?!0:i.value;e[s]=a}return e}function createChildren(n,t){const e=[];let i=-1;const s=n.passKeys?new Map:emptyMap;for(;++i<t.children.length;){const a=t.children[i];let o;if(n.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const d=s.get(h)||0;o=h+"-"+d,s.set(h,d+1)}}const u=one$1(n,a,o);u!==void 0&&e.push(u)}return e}function createProperty(n,t,e){const i=find$1(n.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=i.commaSeparated?stringify$1(e):stringify(e)),i.property==="style"){let s=typeof e=="object"?e:parseStyle(n,String(e));return n.stylePropertyNameCase==="css"&&(s=transformStylesToCssCasing(s)),["style",s]}return[n.elementAttributeNameCase==="react"&&i.space?hastToReact[i.property]||i.property:i.attribute,e]}}function parseStyle(n,t){try{return styleToJs(t,{reactCompat:!0})}catch(e){if(n.ignoreInvalidStyle)return{};const i=e,s=new VFileMessage("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=n.filePath||void 0,s.url=docs+"#cannot-parse-style-attribute",s}}function findComponentFromName(n,t,e){let i;if(!e)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let a=-1,o;for(;++a<s.length;){const u=name(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};o=o?{type:"MemberExpression",object:o,property:u,computed:!!(a&&u.type==="Literal"),optional:!1}:u}i=o}else i=name(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return own$3.call(n.components,s)?n.components[s]:s}if(n.evaluater)return n.evaluater.evaluateExpression(i);crashEstree(n)}function crashEstree(n,t){const e=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=n.filePath||void 0,e.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",e}function transformStylesToCssCasing(n){const t={};let e;for(e in n)own$3.call(n,e)&&(t[transformStyleToCssCasing(e)]=n[e]);return t}function transformStyleToCssCasing(n){let t=n.replace(cap,toDash);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function toDash(n){return"-"+n.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$2={};function toString$1(n,t){const e=emptyOptions$2,i=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,s=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return one(n,i,s)}function one(n,t,e){if(node(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return all(n.children,t,e)}return Array.isArray(n)?all(n,t,e):""}function all(n,t,e){const i=[];let s=-1;for(;++s<n.length;)i[s]=one(n[s],t,e);return i.join("")}function node(n){return!!(n&&typeof n=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(n){const t="&"+n+";";element.innerHTML=t;const e=element.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===t?!1:e}function splice(n,t,e,i){const s=n.length;let a=0,o;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,e=e>0?e:0,i.length<1e4)o=Array.from(i),o.unshift(t,e),n.splice(...o);else for(e&&n.splice(t,e);a<i.length;)o=i.slice(a,a+1e4),o.unshift(t,0),n.splice(...o),a+=1e4,t+=1e4}function push(n,t){return n.length>0?(splice(n,n.length,0,t),n):t}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(n){const t={};let e=-1;for(;++e<n.length;)syntaxExtension(t,n[e]);return t}function syntaxExtension(n,t){let e;for(e in t){const s=(hasOwnProperty.call(n,e)?n[e]:void 0)||(n[e]={}),a=t[e];let o;if(a)for(o in a){hasOwnProperty.call(s,o)||(s[o]=[]);const u=a[o];constructs(s[o],Array.isArray(u)?u:u?[u]:[])}}}function constructs(n,t){let e=-1;const i=[];for(;++e<t.length;)(t[e].add==="after"?n:i).push(t[e]);splice(n,0,0,i)}function decodeNumericCharacterReference(n,t){const e=Number.parseInt(n,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"":String.fromCodePoint(e)}function normalizeIdentifier(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(n){return n!==null&&(n<32||n===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(n){return n!==null&&n<-2}function markdownLineEndingOrSpace(n){return n!==null&&(n<0||n===32)}function markdownSpace(n){return n===-2||n===-1||n===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(n){return t;function t(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}function normalizeUri(n){const t=[];let e=-1,i=0,s=0;for(;++e<n.length;){const a=n.charCodeAt(e);let o="";if(a===37&&asciiAlphanumeric(n.charCodeAt(e+1))&&asciiAlphanumeric(n.charCodeAt(e+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const u=n.charCodeAt(e+1);a<56320&&u>56319&&u<57344?(o=String.fromCharCode(a,u),s=1):o=""}else o=String.fromCharCode(a);o&&(t.push(n.slice(i,e),encodeURIComponent(o)),i=e+s+1,o=""),s&&(e+=s,s=0)}return t.join("")+n.slice(i)}function factorySpace(n,t,e,i){const s=i?i-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(h){return markdownSpace(h)?(n.enter(e),u(h)):t(h)}function u(h){return markdownSpace(h)&&a++<s?(n.consume(h),u):(n.exit(e),t(h))}}const content$1={tokenize:initializeContent};function initializeContent(n){const t=n.attempt(this.parser.constructs.contentInitial,i,s);let e;return t;function i(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),factorySpace(n,t,"linePrefix")}function s(u){return n.enter("paragraph"),a(u)}function a(u){const h=n.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=h),e=h,o(u)}function o(u){if(u===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(u);return}return markdownLineEnding(u)?(n.consume(u),n.exit("chunkText"),a):(n.consume(u),o)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(n){const t=this,e=[];let i=0,s,a,o;return u;function u(P){if(i<e.length){const V=e[i];return t.containerState=V[1],n.attempt(V[0].continuation,h,d)(P)}return d(P)}function h(P){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&L();const V=t.events.length;let B=V,F;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){F=t.events[B][1].end;break}w(i);let H=V;for(;H<t.events.length;)t.events[H][1].end={...F},H++;return splice(t.events,B+1,0,t.events.slice(V)),t.events.length=H,d(P)}return u(P)}function d(P){if(i===e.length){if(!s)return b(P);if(s.currentConstruct&&s.currentConstruct.concrete)return E(P);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(containerConstruct,f,g)(P)}function f(P){return s&&L(),w(i),b(P)}function g(P){return t.parser.lazy[t.now().line]=i!==e.length,o=t.now().offset,E(P)}function b(P){return t.containerState={},n.attempt(containerConstruct,x,E)(P)}function x(P){return i++,e.push([t.currentConstruct,t.containerState]),b(P)}function E(P){if(P===null){s&&L(),w(0),n.consume(P);return}return s=s||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),S(P)}function S(P){if(P===null){R(n.exit("chunkFlow"),!0),w(0),n.consume(P);return}return markdownLineEnding(P)?(n.consume(P),R(n.exit("chunkFlow")),i=0,t.interrupt=void 0,u):(n.consume(P),S)}function R(P,V){const B=t.sliceStream(P);if(V&&B.push(null),P.previous=a,a&&(a.next=P),a=P,s.defineSkip(P.start),s.write(B),t.parser.lazy[P.start.line]){let F=s.events.length;for(;F--;)if(s.events[F][1].start.offset<o&&(!s.events[F][1].end||s.events[F][1].end.offset>o))return;const H=t.events.length;let K=H,J,G;for(;K--;)if(t.events[K][0]==="exit"&&t.events[K][1].type==="chunkFlow"){if(J){G=t.events[K][1].end;break}J=!0}for(w(i),F=H;F<t.events.length;)t.events[F][1].end={...G},F++;splice(t.events,K+1,0,t.events.slice(H)),t.events.length=F}}function w(P){let V=e.length;for(;V-- >P;){const B=e[V];t.containerState=B[1],B[0].exit.call(t,n)}e.length=P}function L(){s.write([null]),a=void 0,s=void 0,t.containerState._closeFlow=void 0}}function tokenizeContainer(n,t,e){return factorySpace(n,n.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(n){if(n===null||markdownLineEndingOrSpace(n)||unicodeWhitespace(n))return 1;if(unicodePunctuation(n))return 2}function resolveAll(n,t,e){const i=[];let s=-1;for(;++s<n.length;){const a=n[s].resolveAll;a&&!i.includes(a)&&(t=a(t,e),i.push(a))}return t}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(n,t){let e=-1,i,s,a,o,u,h,d,f;for(;++e<n.length;)if(n[e][0]==="enter"&&n[e][1].type==="attentionSequence"&&n[e][1]._close){for(i=e;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&t.sliceSerialize(n[i][1]).charCodeAt(0)===t.sliceSerialize(n[e][1]).charCodeAt(0)){if((n[i][1]._close||n[e][1]._open)&&(n[e][1].end.offset-n[e][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[e][1].end.offset-n[e][1].start.offset)%3))continue;h=n[i][1].end.offset-n[i][1].start.offset>1&&n[e][1].end.offset-n[e][1].start.offset>1?2:1;const g={...n[i][1].end},b={...n[e][1].start};movePoint(g,-h),movePoint(b,h),o={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...n[i][1].end}},u={type:h>1?"strongSequence":"emphasisSequence",start:{...n[e][1].start},end:b},a={type:h>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[e][1].start}},s={type:h>1?"strong":"emphasis",start:{...o.start},end:{...u.end}},n[i][1].end={...o.start},n[e][1].start={...u.end},d=[],n[i][1].end.offset-n[i][1].start.offset&&(d=push(d,[["enter",n[i][1],t],["exit",n[i][1],t]])),d=push(d,[["enter",s,t],["enter",o,t],["exit",o,t],["enter",a,t]]),d=push(d,resolveAll(t.parser.constructs.insideSpan.null,n.slice(i+1,e),t)),d=push(d,[["exit",a,t],["enter",u,t],["exit",u,t],["exit",s,t]]),n[e][1].end.offset-n[e][1].start.offset?(f=2,d=push(d,[["enter",n[e][1],t],["exit",n[e][1],t]])):f=0,splice(n,i-1,e-i+3,d),e=i+d.length-f-2;break}}for(e=-1;++e<n.length;)n[e][1].type==="attentionSequence"&&(n[e][1].type="data");return n}function tokenizeAttention(n,t){const e=this.parser.constructs.attentionMarkers.null,i=this.previous,s=classifyCharacter(i);let a;return o;function o(h){return a=h,n.enter("attentionSequence"),u(h)}function u(h){if(h===a)return n.consume(h),u;const d=n.exit("attentionSequence"),f=classifyCharacter(h),g=!f||f===2&&s||e.includes(h),b=!s||s===2&&f||e.includes(i);return d._open=!!(a===42?g:g&&(s||!b)),d._close=!!(a===42?b:b&&(f||!g)),t(h)}}function movePoint(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(n,t,e){let i=0;return s;function s(x){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),a}function a(x){return asciiAlpha(x)?(n.consume(x),o):x===64?e(x):d(x)}function o(x){return x===43||x===45||x===46||asciiAlphanumeric(x)?(i=1,u(x)):d(x)}function u(x){return x===58?(n.consume(x),i=0,h):(x===43||x===45||x===46||asciiAlphanumeric(x))&&i++<32?(n.consume(x),u):(i=0,d(x))}function h(x){return x===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.exit("autolink"),t):x===null||x===32||x===60||asciiControl(x)?e(x):(n.consume(x),h)}function d(x){return x===64?(n.consume(x),f):asciiAtext(x)?(n.consume(x),d):e(x)}function f(x){return asciiAlphanumeric(x)?g(x):e(x)}function g(x){return x===46?(n.consume(x),i=0,f):x===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.exit("autolink"),t):b(x)}function b(x){if((x===45||asciiAlphanumeric(x))&&i++<63){const E=x===45?b:g;return n.consume(x),E}return e(x)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(n,t,e){return i;function i(a){return markdownSpace(a)?factorySpace(n,s,"linePrefix")(a):s(a)}function s(a){return a===null||markdownLineEnding(a)?t(a):e(a)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(n,t,e){const i=this;return s;function s(o){if(o===62){const u=i.containerState;return u.open||(n.enter("blockQuote",{_container:!0}),u.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),a}return e(o)}function a(o){return markdownSpace(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(o))}}function tokenizeBlockQuoteContinuation(n,t,e){const i=this;return s;function s(o){return markdownSpace(o)?factorySpace(n,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return n.attempt(blockQuote,t,e)(o)}}function exit$1(n){n.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(n,t,e){return i;function i(a){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(a),n.exit("escapeMarker"),s}function s(a){return asciiPunctuation(a)?(n.enter("characterEscapeValue"),n.consume(a),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):e(a)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(n,t,e){const i=this;let s=0,a,o;return u;function u(g){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),h}function h(g){return g===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(g),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),a=31,o=asciiAlphanumeric,f(g))}function d(g){return g===88||g===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(g),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,o=asciiHexDigit,f):(n.enter("characterReferenceValue"),a=7,o=asciiDigit,f(g))}function f(g){if(g===59&&s){const b=n.exit("characterReferenceValue");return o===asciiAlphanumeric&&!decodeNamedCharacterReference(i.sliceSerialize(b))?e(g):(n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return o(g)&&s++<a?(n.consume(g),f):e(g)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(n,t,e){const i=this,s={partial:!0,tokenize:B};let a=0,o=0,u;return h;function h(F){return d(F)}function d(F){const H=i.events[i.events.length-1];return a=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,u=F,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(F)}function f(F){return F===u?(o++,n.consume(F),f):o<3?e(F):(n.exit("codeFencedFenceSequence"),markdownSpace(F)?factorySpace(n,g,"whitespace")(F):g(F))}function g(F){return F===null||markdownLineEnding(F)?(n.exit("codeFencedFence"),i.interrupt?t(F):n.check(nonLazyContinuation,S,V)(F)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),b(F))}function b(F){return F===null||markdownLineEnding(F)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),g(F)):markdownSpace(F)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),factorySpace(n,x,"whitespace")(F)):F===96&&F===u?e(F):(n.consume(F),b)}function x(F){return F===null||markdownLineEnding(F)?g(F):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),E(F))}function E(F){return F===null||markdownLineEnding(F)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),g(F)):F===96&&F===u?e(F):(n.consume(F),E)}function S(F){return n.attempt(s,V,R)(F)}function R(F){return n.enter("lineEnding"),n.consume(F),n.exit("lineEnding"),w}function w(F){return a>0&&markdownSpace(F)?factorySpace(n,L,"linePrefix",a+1)(F):L(F)}function L(F){return F===null||markdownLineEnding(F)?n.check(nonLazyContinuation,S,V)(F):(n.enter("codeFlowValue"),P(F))}function P(F){return F===null||markdownLineEnding(F)?(n.exit("codeFlowValue"),L(F)):(n.consume(F),P)}function V(F){return n.exit("codeFenced"),t(F)}function B(F,H,K){let J=0;return G;function G(dt){return F.enter("lineEnding"),F.consume(dt),F.exit("lineEnding"),et}function et(dt){return F.enter("codeFencedFence"),markdownSpace(dt)?factorySpace(F,ut,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(dt):ut(dt)}function ut(dt){return dt===u?(F.enter("codeFencedFenceSequence"),Et(dt)):K(dt)}function Et(dt){return dt===u?(J++,F.consume(dt),Et):J>=o?(F.exit("codeFencedFenceSequence"),markdownSpace(dt)?factorySpace(F,ot,"whitespace")(dt):ot(dt)):K(dt)}function ot(dt){return dt===null||markdownLineEnding(dt)?(F.exit("codeFencedFence"),H(dt)):K(dt)}}}function tokenizeNonLazyContinuation(n,t,e){const i=this;return s;function s(o){return o===null?e(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),a)}function a(o){return i.parser.lazy[i.now().line]?e(o):t(o)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(n,t,e){const i=this;return s;function s(d){return n.enter("codeIndented"),factorySpace(n,a,"linePrefix",5)(d)}function a(d){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):e(d)}function o(d){return d===null?h(d):markdownLineEnding(d)?n.attempt(furtherStart,o,h)(d):(n.enter("codeFlowValue"),u(d))}function u(d){return d===null||markdownLineEnding(d)?(n.exit("codeFlowValue"),o(d)):(n.consume(d),u)}function h(d){return n.exit("codeIndented"),t(d)}}function tokenizeFurtherStart(n,t,e){const i=this;return s;function s(o){return i.parser.lazy[i.now().line]?e(o):markdownLineEnding(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):factorySpace(n,a,"linePrefix",5)(o)}function a(o){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(o):markdownLineEnding(o)?s(o):e(o)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(n){let t=n.length-4,e=3,i,s;if((n[e][1].type==="lineEnding"||n[e][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(i=e;++i<t;)if(n[i][1].type==="codeTextData"){n[e][1].type="codeTextPadding",n[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(i=e-1,t++;++i<=t;)s===void 0?i!==t&&n[i][1].type!=="lineEnding"&&(s=i):(i===t||n[i][1].type==="lineEnding")&&(n[s][1].type="codeTextData",i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return n}function previous$1(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(n,t,e){let i=0,s,a;return o;function o(g){return n.enter("codeText"),n.enter("codeTextSequence"),u(g)}function u(g){return g===96?(n.consume(g),i++,u):(n.exit("codeTextSequence"),h(g))}function h(g){return g===null?e(g):g===32?(n.enter("space"),n.consume(g),n.exit("space"),h):g===96?(a=n.enter("codeTextSequence"),s=0,f(g)):markdownLineEnding(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),h):(n.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||markdownLineEnding(g)?(n.exit("codeTextData"),h(g)):(n.consume(g),d)}function f(g){return g===96?(n.consume(g),s++,f):s===i?(n.exit("codeTextSequence"),n.exit("codeText"),t(g)):(a.type="codeTextData",d(g))}}class SpliceBuffer{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const i=e??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,e,i){const s=e||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&chunkedPush(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),chunkedPush(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);chunkedPush(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);chunkedPush(this.left,e.reverse())}}}function chunkedPush(n,t){let e=0;if(t.length<1e4)n.push(...t);else for(;e<t.length;)n.push(...t.slice(e,e+1e4)),e+=1e4}function subtokenize(n){const t={};let e=-1,i,s,a,o,u,h,d;const f=new SpliceBuffer(n);for(;++e<f.length;){for(;e in t;)e=t[e];if(i=f.get(e),e&&i[1].type==="chunkFlow"&&f.get(e-1)[1].type==="listItemPrefix"&&(h=i[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,subcontent(f,e)),e=t[e],d=!0);else if(i[1]._container){for(a=e,s=void 0;a--;)if(o=f.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(s&&(f.get(s)[1].type="lineEndingBlank"),o[1].type="lineEnding",s=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;s&&(i[1].end={...f.get(s)[1].start},u=f.slice(s,e),u.unshift(i),f.splice(s,e-s+1,u))}}return splice(n,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function subcontent(n,t){const e=n.get(t)[1],i=n.get(t)[2];let s=t-1;const a=[];let o=e._tokenizer;o||(o=i.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const u=o.events,h=[],d={};let f,g,b=-1,x=e,E=0,S=0;const R=[S];for(;x;){for(;n.get(++s)[1]!==x;);a.push(s),x._tokenizer||(f=i.sliceStream(x),x.next||f.push(null),g&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=e;++b<u.length;)u[b][0]==="exit"&&u[b-1][0]==="enter"&&u[b][1].type===u[b-1][1].type&&u[b][1].start.line!==u[b][1].end.line&&(S=b+1,R.push(S),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):R.pop(),b=R.length;b--;){const w=u.slice(R[b],R[b+1]),L=a.pop();h.push([L,L+w.length-1]),n.splice(L,2,w)}for(h.reverse(),b=-1;++b<h.length;)d[E+h[b][0]]=E+h[b][1],E+=h[b][1]-h[b][0]-1;return d}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(n){return subtokenize(n),n}function tokenizeContent(n,t){let e;return i;function i(u){return n.enter("content"),e=n.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?a(u):markdownLineEnding(u)?n.check(continuationConstruct,o,a)(u):(n.consume(u),s)}function a(u){return n.exit("chunkContent"),n.exit("content"),t(u)}function o(u){return n.consume(u),n.exit("chunkContent"),e.next=n.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,s}}function tokenizeContinuation(n,t,e){const i=this;return s;function s(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),factorySpace(n,a,"linePrefix")}function a(o){if(o===null||markdownLineEnding(o))return e(o);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(o):n.interrupt(i.parser.constructs.flow,e,t)(o)}}function factoryDestination(n,t,e,i,s,a,o,u,h){const d=h||Number.POSITIVE_INFINITY;let f=0;return g;function g(w){return w===60?(n.enter(i),n.enter(s),n.enter(a),n.consume(w),n.exit(a),b):w===null||w===32||w===41||asciiControl(w)?e(w):(n.enter(i),n.enter(o),n.enter(u),n.enter("chunkString",{contentType:"string"}),S(w))}function b(w){return w===62?(n.enter(a),n.consume(w),n.exit(a),n.exit(s),n.exit(i),t):(n.enter(u),n.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===62?(n.exit("chunkString"),n.exit(u),b(w)):w===null||w===60||markdownLineEnding(w)?e(w):(n.consume(w),w===92?E:x)}function E(w){return w===60||w===62||w===92?(n.consume(w),x):x(w)}function S(w){return!f&&(w===null||w===41||markdownLineEndingOrSpace(w))?(n.exit("chunkString"),n.exit(u),n.exit(o),n.exit(i),t(w)):f<d&&w===40?(n.consume(w),f++,S):w===41?(n.consume(w),f--,S):w===null||w===32||w===40||asciiControl(w)?e(w):(n.consume(w),w===92?R:S)}function R(w){return w===40||w===41||w===92?(n.consume(w),S):S(w)}}function factoryLabel(n,t,e,i,s,a){const o=this;let u=0,h;return d;function d(x){return n.enter(i),n.enter(s),n.consume(x),n.exit(s),n.enter(a),f}function f(x){return u>999||x===null||x===91||x===93&&!h||x===94&&!u&&"_hiddenFootnoteSupport"in o.parser.constructs?e(x):x===93?(n.exit(a),n.enter(s),n.consume(x),n.exit(s),n.exit(i),t):markdownLineEnding(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||markdownLineEnding(x)||u++>999?(n.exit("chunkString"),f(x)):(n.consume(x),h||(h=!markdownSpace(x)),x===92?b:g)}function b(x){return x===91||x===92||x===93?(n.consume(x),u++,g):g(x)}}function factoryTitle(n,t,e,i,s,a){let o;return u;function u(b){return b===34||b===39||b===40?(n.enter(i),n.enter(s),n.consume(b),n.exit(s),o=b===40?41:b,h):e(b)}function h(b){return b===o?(n.enter(s),n.consume(b),n.exit(s),n.exit(i),t):(n.enter(a),d(b))}function d(b){return b===o?(n.exit(a),h(o)):b===null?e(b):markdownLineEnding(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),factorySpace(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===o||b===null||markdownLineEnding(b)?(n.exit("chunkString"),d(b)):(n.consume(b),b===92?g:f)}function g(b){return b===o||b===92?(n.consume(b),f):f(b)}}function factoryWhitespace(n,t){let e;return i;function i(s){return markdownLineEnding(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e=!0,i):markdownSpace(s)?factorySpace(n,i,e?"linePrefix":"lineSuffix")(s):t(s)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(n,t,e){const i=this;let s;return a;function a(x){return n.enter("definition"),o(x)}function o(x){return factoryLabel.call(i,n,u,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function u(x){return s=normalizeIdentifier(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),x===58?(n.enter("definitionMarker"),n.consume(x),n.exit("definitionMarker"),h):e(x)}function h(x){return markdownLineEndingOrSpace(x)?factoryWhitespace(n,d)(x):d(x)}function d(x){return factoryDestination(n,f,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function f(x){return n.attempt(titleBefore,g,g)(x)}function g(x){return markdownSpace(x)?factorySpace(n,b,"whitespace")(x):b(x)}function b(x){return x===null||markdownLineEnding(x)?(n.exit("definition"),i.parser.defined.push(s),t(x)):e(x)}}function tokenizeTitleBefore(n,t,e){return i;function i(u){return markdownLineEndingOrSpace(u)?factoryWhitespace(n,s)(u):e(u)}function s(u){return factoryTitle(n,a,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function a(u){return markdownSpace(u)?factorySpace(n,o,"whitespace")(u):o(u)}function o(u){return u===null||markdownLineEnding(u)?t(u):e(u)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(n,t,e){return i;function i(a){return n.enter("hardBreakEscape"),n.consume(a),s}function s(a){return markdownLineEnding(a)?(n.exit("hardBreakEscape"),t(a)):e(a)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(n,t){let e=n.length-2,i=3,s,a;return n[i][1].type==="whitespace"&&(i+=2),e-2>i&&n[e][1].type==="whitespace"&&(e-=2),n[e][1].type==="atxHeadingSequence"&&(i===e-1||e-4>i&&n[e-2][1].type==="whitespace")&&(e-=i+1===e?2:4),e>i&&(s={type:"atxHeadingText",start:n[i][1].start,end:n[e][1].end},a={type:"chunkText",start:n[i][1].start,end:n[e][1].end,contentType:"text"},splice(n,i,e-i+1,[["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t]])),n}function tokenizeHeadingAtx(n,t,e){let i=0;return s;function s(f){return n.enter("atxHeading"),a(f)}function a(f){return n.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&i++<6?(n.consume(f),o):f===null||markdownLineEndingOrSpace(f)?(n.exit("atxHeadingSequence"),u(f)):e(f)}function u(f){return f===35?(n.enter("atxHeadingSequence"),h(f)):f===null||markdownLineEnding(f)?(n.exit("atxHeading"),t(f)):markdownSpace(f)?factorySpace(n,u,"whitespace")(f):(n.enter("atxHeadingText"),d(f))}function h(f){return f===35?(n.consume(f),h):(n.exit("atxHeadingSequence"),u(f))}function d(f){return f===null||f===35||markdownLineEndingOrSpace(f)?(n.exit("atxHeadingText"),u(f)):(n.consume(f),d)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function tokenizeHtmlFlow(n,t,e){const i=this;let s,a,o,u,h;return d;function d(z){return f(z)}function f(z){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(z),g}function g(z){return z===33?(n.consume(z),b):z===47?(n.consume(z),a=!0,S):z===63?(n.consume(z),s=3,i.interrupt?t:I):asciiAlpha(z)?(n.consume(z),o=String.fromCharCode(z),R):e(z)}function b(z){return z===45?(n.consume(z),s=2,x):z===91?(n.consume(z),s=5,u=0,E):asciiAlpha(z)?(n.consume(z),s=4,i.interrupt?t:I):e(z)}function x(z){return z===45?(n.consume(z),i.interrupt?t:I):e(z)}function E(z){const St="CDATA[";return z===St.charCodeAt(u++)?(n.consume(z),u===St.length?i.interrupt?t:ut:E):e(z)}function S(z){return asciiAlpha(z)?(n.consume(z),o=String.fromCharCode(z),R):e(z)}function R(z){if(z===null||z===47||z===62||markdownLineEndingOrSpace(z)){const St=z===47,Tt=o.toLowerCase();return!St&&!a&&htmlRawNames.includes(Tt)?(s=1,i.interrupt?t(z):ut(z)):htmlBlockNames.includes(o.toLowerCase())?(s=6,St?(n.consume(z),w):i.interrupt?t(z):ut(z)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?e(z):a?L(z):P(z))}return z===45||asciiAlphanumeric(z)?(n.consume(z),o+=String.fromCharCode(z),R):e(z)}function w(z){return z===62?(n.consume(z),i.interrupt?t:ut):e(z)}function L(z){return markdownSpace(z)?(n.consume(z),L):G(z)}function P(z){return z===47?(n.consume(z),G):z===58||z===95||asciiAlpha(z)?(n.consume(z),V):markdownSpace(z)?(n.consume(z),P):G(z)}function V(z){return z===45||z===46||z===58||z===95||asciiAlphanumeric(z)?(n.consume(z),V):B(z)}function B(z){return z===61?(n.consume(z),F):markdownSpace(z)?(n.consume(z),B):P(z)}function F(z){return z===null||z===60||z===61||z===62||z===96?e(z):z===34||z===39?(n.consume(z),h=z,H):markdownSpace(z)?(n.consume(z),F):K(z)}function H(z){return z===h?(n.consume(z),h=null,J):z===null||markdownLineEnding(z)?e(z):(n.consume(z),H)}function K(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||markdownLineEndingOrSpace(z)?B(z):(n.consume(z),K)}function J(z){return z===47||z===62||markdownSpace(z)?P(z):e(z)}function G(z){return z===62?(n.consume(z),et):e(z)}function et(z){return z===null||markdownLineEnding(z)?ut(z):markdownSpace(z)?(n.consume(z),et):e(z)}function ut(z){return z===45&&s===2?(n.consume(z),Q):z===60&&s===1?(n.consume(z),Z):z===62&&s===4?(n.consume(z),at):z===63&&s===3?(n.consume(z),I):z===93&&s===5?(n.consume(z),Ct):markdownLineEnding(z)&&(s===6||s===7)?(n.exit("htmlFlowData"),n.check(blankLineBefore,pt,Et)(z)):z===null||markdownLineEnding(z)?(n.exit("htmlFlowData"),Et(z)):(n.consume(z),ut)}function Et(z){return n.check(nonLazyContinuationStart,ot,pt)(z)}function ot(z){return n.enter("lineEnding"),n.consume(z),n.exit("lineEnding"),dt}function dt(z){return z===null||markdownLineEnding(z)?Et(z):(n.enter("htmlFlowData"),ut(z))}function Q(z){return z===45?(n.consume(z),I):ut(z)}function Z(z){return z===47?(n.consume(z),o="",it):ut(z)}function it(z){if(z===62){const St=o.toLowerCase();return htmlRawNames.includes(St)?(n.consume(z),at):ut(z)}return asciiAlpha(z)&&o.length<8?(n.consume(z),o+=String.fromCharCode(z),it):ut(z)}function Ct(z){return z===93?(n.consume(z),I):ut(z)}function I(z){return z===62?(n.consume(z),at):z===45&&s===2?(n.consume(z),I):ut(z)}function at(z){return z===null||markdownLineEnding(z)?(n.exit("htmlFlowData"),pt(z)):(n.consume(z),at)}function pt(z){return n.exit("htmlFlow"),t(z)}}function tokenizeNonLazyContinuationStart(n,t,e){const i=this;return s;function s(o){return markdownLineEnding(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),a):e(o)}function a(o){return i.parser.lazy[i.now().line]?e(o):t(o)}}function tokenizeBlankLineBefore(n,t,e){return i;function i(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),n.attempt(blankLine,t,e)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(n,t,e){const i=this;let s,a,o;return u;function u(I){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(I),h}function h(I){return I===33?(n.consume(I),d):I===47?(n.consume(I),B):I===63?(n.consume(I),P):asciiAlpha(I)?(n.consume(I),K):e(I)}function d(I){return I===45?(n.consume(I),f):I===91?(n.consume(I),a=0,E):asciiAlpha(I)?(n.consume(I),L):e(I)}function f(I){return I===45?(n.consume(I),x):e(I)}function g(I){return I===null?e(I):I===45?(n.consume(I),b):markdownLineEnding(I)?(o=g,Z(I)):(n.consume(I),g)}function b(I){return I===45?(n.consume(I),x):g(I)}function x(I){return I===62?Q(I):I===45?b(I):g(I)}function E(I){const at="CDATA[";return I===at.charCodeAt(a++)?(n.consume(I),a===at.length?S:E):e(I)}function S(I){return I===null?e(I):I===93?(n.consume(I),R):markdownLineEnding(I)?(o=S,Z(I)):(n.consume(I),S)}function R(I){return I===93?(n.consume(I),w):S(I)}function w(I){return I===62?Q(I):I===93?(n.consume(I),w):S(I)}function L(I){return I===null||I===62?Q(I):markdownLineEnding(I)?(o=L,Z(I)):(n.consume(I),L)}function P(I){return I===null?e(I):I===63?(n.consume(I),V):markdownLineEnding(I)?(o=P,Z(I)):(n.consume(I),P)}function V(I){return I===62?Q(I):P(I)}function B(I){return asciiAlpha(I)?(n.consume(I),F):e(I)}function F(I){return I===45||asciiAlphanumeric(I)?(n.consume(I),F):H(I)}function H(I){return markdownLineEnding(I)?(o=H,Z(I)):markdownSpace(I)?(n.consume(I),H):Q(I)}function K(I){return I===45||asciiAlphanumeric(I)?(n.consume(I),K):I===47||I===62||markdownLineEndingOrSpace(I)?J(I):e(I)}function J(I){return I===47?(n.consume(I),Q):I===58||I===95||asciiAlpha(I)?(n.consume(I),G):markdownLineEnding(I)?(o=J,Z(I)):markdownSpace(I)?(n.consume(I),J):Q(I)}function G(I){return I===45||I===46||I===58||I===95||asciiAlphanumeric(I)?(n.consume(I),G):et(I)}function et(I){return I===61?(n.consume(I),ut):markdownLineEnding(I)?(o=et,Z(I)):markdownSpace(I)?(n.consume(I),et):J(I)}function ut(I){return I===null||I===60||I===61||I===62||I===96?e(I):I===34||I===39?(n.consume(I),s=I,Et):markdownLineEnding(I)?(o=ut,Z(I)):markdownSpace(I)?(n.consume(I),ut):(n.consume(I),ot)}function Et(I){return I===s?(n.consume(I),s=void 0,dt):I===null?e(I):markdownLineEnding(I)?(o=Et,Z(I)):(n.consume(I),Et)}function ot(I){return I===null||I===34||I===39||I===60||I===61||I===96?e(I):I===47||I===62||markdownLineEndingOrSpace(I)?J(I):(n.consume(I),ot)}function dt(I){return I===47||I===62||markdownLineEndingOrSpace(I)?J(I):e(I)}function Q(I){return I===62?(n.consume(I),n.exit("htmlTextData"),n.exit("htmlText"),t):e(I)}function Z(I){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),it}function it(I){return markdownSpace(I)?factorySpace(n,Ct,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):Ct(I)}function Ct(I){return n.enter("htmlTextData"),o(I)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(n){let t=-1;const e=[];for(;++t<n.length;){const i=n[t][1];if(e.push(n[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return n.length!==e.length&&splice(n,0,n.length,e),n}function resolveToLabelEnd(n,t){let e=n.length,i=0,s,a,o,u;for(;e--;)if(s=n[e][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;n[e][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(n[e][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=e,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(o=e);const h={type:n[a][1].type==="labelLink"?"link":"image",start:{...n[a][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[a][1].start},end:{...n[o][1].end}},f={type:"labelText",start:{...n[a+i+2][1].end},end:{...n[o-2][1].start}};return u=[["enter",h,t],["enter",d,t]],u=push(u,n.slice(a+1,a+i+3)),u=push(u,[["enter",f,t]]),u=push(u,resolveAll(t.parser.constructs.insideSpan.null,n.slice(a+i+4,o-3),t)),u=push(u,[["exit",f,t],n[o-2],n[o-1],["exit",d,t]]),u=push(u,n.slice(o+1)),u=push(u,[["exit",h,t]]),splice(n,a,n.length,u),n}function tokenizeLabelEnd(n,t,e){const i=this;let s=i.events.length,a,o;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){a=i.events[s][1];break}return u;function u(b){return a?a._inactive?g(b):(o=i.parser.defined.includes(normalizeIdentifier(i.sliceSerialize({start:a.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(b),n.exit("labelMarker"),n.exit("labelEnd"),h):e(b)}function h(b){return b===40?n.attempt(resourceConstruct,f,o?f:g)(b):b===91?n.attempt(referenceFullConstruct,f,o?d:g)(b):o?f(b):g(b)}function d(b){return n.attempt(referenceCollapsedConstruct,f,g)(b)}function f(b){return t(b)}function g(b){return a._balanced=!0,e(b)}}function tokenizeResource(n,t,e){return i;function i(g){return n.enter("resource"),n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),s}function s(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(n,a)(g):a(g)}function a(g){return g===41?f(g):factoryDestination(n,o,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function o(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(n,h)(g):f(g)}function u(g){return e(g)}function h(g){return g===34||g===39||g===40?factoryTitle(n,d,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):f(g)}function d(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(n,f)(g):f(g)}function f(g){return g===41?(n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),n.exit("resource"),t):e(g)}}function tokenizeReferenceFull(n,t,e){const i=this;return s;function s(u){return factoryLabel.call(i,n,a,o,"reference","referenceMarker","referenceString")(u)}function a(u){return i.parser.defined.includes(normalizeIdentifier(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(u):e(u)}function o(u){return e(u)}}function tokenizeReferenceCollapsed(n,t,e){return i;function i(a){return n.enter("reference"),n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),s}function s(a){return a===93?(n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),n.exit("reference"),t):e(a)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(n,t,e){const i=this;return s;function s(u){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(u),n.exit("labelImageMarker"),a}function a(u){return u===91?(n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelImage"),o):e(u)}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(u):t(u)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(n,t,e){const i=this;return s;function s(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(o):t(o)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(n,t){return e;function e(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),factorySpace(n,t,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(n,t,e){let i=0,s;return a;function a(d){return n.enter("thematicBreak"),o(d)}function o(d){return s=d,u(d)}function u(d){return d===s?(n.enter("thematicBreakSequence"),h(d)):i>=3&&(d===null||markdownLineEnding(d))?(n.exit("thematicBreak"),t(d)):e(d)}function h(d){return d===s?(n.consume(d),i++,h):(n.exit("thematicBreakSequence"),markdownSpace(d)?factorySpace(n,u,"whitespace")(d):u(d))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(n,t,e){const i=this,s=i.events[i.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return u;function u(x){const E=i.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!i.containerState.marker||x===i.containerState.marker:asciiDigit(x)){if(i.containerState.type||(i.containerState.type=E,n.enter(E,{_container:!0})),E==="listUnordered")return n.enter("listItemPrefix"),x===42||x===45?n.check(thematicBreak$2,e,d)(x):d(x);if(!i.interrupt||x===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),h(x)}return e(x)}function h(x){return asciiDigit(x)&&++o<10?(n.consume(x),h):(!i.interrupt||o<2)&&(i.containerState.marker?x===i.containerState.marker:x===41||x===46)?(n.exit("listItemValue"),d(x)):e(x)}function d(x){return n.enter("listItemMarker"),n.consume(x),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||x,n.check(blankLine,i.interrupt?e:f,n.attempt(listItemPrefixWhitespaceConstruct,b,g))}function f(x){return i.containerState.initialBlankLine=!0,a++,b(x)}function g(x){return markdownSpace(x)?(n.enter("listItemPrefixWhitespace"),n.consume(x),n.exit("listItemPrefixWhitespace"),b):e(x)}function b(x){return i.containerState.size=a+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(x)}}function tokenizeListContinuation(n,t,e){const i=this;return i.containerState._closeFlow=void 0,n.check(blankLine,s,a);function s(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,factorySpace(n,t,"listItemIndent",i.containerState.size+1)(u)}function a(u){return i.containerState.furtherBlankLines||!markdownSpace(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(indentConstruct,t,o)(u))}function o(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,factorySpace(n,n.attempt(list$2,t,e),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function tokenizeIndent$1(n,t,e){const i=this;return factorySpace(n,s,"listItemIndent",i.containerState.size+1);function s(a){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(a):e(a)}}function tokenizeListEnd(n){n.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(n,t,e){const i=this;return factorySpace(n,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const o=i.events[i.events.length-1];return!markdownSpace(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):e(a)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(n,t){let e=n.length,i,s,a;for(;e--;)if(n[e][0]==="enter"){if(n[e][1].type==="content"){i=e;break}n[e][1].type==="paragraph"&&(s=e)}else n[e][1].type==="content"&&n.splice(e,1),!a&&n[e][1].type==="definition"&&(a=e);const o={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[s][1].type="setextHeadingText",a?(n.splice(s,0,["enter",o,t]),n.splice(a+1,0,["exit",n[i][1],t]),n[i][1].end={...n[a][1].end}):n[i][1]=o,n.push(["exit",o,t]),n}function tokenizeSetextUnderline(n,t,e){const i=this;let s;return a;function a(d){let f=i.events.length,g;for(;f--;)if(i.events[f][1].type!=="lineEnding"&&i.events[f][1].type!=="linePrefix"&&i.events[f][1].type!=="content"){g=i.events[f][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(n.enter("setextHeadingLine"),s=d,o(d)):e(d)}function o(d){return n.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===s?(n.consume(d),u):(n.exit("setextHeadingLineSequence"),markdownSpace(d)?factorySpace(n,h,"lineSuffix")(d):h(d))}function h(d){return d===null||markdownLineEnding(d)?(n.exit("setextHeadingLine"),t(d)):e(d)}}const flow$1={tokenize:initializeFlow};function initializeFlow(n){const t=this,e=n.attempt(blankLine,i,n.attempt(this.parser.constructs.flowInitial,s,factorySpace(n,n.attempt(this.parser.constructs.flow,s,n.attempt(content,s)),"linePrefix")));return e;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEndingBlank"),n.consume(a),n.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function s(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),t.currentConstruct=void 0,e}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(n){return{resolveAll:createResolver(n==="text"?resolveAllLineSuffixes:void 0),tokenize:t};function t(e){const i=this,s=this.parser.constructs[n],a=e.attempt(s,o,u);return o;function o(f){return d(f)?a(f):u(f)}function u(f){if(f===null){e.consume(f);return}return e.enter("data"),e.consume(f),h}function h(f){return d(f)?(e.exit("data"),a(f)):(e.consume(f),h)}function d(f){if(f===null)return!0;const g=s[f];let b=-1;if(g)for(;++b<g.length;){const x=g[b];if(!x.previous||x.previous.call(i,i.previous))return!0}return!1}}}function createResolver(n){return t;function t(e,i){let s=-1,a;for(;++s<=e.length;)a===void 0?e[s]&&e[s][1].type==="data"&&(a=s,s++):(!e[s]||e[s][1].type!=="data")&&(s!==a+2&&(e[a][1].end=e[s-1][1].end,e.splice(a+2,s-a-2),s=a+2),a=void 0);return n?n(e,i):e}}function resolveAllLineSuffixes(n,t){let e=0;for(;++e<=n.length;)if((e===n.length||n[e][1].type==="lineEnding")&&n[e-1][1].type==="data"){const i=n[e-1][1],s=t.sliceStream(i);let a=s.length,o=-1,u=0,h;for(;a--;){const d=s[a];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)u++,o--;if(o)break;o=-1}else if(d===-2)h=!0,u++;else if(d!==-1){a++;break}}if(t._contentTypeTextTrailing&&e===n.length&&(u=0),u){const d={type:e===n.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:i.start._bufferIndex+o,_index:i.start._index+a,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(n.splice(e,0,["enter",d,t],["exit",d,t]),e+=2)}e++}return n}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(n,t,e){let i={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const s={},a=[];let o=[],u=[];const h={attempt:H(B),check:H(F),consume:L,enter:P,exit:V,interrupt:H(F,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:E,parser:n,previous:null,sliceSerialize:b,sliceStream:x,write:g};let f=t.tokenize.call(d,h);return t.resolveAll&&a.push(t),d;function g(et){return o=push(o,et),R(),o[o.length-1]!==null?[]:(K(t,0),d.events=resolveAll(a,d.events,d),d.events)}function b(et,ut){return serializeChunks(x(et),ut)}function x(et){return sliceChunks(o,et)}function E(){const{_bufferIndex:et,_index:ut,line:Et,column:ot,offset:dt}=i;return{_bufferIndex:et,_index:ut,line:Et,column:ot,offset:dt}}function S(et){s[et.line]=et.column,G()}function R(){let et;for(;i._index<o.length;){const ut=o[i._index];if(typeof ut=="string")for(et=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===et&&i._bufferIndex<ut.length;)w(ut.charCodeAt(i._bufferIndex));else w(ut)}}function w(et){f=f(et)}function L(et){markdownLineEnding(et)?(i.line++,i.column=1,i.offset+=et===-3?2:1,G()):et!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=et}function P(et,ut){const Et=ut||{};return Et.type=et,Et.start=E(),d.events.push(["enter",Et,d]),u.push(Et),Et}function V(et){const ut=u.pop();return ut.end=E(),d.events.push(["exit",ut,d]),ut}function B(et,ut){K(et,ut.from)}function F(et,ut){ut.restore()}function H(et,ut){return Et;function Et(ot,dt,Q){let Z,it,Ct,I;return Array.isArray(ot)?pt(ot):"tokenize"in ot?pt([ot]):at(ot);function at(wt){return Lt;function Lt(Ot){const Xt=Ot!==null&&wt[Ot],jt=Ot!==null&&wt.null,ue=[...Array.isArray(Xt)?Xt:Xt?[Xt]:[],...Array.isArray(jt)?jt:jt?[jt]:[]];return pt(ue)(Ot)}}function pt(wt){return Z=wt,it=0,wt.length===0?Q:z(wt[it])}function z(wt){return Lt;function Lt(Ot){return I=J(),Ct=wt,wt.partial||(d.currentConstruct=wt),wt.name&&d.parser.constructs.disable.null.includes(wt.name)?Tt():wt.tokenize.call(ut?Object.assign(Object.create(d),ut):d,h,St,Tt)(Ot)}}function St(wt){return et(Ct,I),dt}function Tt(wt){return I.restore(),++it<Z.length?z(Z[it]):Q}}}function K(et,ut){et.resolveAll&&!a.includes(et)&&a.push(et),et.resolve&&splice(d.events,ut,d.events.length-ut,et.resolve(d.events.slice(ut),d)),et.resolveTo&&(d.events=et.resolveTo(d.events,d))}function J(){const et=E(),ut=d.previous,Et=d.currentConstruct,ot=d.events.length,dt=Array.from(u);return{from:ot,restore:Q};function Q(){i=et,d.previous=ut,d.currentConstruct=Et,d.events.length=ot,u=dt,G()}}function G(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function sliceChunks(n,t){const e=t.start._index,i=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let o;if(e===s)o=[n[e].slice(i,a)];else{if(o=n.slice(e,s),i>-1){const u=o[0];typeof u=="string"?o[0]=u.slice(i):o.shift()}a>0&&o.push(n[s].slice(0,a))}return o}function serializeChunks(n,t){let e=-1;const i=[];let s;for(;++e<n.length;){const a=n[e];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&s)continue;o=" ";break}default:o=String.fromCharCode(a)}s=a===-2,i.push(o)}return i.join("")}function parse(n){const i={constructs:combineExtensions([defaultConstructs,...(n||{}).extensions||[]]),content:s(content$1),defined:[],document:s(document$2),flow:s(flow$1),lazy:{},string:s(string$1),text:s(text$4)};return i;function s(a){return o;function o(u){return createTokenizer(i,a,u)}}}function postprocess(n){for(;!subtokenize(n););return n}const search=/[\0\t\n\r]/g;function preprocess(){let n=1,t="",e=!0,i;return s;function s(a,o,u){const h=[];let d,f,g,b,x;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),g=0,t="",e&&(a.charCodeAt(0)===65279&&g++,e=void 0);g<a.length;){if(search.lastIndex=g,d=search.exec(a),b=d&&d.index!==void 0?d.index:a.length,x=a.charCodeAt(b),!d){t=a.slice(g);break}if(x===10&&g===b&&i)h.push(-3),i=void 0;else switch(i&&(h.push(-5),i=void 0),g<b&&(h.push(a.slice(g,b)),n+=b-g),x){case 0:{h.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,h.push(-2);n++<f;)h.push(-1);break}case 10:{h.push(-4),n=1;break}default:i=!0,n=1}g=b+1}return u&&(i&&h.push(-5),t&&h.push(t),h.push(null)),h}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(n){return n.replace(characterEscapeOrReference,decode)}function decode(n,t,e){if(t)return t;if(e.charCodeAt(0)===35){const s=e.charCodeAt(1),a=s===120||s===88;return decodeNumericCharacterReference(e.slice(a?2:1),a?16:10)}return decodeNamedCharacterReference(e)||n}const own$2={}.hasOwnProperty;function fromMarkdown(n,t,e){return typeof t!="string"&&(e=t,t=void 0),compiler(e)(postprocess(parse(e).document().write(preprocess()(n,t,!0))))}function compiler(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Un),autolinkProtocol:J,autolinkEmail:J,atxHeading:a(ae),blockQuote:a(jt),characterEscape:J,characterReference:J,codeFenced:a(ue),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ue,o),codeText:a(Me,o),codeTextData:J,data:J,codeFlowValue:J,definition:a(Ft),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Yt),hardBreakEscape:a(ce),hardBreakTrailing:a(ce),htmlFlow:a(ge,o),htmlFlowData:J,htmlText:a(ge,o),htmlTextData:J,image:a(Ye),label:o,link:a(Un),listItem:a(Ke),listItemValue:b,listOrdered:a(zn,g),listUnordered:a(zn),paragraph:a(Xe),reference:z,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ae),strong:a(Zn),thematicBreak:a(_)},exit:{atxHeading:h(),atxHeadingSequence:B,autolink:h(),autolinkEmail:Xt,autolinkProtocol:Ot,blockQuote:h(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:Tt,characterReferenceMarkerNumeric:Tt,characterReferenceValue:wt,characterReference:Lt,codeFenced:h(R),codeFencedFence:S,codeFencedFenceInfo:x,codeFencedFenceMeta:E,codeFlowValue:G,codeIndented:h(w),codeText:h(dt),codeTextData:G,data:G,definition:h(),definitionDestinationString:V,definitionLabelString:L,definitionTitleString:P,emphasis:h(),hardBreakEscape:h(ut),hardBreakTrailing:h(ut),htmlFlow:h(Et),htmlFlowData:G,htmlText:h(ot),htmlTextData:G,image:h(Z),label:Ct,labelText:it,lineEnding:et,link:h(Q),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:St,resourceDestinationString:I,resourceTitleString:at,resource:pt,setextHeading:h(K),setextHeadingLineSequence:H,setextHeadingText:F,strong:h(),thematicBreak:h()}};configure(t,(n||{}).mdastExtensions||[]);const e={};return i;function i(Y){let M={type:"root",children:[]};const T={stack:[M],tokenStack:[],config:t,enter:u,exit:d,buffer:o,resume:f,data:e},C=[];let k=-1;for(;++k<Y.length;)if(Y[k][1].type==="listOrdered"||Y[k][1].type==="listUnordered")if(Y[k][0]==="enter")C.push(k);else{const j=C.pop();k=s(Y,j,k)}for(k=-1;++k<Y.length;){const j=t[Y[k][0]];own$2.call(j,Y[k][1].type)&&j[Y[k][1].type].call(Object.assign({sliceSerialize:Y[k][2].sliceSerialize},T),Y[k][1])}if(T.tokenStack.length>0){const j=T.tokenStack[T.tokenStack.length-1];(j[1]||defaultOnError).call(T,void 0,j[0])}for(M.position={start:point(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:point(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},k=-1;++k<t.transforms.length;)M=t.transforms[k](M)||M;return M}function s(Y,M,T){let C=M-1,k=-1,j=!1,q,X,ct,mt;for(;++C<=T;){const lt=Y[C];switch(lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{lt[0]==="enter"?k++:k--,mt=void 0;break}case"lineEndingBlank":{lt[0]==="enter"&&(q&&!mt&&!k&&!ct&&(ct=C),mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mt=void 0}if(!k&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||k===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(q){let vt=C;for(X=void 0;vt--;){const gt=Y[vt];if(gt[1].type==="lineEnding"||gt[1].type==="lineEndingBlank"){if(gt[0]==="exit")continue;X&&(Y[X][1].type="lineEndingBlank",j=!0),gt[1].type="lineEnding",X=vt}else if(!(gt[1].type==="linePrefix"||gt[1].type==="blockQuotePrefix"||gt[1].type==="blockQuotePrefixWhitespace"||gt[1].type==="blockQuoteMarker"||gt[1].type==="listItemIndent"))break}ct&&(!X||ct<X)&&(q._spread=!0),q.end=Object.assign({},X?Y[X][1].start:lt[1].end),Y.splice(X||C,0,["exit",q,lt[2]]),C++,T++}if(lt[1].type==="listItemPrefix"){const vt={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0};q=vt,Y.splice(C,0,["enter",vt,lt[2]]),C++,T++,ct=void 0,mt=!0}}}return Y[M][1]._spread=j,T}function a(Y,M){return T;function T(C){u.call(this,Y(C),C),M&&M.call(this,C)}}function o(){this.stack.push({type:"fragment",children:[]})}function u(Y,M,T){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([M,T||void 0]),Y.position={start:point(M.start),end:void 0}}function h(Y){return M;function M(T){Y&&Y.call(this,T),d.call(this,T)}}function d(Y,M){const T=this.stack.pop(),C=this.tokenStack.pop();if(C)C[0].type!==Y.type&&(M?M.call(this,Y,C[0]):(C[1]||defaultOnError).call(this,Y,C[0]));else throw new Error("Cannot close `"+Y.type+"` ("+stringifyPosition({start:Y.start,end:Y.end})+"): its not open");T.position.end=point(Y.end)}function f(){return toString$1(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function b(Y){if(this.data.expectingFirstListItemValue){const M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function x(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.lang=Y}function E(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.meta=Y}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.value=Y.replace(/(\r?\n|\r)$/g,"")}function L(Y){const M=this.resume(),T=this.stack[this.stack.length-1];T.label=M,T.identifier=normalizeIdentifier(this.sliceSerialize(Y)).toLowerCase()}function P(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.title=Y}function V(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.url=Y}function B(Y){const M=this.stack[this.stack.length-1];if(!M.depth){const T=this.sliceSerialize(Y).length;M.depth=T}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function H(Y){const M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function K(){this.data.setextHeadingSlurpLineEnding=void 0}function J(Y){const T=this.stack[this.stack.length-1].children;let C=T[T.length-1];(!C||C.type!=="text")&&(C=Fi(),C.position={start:point(Y.start),end:void 0},T.push(C)),this.stack.push(C)}function G(Y){const M=this.stack.pop();M.value+=this.sliceSerialize(Y),M.position.end=point(Y.end)}function et(Y){const M=this.stack[this.stack.length-1];if(this.data.atHardBreak){const T=M.children[M.children.length-1];T.position.end=point(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(M.type)&&(J.call(this,Y),G.call(this,Y))}function ut(){this.data.atHardBreak=!0}function Et(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.value=Y}function ot(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.value=Y}function dt(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.value=Y}function Q(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=M,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function Z(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=M,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function it(Y){const M=this.sliceSerialize(Y),T=this.stack[this.stack.length-2];T.label=decodeString(M),T.identifier=normalizeIdentifier(M).toLowerCase()}function Ct(){const Y=this.stack[this.stack.length-1],M=this.resume(),T=this.stack[this.stack.length-1];if(this.data.inReference=!0,T.type==="link"){const C=Y.children;T.children=C}else T.alt=M}function I(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.url=Y}function at(){const Y=this.resume(),M=this.stack[this.stack.length-1];M.title=Y}function pt(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function St(Y){const M=this.resume(),T=this.stack[this.stack.length-1];T.label=M,T.identifier=normalizeIdentifier(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function Tt(Y){this.data.characterReferenceType=Y.type}function wt(Y){const M=this.sliceSerialize(Y),T=this.data.characterReferenceType;let C;T?(C=decodeNumericCharacterReference(M,T==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):C=decodeNamedCharacterReference(M);const k=this.stack[this.stack.length-1];k.value+=C}function Lt(Y){const M=this.stack.pop();M.position.end=point(Y.end)}function Ot(Y){G.call(this,Y);const M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(Y)}function Xt(Y){G.call(this,Y);const M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(Y)}function jt(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function Me(){return{type:"inlineCode",value:""}}function Ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Yt(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function ge(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function Un(){return{type:"link",title:null,url:"",children:[]}}function zn(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function Ke(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function Xe(){return{type:"paragraph",children:[]}}function Zn(){return{type:"strong",children:[]}}function Fi(){return{type:"text",value:""}}function _(){return{type:"thematicBreak"}}}function point(n){return{line:n.line,column:n.column,offset:n.offset}}function configure(n,t){let e=-1;for(;++e<t.length;){const i=t[e];Array.isArray(i)?configure(n,i):extension(n,i)}}function extension(n,t){let e;for(e in t)if(own$2.call(t,e))switch(e){case"canContainEols":{const i=t[e];i&&n[e].push(...i);break}case"transforms":{const i=t[e];i&&n[e].push(...i);break}case"enter":case"exit":{const i=t[e];i&&Object.assign(n[e],i);break}}}function defaultOnError(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+stringifyPosition({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+stringifyPosition({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+stringifyPosition({start:t.start,end:t.end})+") is still open")}function remarkParse(n){const t=this;t.parser=e;function e(i){return fromMarkdown(i,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function blockquote$1(n,t){const e={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,e),n.applyData(t,e)}function hardBreak$1(n,t){const e={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,e),[n.applyData(t,e),{type:"text",value:`
`}]}function code$2(n,t){const e=t.value?t.value+`
`:"",i={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(i.className=["language-"+s[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:e}]};return t.meta&&(a.data={meta:t.meta}),n.patch(t,a),a=n.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},n.patch(t,a),a}function strikethrough(n,t){const e={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function emphasis$1(n,t){const e={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function footnoteReference$1(n,t){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=normalizeUri(i.toLowerCase()),a=n.footnoteOrder.indexOf(i);let o,u=n.footnoteCounts.get(i);u===void 0?(u=0,n.footnoteOrder.push(i),o=n.footnoteOrder.length):o=a+1,u+=1,n.footnoteCounts.set(i,u);const h={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+s,id:e+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(t,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return n.patch(t,d),n.applyData(t,d)}function heading$1(n,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function html$1(n,t){if(n.options.allowDangerousHtml){const e={type:"raw",value:t.value};return n.patch(t,e),n.applyData(t,e)}}function revert(n,t){const e=t.referenceType;let i="]";if(e==="collapsed"?i+="[]":e==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=n.all(t),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const o=s[s.length-1];return o&&o.type==="text"?o.value+=i:s.push({type:"text",value:i}),s}function imageReference$1(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return revert(n,t);const s={src:normalizeUri(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"img",properties:s,children:[]};return n.patch(t,a),n.applyData(t,a)}function image$1(n,t){const e={src:normalizeUri(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"img",properties:e,children:[]};return n.patch(t,i),n.applyData(t,i)}function inlineCode$1(n,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,e);const i={type:"element",tagName:"code",properties:{},children:[e]};return n.patch(t,i),n.applyData(t,i)}function linkReference$1(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return revert(n,t);const s={href:normalizeUri(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"a",properties:s,children:n.all(t)};return n.patch(t,a),n.applyData(t,a)}function link$1(n,t){const e={href:normalizeUri(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"a",properties:e,children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function listItem$1(n,t,e){const i=n.all(t),s=e?listLoose(e):listItemLoose(t),a={},o=[];if(typeof t.checked=="boolean"){const f=i[0];let g;f&&f.type==="element"&&f.tagName==="p"?g=f:(g={type:"element",tagName:"p",properties:{},children:[]},i.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const f=i[u];(s||u!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!s?o.push(...f.children):o.push(f)}const h=i[i.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:o};return n.patch(t,d),n.applyData(t,d)}function listLoose(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const e=n.children;let i=-1;for(;!t&&++i<e.length;)t=listItemLoose(e[i])}return t}function listItemLoose(n){const t=n.spread;return t??n.children.length>1}function list$1(n,t){const e={},i=n.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:n.wrap(i,!0)};return n.patch(t,a),n.applyData(t,a)}function paragraph$1(n,t){const e={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function root$1(n,t){const e={type:"root",children:n.wrap(n.all(t))};return n.patch(t,e),n.applyData(t,e)}function strong$1(n,t){const e={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function table(n,t){const e=n.all(t),i=e.shift(),s=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(t.children[0],o),s.push(o)}if(e.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(e,!0)},u=pointStart(t.children[1]),h=pointEnd(t.children[t.children.length-1]);u&&h&&(o.position={start:u,end:h}),s.push(o)}const a={type:"element",tagName:"table",properties:{},children:n.wrap(s,!0)};return n.patch(t,a),n.applyData(t,a)}function tableRow(n,t,e){const i=e?e.children:void 0,a=(i?i.indexOf(t):1)===0?"th":"td",o=e&&e.type==="table"?e.align:void 0,u=o?o.length:t.children.length;let h=-1;const d=[];for(;++h<u;){const g=t.children[h],b={},x=o?o[h]:void 0;x&&(b.align=x);let E={type:"element",tagName:a,properties:b,children:[]};g&&(E.children=n.all(g),n.patch(g,E),E=n.applyData(g,E)),d.push(E)}const f={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(t,f),n.applyData(t,f)}function tableCell(n,t){const e={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}const tab=9,space=32;function trimLines(n){const t=String(n),e=/\r?\n|\r/g;let i=e.exec(t),s=0;const a=[];for(;i;)a.push(trimLine(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=e.exec(t);return a.push(trimLine(t.slice(s),s>0,!1)),a.join("")}function trimLine(n,t,e){let i=0,s=n.length;if(t){let a=n.codePointAt(i);for(;a===tab||a===space;)i++,a=n.codePointAt(i)}if(e){let a=n.codePointAt(s-1);for(;a===tab||a===space;)s--,a=n.codePointAt(s-1)}return s>i?n.slice(i,s):""}function text$2(n,t){const e={type:"text",value:trimLines(String(t.value))};return n.patch(t,e),n.applyData(t,e)}function thematicBreak$1(n,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,e),n.applyData(t,e)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$1,strong:strong$1,table,tableCell,tableRow,text:text$2,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(n,t)=>{const e=(s,a)=>(n.set(a,s),s),i=s=>{if(n.has(s))return n.get(s);const[a,o]=t[s];switch(a){case PRIMITIVE:case VOID:return e(o,s);case ARRAY:{const u=e([],s);for(const h of o)u.push(i(h));return u}case OBJECT:{const u=e({},s);for(const[h,d]of o)u[i(h)]=i(d);return u}case DATE:return e(new Date(o),s);case REGEXP:{const{source:u,flags:h}=o;return e(new RegExp(u,h),s)}case MAP:{const u=e(new Map,s);for(const[h,d]of o)u.set(i(h),i(d));return u}case SET:{const u=e(new Set,s);for(const h of o)u.add(i(h));return u}case ERROR:{const{name:u,message:h}=o;return e(new env[u](h),s)}case BIGINT:return e(BigInt(o),s);case"BigInt":return e(Object(BigInt(o)),s);case"ArrayBuffer":return e(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:u}=new Uint8Array(o);return e(new DataView(u),o)}}return e(new env[a](o),s)};return i},deserialize=n=>deserializer(new Map,n)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=n=>{const t=typeof n;if(t!=="object"||!n)return[PRIMITIVE,t];const e=toString.call(n).slice(8,-1);switch(e){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,e]}return e.includes("Array")?[ARRAY,e]:e.includes("Error")?[ERROR,e]:[OBJECT,e]},shouldSkip=([n,t])=>n===PRIMITIVE&&(t==="function"||t==="symbol"),serializer=(n,t,e,i)=>{const s=(o,u)=>{const h=i.push(o)-1;return e.set(u,h),h},a=o=>{if(e.has(o))return e.get(o);let[u,h]=typeOf(o);switch(u){case PRIMITIVE:{let f=o;switch(h){case"bigint":u=BIGINT,f=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+h);f=null;break;case"undefined":return s([VOID],o)}return s([u,f],o)}case ARRAY:{if(h){let b=o;return h==="DataView"?b=new Uint8Array(o.buffer):h==="ArrayBuffer"&&(b=new Uint8Array(o)),s([h,[...b]],o)}const f=[],g=s([u,f],o);for(const b of o)f.push(a(b));return g}case OBJECT:{if(h)switch(h){case"BigInt":return s([h,o.toString()],o);case"Boolean":case"Number":case"String":return s([h,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const f=[],g=s([u,f],o);for(const b of keys(o))(n||!shouldSkip(typeOf(o[b])))&&f.push([a(b),a(o[b])]);return g}case DATE:return s([u,o.toISOString()],o);case REGEXP:{const{source:f,flags:g}=o;return s([u,{source:f,flags:g}],o)}case MAP:{const f=[],g=s([u,f],o);for(const[b,x]of o)(n||!(shouldSkip(typeOf(b))||shouldSkip(typeOf(x))))&&f.push([a(b),a(x)]);return g}case SET:{const f=[],g=s([u,f],o);for(const b of o)(n||!shouldSkip(typeOf(b)))&&f.push(a(b));return g}}const{message:d}=o;return s([u,{name:h,message:d}],o)};return a},serialize$1=(n,{json:t,lossy:e}={})=>{const i=[];return serializer(!(t||e),!!t,new Map,i)(n),i},structuredClone$1=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?deserialize(serialize$1(n,t)):structuredClone(n):(n,t)=>deserialize(serialize$1(n,t));function defaultFootnoteBackContent(n,t){const e=[{type:"text",value:""}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function defaultFootnoteBackLabel(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function footer(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",e=n.options.footnoteBackContent||defaultFootnoteBackContent,i=n.options.footnoteBackLabel||defaultFootnoteBackLabel,s=n.options.footnoteLabel||"Footnotes",a=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let h=-1;for(;++h<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[h]);if(!d)continue;const f=n.all(d),g=String(d.identifier).toUpperCase(),b=normalizeUri(g.toLowerCase());let x=0;const E=[],S=n.footnoteCounts.get(g);for(;S!==void 0&&++x<=S;){E.length>0&&E.push({type:"text",value:" "});let L=typeof e=="string"?e:e(h,x);typeof L=="string"&&(L={type:"text",value:L}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(h,x),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const R=f[f.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const L=R.children[R.children.length-1];L&&L.type==="text"?L.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...E)}else f.push(...E);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:n.wrap(f,!0)};n.patch(d,w),u.push(w)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...structuredClone$1(o),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(u,!0)},{type:"text",value:`
`}]}}const convert=function(n){if(n==null)return ok;if(typeof n=="function")return castFactory(n);if(typeof n=="object")return Array.isArray(n)?anyFactory(n):propertiesFactory(n);if(typeof n=="string")return typeFactory(n);throw new Error("Expected function, string, or object as test")};function anyFactory(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=convert(n[e]);return castFactory(i);function i(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function propertiesFactory(n){const t=n;return castFactory(e);function e(i){const s=i;let a;for(a in n)if(s[a]!==t[a])return!1;return!0}}function typeFactory(n){return castFactory(t);function t(e){return e&&e.type===n}}function castFactory(n){return t;function t(e,i,s){return!!(looksLikeANode(e)&&n.call(this,e,typeof i=="number"?i:void 0,s||void 0))}}function ok(){return!0}function looksLikeANode(n){return n!==null&&typeof n=="object"&&"type"in n}function color(n){return n}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(n,t,e,i){let s;typeof t=="function"&&typeof e!="function"?(i=e,e=t):s=t;const a=convert(s),o=i?-1:1;u(n,void 0,[])();function u(h,d,f){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(h.type+(x?"<"+x+">":""))+")"})}return b;function b(){let x=empty,E,S,R;if((!t||a(h,d,f[f.length-1]||void 0))&&(x=toResult(e(h,f)),x[0]===EXIT))return x;if("children"in h&&h.children){const w=h;if(w.children&&x[0]!==SKIP)for(S=(i?w.children.length:-1)+o,R=f.concat(w);S>-1&&S<w.children.length;){const L=w.children[S];if(E=u(L,S,R)(),E[0]===EXIT)return E;S=typeof E[1]=="number"?E[1]:S+o}}return x}}}function toResult(n){return Array.isArray(n)?n:typeof n=="number"?[CONTINUE,n]:n==null?empty:[n]}function visit(n,t,e,i){let s,a,o;typeof t=="function"&&typeof e!="function"?(a=void 0,o=t,s=e):(a=t,o=e,s=i),visitParents(n,a,u,s);function u(h,d){const f=d[d.length-1],g=f?f.children.indexOf(h):void 0;return o(h,g,f)}}const own$1={}.hasOwnProperty,emptyOptions$1={};function createState(n,t){const e=t||emptyOptions$1,i=new Map,s=new Map,a=new Map,o={...handlers,...e.handlers},u={all:d,applyData,definitionById:i,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:o,one:h,options:e,patch,wrap:wrap$1};return visit(n,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const g=f.type==="definition"?i:s,b=String(f.identifier).toUpperCase();g.has(b)||g.set(b,f)}}),u;function h(f,g){const b=f.type,x=u.handlers[b];if(own$1.call(u.handlers,b)&&x)return x(u,f,g);if(u.options.passThrough&&u.options.passThrough.includes(b)){if("children"in f){const{children:S,...R}=f,w=structuredClone$1(R);return w.children=u.all(f),w}return structuredClone$1(f)}return(u.options.unknownHandler||defaultUnknownHandler)(u,f,g)}function d(f){const g=[];if("children"in f){const b=f.children;let x=-1;for(;++x<b.length;){const E=u.one(b[x],f);if(E){if(x&&b[x-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=trimMarkdownSpaceStart(E.value)),!Array.isArray(E)&&E.type==="element")){const S=E.children[0];S&&S.type==="text"&&(S.value=trimMarkdownSpaceStart(S.value))}Array.isArray(E)?g.push(...E):g.push(E)}}}return g}}function patch(n,t){n.position&&(t.position=position$1(n))}function applyData(n,t){let e=t;if(n&&n.data){const i=n.data.hName,s=n.data.hChildren,a=n.data.hProperties;if(typeof i=="string")if(e.type==="element")e.tagName=i;else{const o="children"in e?e.children:[e];e={type:"element",tagName:i,properties:{},children:o}}e.type==="element"&&a&&Object.assign(e.properties,structuredClone$1(a)),"children"in e&&e.children&&s!==null&&s!==void 0&&(e.children=s)}return e}function defaultUnknownHandler(n,t){const e=t.data||{},i="value"in t&&!(own$1.call(e,"hProperties")||own$1.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function wrap$1(n,t){const e=[];let i=-1;for(t&&e.push({type:"text",value:`
`});++i<n.length;)i&&e.push({type:"text",value:`
`}),e.push(n[i]);return t&&n.length>0&&e.push({type:"text",value:`
`}),e}function trimMarkdownSpaceStart(n){let t=0,e=n.charCodeAt(t);for(;e===9||e===32;)t++,e=n.charCodeAt(t);return n.slice(t)}function toHast(n,t){const e=createState(n,t),i=e.one(n,void 0),s=footer(e),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function remarkRehype(n,t){return n&&"run"in n?async function(e,i){const s=toHast(e,{file:i,...t});await n.run(s,i)}:function(e,i){return toHast(e,{file:i,...n||t})}}function bail(n){if(n)throw n}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},a=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var f=n.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!g)return!1;var b;for(b in d);return typeof b>"u"||n.call(d,b)},o=function(d,f){e&&f.name==="__proto__"?e(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},u=function(d,f){if(f==="__proto__")if(n.call(d,f)){if(i)return i(d,f).value}else return;return d[f]};return extend$1=function h(){var d,f,g,b,x,E,S=arguments[0],R=1,w=arguments.length,L=!1;for(typeof S=="boolean"&&(L=S,S=arguments[1]||{},R=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});R<w;++R)if(d=arguments[R],d!=null)for(f in d)g=u(S,f),b=u(d,f),S!==b&&(L&&b&&(a(b)||(x=s(b)))?(x?(x=!1,E=g&&s(g)?g:[]):E=g&&a(g)?g:{},o(S,{name:f,newValue:h(L,E,b)})):typeof b<"u"&&o(S,{name:f,newValue:b}));return S},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function trough(){const n=[],t={run:e,use:i};return t;function e(...s){let a=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);u(null,...s);function u(h,...d){const f=n[++a];let g=-1;if(h){o(h);return}for(;++g<s.length;)(d[g]===null||d[g]===void 0)&&(d[g]=s[g]);s=d,f?wrap(f,u)(...d):o(null,...d)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return n.push(s),t}}function wrap(n,t){let e;return i;function i(...o){const u=n.length>o.length;let h;u&&o.push(s);try{h=n.apply(this,o)}catch(d){const f=d;if(u&&e)throw f;return s(f)}u||(h&&h.then&&typeof h.then=="function"?h.then(a,s):h instanceof Error?s(h):a(h))}function s(o,...u){e||(e=!0,t(o,...u))}function a(o){s(null,o)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(n);let e=0,i=-1,s=n.length,a;if(t===void 0||t.length===0||t.length>n.length){for(;s--;)if(n.codePointAt(s)===47){if(a){e=s+1;break}}else i<0&&(a=!0,i=s+1);return i<0?"":n.slice(e,i)}if(t===n)return"";let o=-1,u=t.length-1;for(;s--;)if(n.codePointAt(s)===47){if(a){e=s+1;break}}else o<0&&(a=!0,o=s+1),u>-1&&(n.codePointAt(s)===t.codePointAt(u--)?u<0&&(i=s):(u=-1,i=o));return e===i?i=o:i<0&&(i=n.length),n.slice(e,i)}function dirname(n){if(assertPath$1(n),n.length===0)return".";let t=-1,e=n.length,i;for(;--e;)if(n.codePointAt(e)===47){if(i){t=e;break}}else i||(i=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function extname(n){assertPath$1(n);let t=n.length,e=-1,i=0,s=-1,a=0,o;for(;t--;){const u=n.codePointAt(t);if(u===47){if(o){i=t+1;break}continue}e<0&&(o=!0,e=t+1),u===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||e<0||a===0||a===1&&s===e-1&&s===i+1?"":n.slice(s,e)}function join(...n){let t=-1,e;for(;++t<n.length;)assertPath$1(n[t]),n[t]&&(e=e===void 0?n[t]:e+"/"+n[t]);return e===void 0?".":normalize(e)}function normalize(n){assertPath$1(n);const t=n.codePointAt(0)===47;let e=normalizeString(n,!t);return e.length===0&&!t&&(e="."),e.length>0&&n.codePointAt(n.length-1)===47&&(e+="/"),t?"/"+e:e}function normalizeString(n,t){let e="",i=0,s=-1,a=0,o=-1,u,h;for(;++o<=n.length;){if(o<n.length)u=n.codePointAt(o);else{if(u===47)break;u=47}if(u===47){if(!(s===o-1||a===1))if(s!==o-1&&a===2){if(e.length<2||i!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(h=e.lastIndexOf("/"),h!==e.length-1){h<0?(e="",i=0):(e=e.slice(0,h),i=e.length-1-e.lastIndexOf("/")),s=o,a=0;continue}}else if(e.length>0){e="",i=0,s=o,a=0;continue}}t&&(e=e.length>0?e+"/..":"..",i=2)}else e.length>0?e+="/"+n.slice(s+1,o):e=n.slice(s+1,o),i=o-s-1;s=o,a=0}else u===46&&a>-1?a++:a=-1}return e}function assertPath$1(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const minproc={cwd};function cwd(){return"/"}function isUrl(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function urlToPath(n){if(typeof n=="string")n=new URL(n);else if(!isUrl(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return getPathFromURLPosix(n)}function getPathFromURLPosix(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=n.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const i=t.codePointAt(e+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(t){let e;t?isUrl(t)?e={path:t}:typeof t=="string"||isUint8Array$1(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<order.length;){const a=order[i];a in e&&e[a]!==void 0&&e[a]!==null&&(this[a]=a==="history"?[...e[a]]:e[a])}let s;for(s in e)order.includes(s)||(this[s]=e[s])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(t){assertNonEmpty(t,"basename"),assertPart(t,"basename"),this.path=minpath.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(t){assertPath(this.basename,"dirname"),this.path=minpath.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(t){if(assertPart(t,"extname"),assertPath(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){isUrl(t)&&(t=urlToPath(t)),assertNonEmpty(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(t){assertNonEmpty(t,"stem"),assertPart(t,"stem"),this.path=minpath.join(this.dirname||"",t+(this.extname||""))}fail(t,e,i){const s=this.message(t,e,i);throw s.fatal=!0,s}info(t,e,i){const s=this.message(t,e,i);return s.fatal=void 0,s}message(t,e,i){const s=new VFileMessage(t,e,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function assertPart(n,t){if(n&&n.includes(minpath.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function assertPath(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function isUint8Array$1(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const CallableInstance=function(n){const i=this.constructor.prototype,s=i[n],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,i),a},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const t=new Processor;let e=-1;for(;++e<this.attachers.length;){const i=this.attachers[e];t.use(...i)}return t.data(extend(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[t]=e,this):own.call(this.namespace,t)&&this.namespace[t]||void 0:t?(assertUnfrozen("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=e.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=vfile(t),i=this.parser||this.Parser;return assertParser("parse",i),i(String(e),e)}process(t,e){const i=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),e?s(void 0,e):new Promise(s);function s(a,o){const u=vfile(t),h=i.parse(u);i.run(h,u,function(f,g,b){if(f||!g||!b)return d(f);const x=g,E=i.stringify(x,b);looksLikeAValue(E)?b.value=E:b.result=E,d(f,b)});function d(f,g){f||!g?o(f):a?a(g):e(void 0,g)}}}processSync(t){let e=!1,i;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(t,s),assertDone("processSync","process",e),i;function s(a,o){e=!0,bail(a),i=o}}run(t,e,i){assertNode(t),this.freeze();const s=this.transformers;return!i&&typeof e=="function"&&(i=e,e=void 0),i?a(void 0,i):new Promise(a);function a(o,u){const h=vfile(e);s.run(t,h,d);function d(f,g,b){const x=g||t;f?u(f):o?o(x):i(void 0,x,b)}}}runSync(t,e){let i=!1,s;return this.run(t,e,a),assertDone("runSync","run",i),s;function a(o,u){bail(o),s=u,i=!0}}stringify(t,e){this.freeze();const i=vfile(e),s=this.compiler||this.Compiler;return assertCompiler("stringify",s),assertNode(t),s(t,i)}use(t,...e){const i=this.attachers,s=this.namespace;if(assertUnfrozen("use",this.frozen),t!=null)if(typeof t=="function")h(t,e);else if(typeof t=="object")Array.isArray(t)?u(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...g]=d;h(f,g)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(s.settings=extend(!0,s.settings,d.settings))}function u(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const g=d[f];a(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,f){let g=-1,b=-1;for(;++g<i.length;)if(i[g][0]===d){b=g;break}if(b===-1)i.push([d,...f]);else if(f.length>0){let[x,...E]=f;const S=i[b][1];isPlainObject(S)&&isPlainObject(x)&&(x=extend(!0,S,x)),i[b]=[d,x,...E]}}}}const unified=new Processor().freeze();function assertParser(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function assertCompiler(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function assertUnfrozen(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(n){if(!isPlainObject(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function assertDone(n,t,e){if(!e)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function vfile(n){return looksLikeAVFile(n)?n:new VFile(n)}function looksLikeAVFile(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function looksLikeAValue(n){return typeof n=="string"||isUint8Array(n)}function isUint8Array(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(n){const t=createProcessor(n),e=createFile(n);return post(t.runSync(t.parse(e),e),n)}function createProcessor(n){const t=n.rehypePlugins||emptyPlugins,e=n.remarkPlugins||emptyPlugins,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(e).use(remarkRehype,i).use(t)}function createFile(n){const t=n.children||"",e=new VFile;return typeof t=="string"&&(e.value=t),e}function post(n,t){const e=t.allowedElements,i=t.allowElement,s=t.components,a=t.disallowedElements,o=t.skipHtml,u=t.unwrapDisallowed,h=t.urlTransform||defaultUrlTransform;for(const f of deprecations)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+changelog+f.id,void 0);return visit(n,d),toJsxRuntime(n,{Fragment:jsxRuntimeExports.Fragment,components:s,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function d(f,g,b){if(f.type==="raw"&&b&&typeof g=="number")return o?b.children.splice(g,1):b.children[g]={type:"text",value:f.value},g;if(f.type==="element"){let x;for(x in urlAttributes)if(Object.hasOwn(urlAttributes,x)&&Object.hasOwn(f.properties,x)){const E=f.properties[x],S=urlAttributes[x];(S===null||S.includes(f.tagName))&&(f.properties[x]=h(String(E||""),x,f))}}if(f.type==="element"){let x=e?!e.includes(f.tagName):a?a.includes(f.tagName):!1;if(!x&&i&&typeof g=="number"&&(x=!i(f,g,b)),x&&b&&typeof g=="number")return u&&f.children?b.children.splice(g,1,...f.children):b.children.splice(g,1),g}}}function defaultUrlTransform(n){const t=n.indexOf(":"),e=n.indexOf("?"),i=n.indexOf("#"),s=n.indexOf("/");return t===-1||s!==-1&&t>s||e!==-1&&t>e||i!==-1&&t>i||safeProtocol.test(n.slice(0,t))?n:""}function ccount(n,t){const e=String(n);if(typeof t!="string")throw new TypeError("Expected character");let i=0,s=e.indexOf(t);for(;s!==-1;)i++,s=e.indexOf(t,s+t.length);return i}function escapeStringRegexp(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(n,t,e){const s=convert((e||{}).ignore||[]),a=toPairs(t);let o=-1;for(;++o<a.length;)visitParents(n,"text",u);function u(d,f){let g=-1,b;for(;++g<f.length;){const x=f[g],E=b?b.children:void 0;if(s(x,E?E.indexOf(x):void 0,b))return;b=x}if(b)return h(d,f)}function h(d,f){const g=f[f.length-1],b=a[o][0],x=a[o][1];let E=0;const R=g.children.indexOf(d);let w=!1,L=[];b.lastIndex=0;let P=b.exec(d.value);for(;P;){const V=P.index,B={index:P.index,input:P.input,stack:[...f,d]};let F=x(...P,B);if(typeof F=="string"&&(F=F.length>0?{type:"text",value:F}:void 0),F===!1?b.lastIndex=V+1:(E!==V&&L.push({type:"text",value:d.value.slice(E,V)}),Array.isArray(F)?L.push(...F):F&&L.push(F),E=V+P[0].length,w=!0),!b.global)break;P=b.exec(d.value)}return w?(E<d.value.length&&L.push({type:"text",value:d.value.slice(E)}),g.children.splice(R,1,...L)):L=[d],R+L.length}}function toPairs(n){const t=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const e=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<e.length;){const s=e[i];t.push([toExpression(s[0]),toFunction(s[1])])}return t}function toExpression(n){return typeof n=="string"?new RegExp(escapeStringRegexp(n),"g"):n}function toFunction(n){return typeof n=="function"?n:function(){return n}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function enterLiteralAutolinkValue(n){this.config.enter.autolinkProtocol.call(this,n)}function exitLiteralAutolinkHttp(n){this.config.exit.autolinkProtocol.call(this,n)}function exitLiteralAutolinkWww(n){this.config.exit.data.call(this,n);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(n)}function exitLiteralAutolinkEmail(n){this.config.exit.autolinkEmail.call(this,n)}function exitLiteralAutolink(n){this.exit(n)}function transformGfmAutolinkLiterals(n){findAndReplace(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(n,t,e,i,s){let a="";if(!previous(s)||(/^w/i.test(t)&&(e=t+e,t="",a="http://"),!isCorrectDomain(e)))return!1;const o=splitUrl(e+i);if(!o[0])return!1;const u={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[u,{type:"text",value:o[1]}]:u}function findEmail(n,t,e,i){return!previous(i,!0)||/[-\d_]$/.test(e)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+e,children:[{type:"text",value:t+"@"+e}]}}function isCorrectDomain(n){const t=n.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function splitUrl(n){const t=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!t)return[n,void 0];n=n.slice(0,t.index);let e=t[0],i=e.indexOf(")");const s=ccount(n,"(");let a=ccount(n,")");for(;i!==-1&&s>a;)n+=e.slice(0,i+1),e=e.slice(i+1),i=e.indexOf(")"),a++;return[n,e]}function previous(n,t){const e=n.input.charCodeAt(n.index-1);return(n.index===0||unicodeWhitespace(e)||unicodePunctuation(e))&&(!t||e!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function exitFootnoteCallString(n){const t=this.resume(),e=this.stack[this.stack.length-1];e.type,e.identifier=normalizeIdentifier(this.sliceSerialize(n)).toLowerCase(),e.label=t}function exitFootnoteCall(n){this.exit(n)}function exitFootnoteDefinitionLabelString(n){const t=this.resume(),e=this.stack[this.stack.length-1];e.type,e.identifier=normalizeIdentifier(this.sliceSerialize(n)).toLowerCase(),e.label=t}function exitFootnoteDefinition(n){this.exit(n)}function footnoteReferencePeek(){return"["}function footnoteReference(n,t,e,i){const s=e.createTracker(i);let a=s.move("[^");const o=e.enter("footnoteReference"),u=e.enter("reference");return a+=s.move(e.safe(e.associationId(n),{after:"]",before:a})),u(),o(),a+=s.move("]"),a}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(n){let t=!1;return n&&n.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:e,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function e(i,s,a,o){const u=a.createTracker(o);let h=u.move("[^");const d=a.enter("footnoteDefinition"),f=a.enter("label");return h+=u.move(a.safe(a.associationId(i),{before:h,after:"]"})),f(),h+=u.move("]:"),i.children&&i.children.length>0&&(u.shift(4),h+=u.move((t?`
`:" ")+a.indentLines(a.containerFlow(i,u.current()),t?mapAll:mapExceptFirst))),d(),h}}function mapExceptFirst(n,t,e){return t===0?n:mapAll(n,t,e)}function mapAll(n,t,e){return(e?"":"    ")+n}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(n){this.enter({type:"delete",children:[]},n)}function exitStrikethrough(n){this.exit(n)}function handleDelete(n,t,e,i){const s=e.createTracker(i),a=e.enter("strikethrough");let o=s.move("~~");return o+=e.containerPhrasing(n,{...s.current(),before:o,after:"~"}),o+=s.move("~~"),a(),o}function peekDelete(){return"~"}function defaultStringLength(n){return n.length}function markdownTable(n,t){const e=t||{},i=(e.align||[]).concat(),s=e.stringLength||defaultStringLength,a=[],o=[],u=[],h=[];let d=0,f=-1;for(;++f<n.length;){const S=[],R=[];let w=-1;for(n[f].length>d&&(d=n[f].length);++w<n[f].length;){const L=serialize(n[f][w]);if(e.alignDelimiters!==!1){const P=s(L);R[w]=P,(h[w]===void 0||P>h[w])&&(h[w]=P)}S.push(L)}o[f]=S,u[f]=R}let g=-1;if(typeof i=="object"&&"length"in i)for(;++g<d;)a[g]=toAlignment(i[g]);else{const S=toAlignment(i);for(;++g<d;)a[g]=S}g=-1;const b=[],x=[];for(;++g<d;){const S=a[g];let R="",w="";S===99?(R=":",w=":"):S===108?R=":":S===114&&(w=":");let L=e.alignDelimiters===!1?1:Math.max(1,h[g]-R.length-w.length);const P=R+"-".repeat(L)+w;e.alignDelimiters!==!1&&(L=R.length+L+w.length,L>h[g]&&(h[g]=L),x[g]=L),b[g]=P}o.splice(1,0,b),u.splice(1,0,x),f=-1;const E=[];for(;++f<o.length;){const S=o[f],R=u[f];g=-1;const w=[];for(;++g<d;){const L=S[g]||"";let P="",V="";if(e.alignDelimiters!==!1){const B=h[g]-(R[g]||0),F=a[g];F===114?P=" ".repeat(B):F===99?B%2?(P=" ".repeat(B/2+.5),V=" ".repeat(B/2-.5)):(P=" ".repeat(B/2),V=P):V=" ".repeat(B)}e.delimiterStart!==!1&&!g&&w.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&L==="")&&(e.delimiterStart!==!1||g)&&w.push(" "),e.alignDelimiters!==!1&&w.push(P),w.push(L),e.alignDelimiters!==!1&&w.push(V),e.padding!==!1&&w.push(" "),(e.delimiterEnd!==!1||g!==d-1)&&w.push("|")}E.push(e.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return E.join(`
`)}function serialize(n){return n==null?"":String(n)}function toAlignment(n){const t=typeof n=="string"?n.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function blockquote(n,t,e,i){const s=e.enter("blockquote"),a=e.createTracker(i);a.move("> "),a.shift(2);const o=e.indentLines(e.containerFlow(n,a.current()),map$1);return s(),o}function map$1(n,t,e){return">"+(e?"":" ")+n}function patternInScope(n,t){return listInScope(n,t.inConstruct,!0)&&!listInScope(n,t.notInConstruct,!1)}function listInScope(n,t,e){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return e;let i=-1;for(;++i<t.length;)if(n.includes(t[i]))return!0;return!1}function hardBreak(n,t,e,i){let s=-1;for(;++s<e.unsafe.length;)if(e.unsafe[s].character===`
`&&patternInScope(e.stack,e.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function longestStreak(n,t){const e=String(n);let i=e.indexOf(t),s=i,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++a>o&&(o=a):a=1,s=i+t.length,i=e.indexOf(t,s);return o}function formatCodeAsIndented(n,t){return!!(t.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function checkFence(n){const t=n.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function code$1(n,t,e,i){const s=checkFence(e),a=n.value||"",o=s==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(n,e)){const g=e.enter("codeIndented"),b=e.indentLines(a,map);return g(),b}const u=e.createTracker(i),h=s.repeat(Math.max(longestStreak(a,s)+1,3)),d=e.enter("codeFenced");let f=u.move(h);if(n.lang){const g=e.enter(`codeFencedLang${o}`);f+=u.move(e.safe(n.lang,{before:f,after:" ",encode:["`"],...u.current()})),g()}if(n.lang&&n.meta){const g=e.enter(`codeFencedMeta${o}`);f+=u.move(" "),f+=u.move(e.safe(n.meta,{before:f,after:`
`,encode:["`"],...u.current()})),g()}return f+=u.move(`
`),a&&(f+=u.move(a+`
`)),f+=u.move(h),d(),f}function map(n,t,e){return(e?"":"    ")+n}function checkQuote(n){const t=n.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function definition(n,t,e,i){const s=checkQuote(e),a=s==='"'?"Quote":"Apostrophe",o=e.enter("definition");let u=e.enter("label");const h=e.createTracker(i);let d=h.move("[");return d+=h.move(e.safe(e.associationId(n),{before:d,after:"]",...h.current()})),d+=h.move("]: "),u(),!n.url||/[\0- \u007F]/.test(n.url)?(u=e.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(e.safe(n.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(u=e.enter("destinationRaw"),d+=h.move(e.safe(n.url,{before:d,after:n.title?" ":`
`,...h.current()}))),u(),n.title&&(u=e.enter(`title${a}`),d+=h.move(" "+s),d+=h.move(e.safe(n.title,{before:d,after:s,...h.current()})),d+=h.move(s),u()),o(),d}function checkEmphasis(n){const t=n.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function encodeCharacterReference(n){return"&#x"+n.toString(16).toUpperCase()+";"}function encodeInfo(n,t,e){const i=classifyCharacter(n),s=classifyCharacter(t);return i===void 0?s===void 0?e==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(n,t,e,i){const s=checkEmphasis(e),a=e.enter("emphasis"),o=e.createTracker(i),u=o.move(s);let h=o.move(e.containerPhrasing(n,{after:s,before:u,...o.current()}));const d=h.charCodeAt(0),f=encodeInfo(i.before.charCodeAt(i.before.length-1),d,s);f.inside&&(h=encodeCharacterReference(d)+h.slice(1));const g=h.charCodeAt(h.length-1),b=encodeInfo(i.after.charCodeAt(0),g,s);b.inside&&(h=h.slice(0,-1)+encodeCharacterReference(g));const x=o.move(s);return a(),e.attentionEncodeSurroundingInfo={after:b.outside,before:f.outside},u+h+x}function emphasisPeek(n,t,e){return e.options.emphasis||"*"}function formatHeadingAsSetext(n,t){let e=!1;return visit(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return e=!0,EXIT}),!!((!n.depth||n.depth<3)&&toString$1(n)&&(t.options.setext||e))}function heading(n,t,e,i){const s=Math.max(Math.min(6,n.depth||1),1),a=e.createTracker(i);if(formatHeadingAsSetext(n,e)){const f=e.enter("headingSetext"),g=e.enter("phrasing"),b=e.containerPhrasing(n,{...a.current(),before:`
`,after:`
`});return g(),f(),b+`
`+(s===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const o="#".repeat(s),u=e.enter("headingAtx"),h=e.enter("phrasing");a.move(o+" ");let d=e.containerPhrasing(n,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(d)&&(d=encodeCharacterReference(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,e.options.closeAtx&&(d+=" "+o),h(),u(),d}html.peek=htmlPeek;function html(n){return n.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(n,t,e,i){const s=checkQuote(e),a=s==='"'?"Quote":"Apostrophe",o=e.enter("image");let u=e.enter("label");const h=e.createTracker(i);let d=h.move("![");return d+=h.move(e.safe(n.alt,{before:d,after:"]",...h.current()})),d+=h.move("]("),u(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(u=e.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(e.safe(n.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(u=e.enter("destinationRaw"),d+=h.move(e.safe(n.url,{before:d,after:n.title?" ":")",...h.current()}))),u(),n.title&&(u=e.enter(`title${a}`),d+=h.move(" "+s),d+=h.move(e.safe(n.title,{before:d,after:s,...h.current()})),d+=h.move(s),u()),d+=h.move(")"),o(),d}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(n,t,e,i){const s=n.referenceType,a=e.enter("imageReference");let o=e.enter("label");const u=e.createTracker(i);let h=u.move("![");const d=e.safe(n.alt,{before:h,after:"]",...u.current()});h+=u.move(d+"]["),o();const f=e.stack;e.stack=[],o=e.enter("reference");const g=e.safe(e.associationId(n),{before:h,after:"]",...u.current()});return o(),e.stack=f,a(),s==="full"||!d||d!==g?h+=u.move(g+"]"):s==="shortcut"?h=h.slice(0,-1):h+=u.move("]"),h}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(n,t,e){let i=n.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<e.unsafe.length;){const o=e.unsafe[a],u=e.compilePattern(o);let h;if(o.atBreak)for(;h=u.exec(i);){let d=h.index;i.charCodeAt(d)===10&&i.charCodeAt(d-1)===13&&d--,i=i.slice(0,d)+" "+i.slice(h.index+1)}}return s+i+s}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(n,t){const e=toString$1(n);return!!(!t.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(e===n.url||"mailto:"+e===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}link.peek=linkPeek;function link(n,t,e,i){const s=checkQuote(e),a=s==='"'?"Quote":"Apostrophe",o=e.createTracker(i);let u,h;if(formatLinkAsAutolink(n,e)){const f=e.stack;e.stack=[],u=e.enter("autolink");let g=o.move("<");return g+=o.move(e.containerPhrasing(n,{before:g,after:">",...o.current()})),g+=o.move(">"),u(),e.stack=f,g}u=e.enter("link"),h=e.enter("label");let d=o.move("[");return d+=o.move(e.containerPhrasing(n,{before:d,after:"](",...o.current()})),d+=o.move("]("),h(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(h=e.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(e.safe(n.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(h=e.enter("destinationRaw"),d+=o.move(e.safe(n.url,{before:d,after:n.title?" ":")",...o.current()}))),h(),n.title&&(h=e.enter(`title${a}`),d+=o.move(" "+s),d+=o.move(e.safe(n.title,{before:d,after:s,...o.current()})),d+=o.move(s),h()),d+=o.move(")"),u(),d}function linkPeek(n,t,e){return formatLinkAsAutolink(n,e)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(n,t,e,i){const s=n.referenceType,a=e.enter("linkReference");let o=e.enter("label");const u=e.createTracker(i);let h=u.move("[");const d=e.containerPhrasing(n,{before:h,after:"]",...u.current()});h+=u.move(d+"]["),o();const f=e.stack;e.stack=[],o=e.enter("reference");const g=e.safe(e.associationId(n),{before:h,after:"]",...u.current()});return o(),e.stack=f,a(),s==="full"||!d||d!==g?h+=u.move(g+"]"):s==="shortcut"?h=h.slice(0,-1):h+=u.move("]"),h}function linkReferencePeek(){return"["}function checkBullet(n){const t=n.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function checkBulletOther(n){const t=checkBullet(n),e=n.options.bulletOther;if(!e)return t==="*"?"-":"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(e===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+e+"`) to be different");return e}function checkBulletOrdered(n){const t=n.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function checkRule(n){const t=n.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function list(n,t,e,i){const s=e.enter("list"),a=e.bulletCurrent;let o=n.ordered?checkBulletOrdered(e):checkBullet(e);const u=n.ordered?o==="."?")":".":checkBulletOther(e);let h=t&&e.bulletLastUsed?o===e.bulletLastUsed:!1;if(!n.ordered){const f=n.children?n.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&e.stack[e.stack.length-1]==="list"&&e.stack[e.stack.length-2]==="listItem"&&e.stack[e.stack.length-3]==="list"&&e.stack[e.stack.length-4]==="listItem"&&e.indexStack[e.indexStack.length-1]===0&&e.indexStack[e.indexStack.length-2]===0&&e.indexStack[e.indexStack.length-3]===0&&(h=!0),checkRule(e)===o&&f){let g=-1;for(;++g<n.children.length;){const b=n.children[g];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(o=u),e.bulletCurrent=o;const d=e.containerFlow(n,i);return e.bulletLastUsed=o,e.bulletCurrent=a,s(),d}function checkListItemIndent(n){const t=n.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function listItem(n,t,e,i){const s=checkListItemIndent(e);let a=e.bulletCurrent||checkBullet(e);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(e.options.incrementListMarker===!1?0:t.children.indexOf(n))+a);let o=a.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||n.spread))&&(o=Math.ceil(o/4)*4);const u=e.createTracker(i);u.move(a+" ".repeat(o-a.length)),u.shift(o);const h=e.enter("listItem"),d=e.indentLines(e.containerFlow(n,u.current()),f);return h(),d;function f(g,b,x){return b?(x?"":" ".repeat(o))+g:(x?a:a+" ".repeat(o-a.length))+g}}function paragraph(n,t,e,i){const s=e.enter("paragraph"),a=e.enter("phrasing"),o=e.containerPhrasing(n,i);return a(),s(),o}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(n,t,e,i){return(n.children.some(function(o){return phrasing(o)})?e.containerPhrasing:e.containerFlow).call(e,n,i)}function checkStrong(n){const t=n.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}strong.peek=strongPeek;function strong(n,t,e,i){const s=checkStrong(e),a=e.enter("strong"),o=e.createTracker(i),u=o.move(s+s);let h=o.move(e.containerPhrasing(n,{after:s,before:u,...o.current()}));const d=h.charCodeAt(0),f=encodeInfo(i.before.charCodeAt(i.before.length-1),d,s);f.inside&&(h=encodeCharacterReference(d)+h.slice(1));const g=h.charCodeAt(h.length-1),b=encodeInfo(i.after.charCodeAt(0),g,s);b.inside&&(h=h.slice(0,-1)+encodeCharacterReference(g));const x=o.move(s+s);return a(),e.attentionEncodeSurroundingInfo={after:b.outside,before:f.outside},u+h+x}function strongPeek(n,t,e){return e.options.strong||"*"}function text$1(n,t,e,i){return e.safe(n.value,i)}function checkRuleRepetition(n){const t=n.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function thematicBreak(n,t,e){const i=(checkRule(e)+(e.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(e));return e.options.ruleSpaces?i.slice(0,-1):i}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(n){const t=n._align;this.enter({type:"table",align:t.map(function(e){return e==="none"?null:e}),children:[]},n),this.data.inTable=!0}function exitTable(n){this.exit(n),this.data.inTable=void 0}function enterRow(n){this.enter({type:"tableRow",children:[]},n)}function exit(n){this.exit(n)}function enterCell(n){this.enter({type:"tableCell",children:[]},n)}function exitCodeText(n){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,replace));const e=this.stack[this.stack.length-1];e.type,e.value=t,this.exit(n)}function replace(n,t){return t==="|"?t:n}function gfmTableToMarkdown(n){const t=n||{},e=t.tableCellPadding,i=t.tablePipeAlign,s=t.stringLength,a=e?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:o,tableCell:h,tableRow:u}};function o(x,E,S,R){return d(f(x,S,R),x.align)}function u(x,E,S,R){const w=g(x,S,R),L=d([w]);return L.slice(0,L.indexOf(`
`))}function h(x,E,S,R){const w=S.enter("tableCell"),L=S.enter("phrasing"),P=S.containerPhrasing(x,{...R,before:a,after:a});return L(),w(),P}function d(x,E){return markdownTable(x,{align:E,alignDelimiters:i,padding:e,stringLength:s})}function f(x,E,S){const R=x.children;let w=-1;const L=[],P=E.enter("table");for(;++w<R.length;)L[w]=g(R[w],E,S);return P(),L}function g(x,E,S){const R=x.children;let w=-1;const L=[],P=E.enter("tableRow");for(;++w<R.length;)L[w]=h(R[w],x,E,S);return P(),L}function b(x,E,S){let R=handle.inlineCode(x,E,S);return S.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(n){const t=this.stack[this.stack.length-2];t.type,t.checked=n.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(n){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const e=this.stack[this.stack.length-1];e.type;const i=e.children[0];if(i&&i.type==="text"){const s=t.children;let a=-1,o;for(;++a<s.length;){const u=s[a];if(u.type==="paragraph"){o=u;break}}o===e&&(i.value=i.value.slice(1),i.value.length===0?e.children.shift():e.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,e.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function listItemWithTaskListItem(n,t,e,i){const s=n.children[0],a=typeof n.checked=="boolean"&&s&&s.type==="paragraph",o="["+(n.checked?"x":" ")+"] ",u=e.createTracker(i);a&&u.move(o);let h=handle.listItem(n,t,e,{...i,...u.current()});return a&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),h;function d(f){return f+o}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(n){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(n),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(n),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(n,t,e){const i=this;let s,a;return o;function o(g){return!gfmAtext(g)||!previousEmail.call(i,i.previous)||previousUnbalanced(i.events)?e(g):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),u(g))}function u(g){return gfmAtext(g)?(n.consume(g),u):g===64?(n.consume(g),h):e(g)}function h(g){return g===46?n.check(emailDomainDotTrail,f,d)(g):g===45||g===95||asciiAlphanumeric(g)?(a=!0,n.consume(g),h):f(g)}function d(g){return n.consume(g),s=!0,h}function f(g){return a&&s&&asciiAlpha(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),t(g)):e(g)}}function tokenizeWwwAutolink(n,t,e){const i=this;return s;function s(o){return o!==87&&o!==119||!previousWww.call(i,i.previous)||previousUnbalanced(i.events)?e(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(wwwPrefix,n.attempt(domain,n.attempt(path,a),e),e)(o))}function a(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),t(o)}}function tokenizeProtocolAutolink(n,t,e){const i=this;let s="",a=!1;return o;function o(g){return(g===72||g===104)&&previousProtocol.call(i,i.previous)&&!previousUnbalanced(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),s+=String.fromCodePoint(g),n.consume(g),u):e(g)}function u(g){if(asciiAlpha(g)&&s.length<5)return s+=String.fromCodePoint(g),n.consume(g),u;if(g===58){const b=s.toLowerCase();if(b==="http"||b==="https")return n.consume(g),h}return e(g)}function h(g){return g===47?(n.consume(g),a?d:(a=!0,h)):e(g)}function d(g){return g===null||asciiControl(g)||markdownLineEndingOrSpace(g)||unicodeWhitespace(g)||unicodePunctuation(g)?e(g):n.attempt(domain,n.attempt(path,f),e)(g)}function f(g){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),t(g)}}function tokenizeWwwPrefix(n,t,e){let i=0;return s;function s(o){return(o===87||o===119)&&i<3?(i++,n.consume(o),s):o===46&&i===3?(n.consume(o),a):e(o)}function a(o){return o===null?e(o):t(o)}}function tokenizeDomain(n,t,e){let i,s,a;return o;function o(d){return d===46||d===95?n.check(trail,h,u)(d):d===null||markdownLineEndingOrSpace(d)||unicodeWhitespace(d)||d!==45&&unicodePunctuation(d)?h(d):(a=!0,n.consume(d),o)}function u(d){return d===95?i=!0:(s=i,i=void 0),n.consume(d),o}function h(d){return s||i||!a?e(d):t(d)}}function tokenizePath(n,t){let e=0,i=0;return s;function s(o){return o===40?(e++,n.consume(o),s):o===41&&i<e?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?n.check(trail,t,a)(o):o===null||markdownLineEndingOrSpace(o)||unicodeWhitespace(o)?t(o):(n.consume(o),s)}function a(o){return o===41&&i++,n.consume(o),s}}function tokenizeTrail(n,t,e){return i;function i(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(n.consume(u),i):u===38?(n.consume(u),a):u===93?(n.consume(u),s):u===60||u===null||markdownLineEndingOrSpace(u)||unicodeWhitespace(u)?t(u):e(u)}function s(u){return u===null||u===40||u===91||markdownLineEndingOrSpace(u)||unicodeWhitespace(u)?t(u):i(u)}function a(u){return asciiAlpha(u)?o(u):e(u)}function o(u){return u===59?(n.consume(u),i):asciiAlpha(u)?(n.consume(u),o):e(u)}}function tokenizeEmailDomainDotTrail(n,t,e){return i;function i(a){return n.consume(a),s}function s(a){return asciiAlphanumeric(a)?e(a):t(a)}}function previousWww(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||markdownLineEndingOrSpace(n)}function previousProtocol(n){return!asciiAlpha(n)}function previousEmail(n){return!(n===47||gfmAtext(n))}function gfmAtext(n){return n===43||n===45||n===46||n===95||asciiAlphanumeric(n)}function previousUnbalanced(n){let t=n.length,e=!1;for(;t--;){const i=n[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){e=!0;break}if(i._gfmAutolinkLiteralWalkedInto){e=!1;break}}return n.length>0&&!e&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),e}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(n,t,e){const i=this;let s=i.events.length;const a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o;for(;s--;){const h=i.events[s][1];if(h.type==="labelImage"){o=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return u;function u(h){if(!o||!o._balanced)return e(h);const d=normalizeIdentifier(i.sliceSerialize({start:o.end,end:i.now()}));return d.codePointAt(0)!==94||!a.includes(d.slice(1))?e(h):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(h),n.exit("gfmFootnoteCallLabelMarker"),t(h))}}function resolveToPotentialGfmFootnoteCall(n,t){let e=n.length;for(;e--;)if(n[e][1].type==="labelImage"&&n[e][0]==="enter"){n[e][1];break}n[e+1][1].type="data",n[e+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[e+3][1].start),end:Object.assign({},n[n.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},n[e+3][1].end),end:Object.assign({},n[e+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},n[n.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},u=[n[e+1],n[e+2],["enter",i,t],n[e+3],n[e+4],["enter",s,t],["exit",s,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],n[n.length-2],n[n.length-1],["exit",i,t]];return n.splice(e,n.length-e+1,...u),n}function tokenizeGfmFootnoteCall(n,t,e){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a=0,o;return u;function u(g){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(g),n.exit("gfmFootnoteCallLabelMarker"),h}function h(g){return g!==94?e(g):(n.enter("gfmFootnoteCallMarker"),n.consume(g),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",d)}function d(g){if(a>999||g===93&&!o||g===null||g===91||markdownLineEndingOrSpace(g))return e(g);if(g===93){n.exit("chunkString");const b=n.exit("gfmFootnoteCallString");return s.includes(normalizeIdentifier(i.sliceSerialize(b)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(g),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),t):e(g)}return markdownLineEndingOrSpace(g)||(o=!0),a++,n.consume(g),g===92?f:d}function f(g){return g===91||g===92||g===93?(n.consume(g),a++,d):d(g)}}function tokenizeDefinitionStart(n,t,e){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a,o=0,u;return h;function h(E){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(E),n.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(E){return E===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(E),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",f):e(E)}function f(E){if(o>999||E===93&&!u||E===null||E===91||markdownLineEndingOrSpace(E))return e(E);if(E===93){n.exit("chunkString");const S=n.exit("gfmFootnoteDefinitionLabelString");return a=normalizeIdentifier(i.sliceSerialize(S)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(E),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),b}return markdownLineEndingOrSpace(E)||(u=!0),o++,n.consume(E),E===92?g:f}function g(E){return E===91||E===92||E===93?(n.consume(E),o++,f):f(E)}function b(E){return E===58?(n.enter("definitionMarker"),n.consume(E),n.exit("definitionMarker"),s.includes(a)||s.push(a),factorySpace(n,x,"gfmFootnoteDefinitionWhitespace")):e(E)}function x(E){return t(E)}}function tokenizeDefinitionContinuation(n,t,e){return n.check(blankLine,t,n.attempt(indent,t,e))}function gfmFootnoteDefinitionEnd(n){n.exit("gfmFootnoteDefinition")}function tokenizeIndent(n,t,e){const i=this;return factorySpace(n,s,"gfmFootnoteDefinitionIndent",5);function s(a){const o=i.events[i.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):e(a)}}function gfmStrikethrough(n){let e=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:a,resolveAll:s};return e==null&&(e=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(o,u){let h=-1;for(;++h<o.length;)if(o[h][0]==="enter"&&o[h][1].type==="strikethroughSequenceTemporary"&&o[h][1]._close){let d=h;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[h][1].end.offset-o[h][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[h][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[h][1].end)},g={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[h][1].start)},b=[["enter",f,u],["enter",o[d][1],u],["exit",o[d][1],u],["enter",g,u]],x=u.parser.constructs.insideSpan.null;x&&splice(b,b.length,0,resolveAll(x,o.slice(d+1,h),u)),splice(b,b.length,0,[["exit",g,u],["enter",o[h][1],u],["exit",o[h][1],u],["exit",f,u]]),splice(o,d-1,h-d+3,b),h=d+b.length-2;break}}for(h=-1;++h<o.length;)o[h][1].type==="strikethroughSequenceTemporary"&&(o[h][1].type="data");return o}function a(o,u,h){const d=this.previous,f=this.events;let g=0;return b;function b(E){return d===126&&f[f.length-1][1].type!=="characterEscape"?h(E):(o.enter("strikethroughSequenceTemporary"),x(E))}function x(E){const S=classifyCharacter(d);if(E===126)return g>1?h(E):(o.consume(E),g++,x);if(g<2&&!e)return h(E);const R=o.exit("strikethroughSequenceTemporary"),w=classifyCharacter(E);return R._open=!w||w===2&&!!S,R._close=!S||S===2&&!!w,u(E)}}}class EditMap{constructor(){this.map=[]}add(t,e,i){addImplementation(this,t,e,i)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let e=this.map.length;const i=[];for(;e>0;)e-=1,i.push(t.slice(this.map[e][0]+this.map[e][1]),this.map[e][2]),t.length=this.map[e][0];i.push(t.slice()),t.length=0;let s=i.pop();for(;s;){for(const a of s)t.push(a);s=i.pop()}this.map.length=0}}function addImplementation(n,t,e,i){let s=0;if(!(e===0&&i.length===0)){for(;s<n.map.length;){if(n.map[s][0]===t){n.map[s][1]+=e,n.map[s][2].push(...i);return}s+=1}n.map.push([t,e,i])}}function gfmTableAlign(n,t){let e=!1;const i=[];for(;t<n.length;){const s=n[t];if(e){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(n[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(n[t-1][1].type==="tableDelimiterMarker"){const a=i.length-1;i[a]=i[a]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(e=!0);t+=1}return i}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(n,t,e){const i=this;let s=0,a=0,o;return u;function u(G){let et=i.events.length-1;for(;et>-1;){const ot=i.events[et][1].type;if(ot==="lineEnding"||ot==="linePrefix")et--;else break}const ut=et>-1?i.events[et][1].type:null,Et=ut==="tableHead"||ut==="tableRow"?F:h;return Et===F&&i.parser.lazy[i.now().line]?e(G):Et(G)}function h(G){return n.enter("tableHead"),n.enter("tableRow"),d(G)}function d(G){return G===124||(o=!0,a+=1),f(G)}function f(G){return G===null?e(G):markdownLineEnding(G)?a>1?(a=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(G),n.exit("lineEnding"),x):e(G):markdownSpace(G)?factorySpace(n,f,"whitespace")(G):(a+=1,o&&(o=!1,s+=1),G===124?(n.enter("tableCellDivider"),n.consume(G),n.exit("tableCellDivider"),o=!0,f):(n.enter("data"),g(G)))}function g(G){return G===null||G===124||markdownLineEndingOrSpace(G)?(n.exit("data"),f(G)):(n.consume(G),G===92?b:g)}function b(G){return G===92||G===124?(n.consume(G),g):g(G)}function x(G){return i.interrupt=!1,i.parser.lazy[i.now().line]?e(G):(n.enter("tableDelimiterRow"),o=!1,markdownSpace(G)?factorySpace(n,E,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):E(G))}function E(G){return G===45||G===58?R(G):G===124?(o=!0,n.enter("tableCellDivider"),n.consume(G),n.exit("tableCellDivider"),S):B(G)}function S(G){return markdownSpace(G)?factorySpace(n,R,"whitespace")(G):R(G)}function R(G){return G===58?(a+=1,o=!0,n.enter("tableDelimiterMarker"),n.consume(G),n.exit("tableDelimiterMarker"),w):G===45?(a+=1,w(G)):G===null||markdownLineEnding(G)?V(G):B(G)}function w(G){return G===45?(n.enter("tableDelimiterFiller"),L(G)):B(G)}function L(G){return G===45?(n.consume(G),L):G===58?(o=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(G),n.exit("tableDelimiterMarker"),P):(n.exit("tableDelimiterFiller"),P(G))}function P(G){return markdownSpace(G)?factorySpace(n,V,"whitespace")(G):V(G)}function V(G){return G===124?E(G):G===null||markdownLineEnding(G)?!o||s!==a?B(G):(n.exit("tableDelimiterRow"),n.exit("tableHead"),t(G)):B(G)}function B(G){return e(G)}function F(G){return n.enter("tableRow"),H(G)}function H(G){return G===124?(n.enter("tableCellDivider"),n.consume(G),n.exit("tableCellDivider"),H):G===null||markdownLineEnding(G)?(n.exit("tableRow"),t(G)):markdownSpace(G)?factorySpace(n,H,"whitespace")(G):(n.enter("data"),K(G))}function K(G){return G===null||G===124||markdownLineEndingOrSpace(G)?(n.exit("data"),H(G)):(n.consume(G),G===92?J:K)}function J(G){return G===92||G===124?(n.consume(G),K):K(G)}}function resolveTable(n,t){let e=-1,i=!0,s=0,a=[0,0,0,0],o=[0,0,0,0],u=!1,h=0,d,f,g;const b=new EditMap;for(;++e<n.length;){const x=n[e],E=x[1];x[0]==="enter"?E.type==="tableHead"?(u=!1,h!==0&&(flushTableEnd(b,t,h,d,f),f=void 0,h=0),d={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},b.add(e,0,[["enter",d,t]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(i=!0,g=void 0,a=[0,0,0,0],o=[0,e+1,0,0],u&&(u=!1,f={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},b.add(e,0,[["enter",f,t]])),s=E.type==="tableDelimiterRow"?2:f?3:1):s&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(i=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],g=flushCell(b,t,a,s,void 0,g),a=[0,0,0,0]),o[2]=e)):E.type==="tableCellDivider"&&(i?i=!1:(a[1]!==0&&(o[0]=o[1],g=flushCell(b,t,a,s,void 0,g)),a=o,o=[a[1],e,0,0])):E.type==="tableHead"?(u=!0,h=e):E.type==="tableRow"||E.type==="tableDelimiterRow"?(h=e,a[1]!==0?(o[0]=o[1],g=flushCell(b,t,a,s,e,g)):o[1]!==0&&(g=flushCell(b,t,o,s,e,g)),s=0):s&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(o[3]=e)}for(h!==0&&flushTableEnd(b,t,h,d,f),b.consume(t.events),e=-1;++e<t.events.length;){const x=t.events[e];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=gfmTableAlign(t.events,e))}return n}function flushCell(n,t,e,i,s,a){const o=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",u="tableContent";e[0]!==0&&(a.end=Object.assign({},getPoint(t.events,e[0])),n.add(e[0],0,[["exit",a,t]]));const h=getPoint(t.events,e[1]);if(a={type:o,start:Object.assign({},h),end:Object.assign({},h)},n.add(e[1],0,[["enter",a,t]]),e[2]!==0){const d=getPoint(t.events,e[2]),f=getPoint(t.events,e[3]),g={type:u,start:Object.assign({},d),end:Object.assign({},f)};if(n.add(e[2],0,[["enter",g,t]]),i!==2){const b=t.events[e[2]],x=t.events[e[3]];if(b[1].end=Object.assign({},x[1].end),b[1].type="chunkText",b[1].contentType="text",e[3]>e[2]+1){const E=e[2]+1,S=e[3]-e[2]-1;n.add(E,S,[])}}n.add(e[3]+1,0,[["exit",g,t]])}return s!==void 0&&(a.end=Object.assign({},getPoint(t.events,s)),n.add(s,0,[["exit",a,t]]),a=void 0),a}function flushTableEnd(n,t,e,i,s){const a=[],o=getPoint(t.events,e);s&&(s.end=Object.assign({},o),a.push(["exit",s,t])),i.end=Object.assign({},o),a.push(["exit",i,t]),n.add(e+1,0,a)}function getPoint(n,t){const e=n[t],i=e[0]==="enter"?"start":"end";return e[1][i]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(n,t,e){const i=this;return s;function s(h){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?e(h):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(h),n.exit("taskListCheckMarker"),a)}function a(h){return markdownLineEndingOrSpace(h)?(n.enter("taskListCheckValueUnchecked"),n.consume(h),n.exit("taskListCheckValueUnchecked"),o):h===88||h===120?(n.enter("taskListCheckValueChecked"),n.consume(h),n.exit("taskListCheckValueChecked"),o):e(h)}function o(h){return h===93?(n.enter("taskListCheckMarker"),n.consume(h),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),u):e(h)}function u(h){return markdownLineEnding(h)?t(h):markdownSpace(h)?n.check({tokenize:spaceThenNonSpace},t,e)(h):e(h)}}function spaceThenNonSpace(n,t,e){return factorySpace(n,i,"whitespace");function i(s){return s===null?e(s):t(s)}}function gfm(n){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(n),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(n){const t=this,e=n||emptyOptions,i=t.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),a=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),o=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(gfm(e)),a.push(gfmFromMarkdown()),o.push(gfmToMarkdown(e))}function BaseSubpage({title:n,intro:t,galleryImages:e,customDescription:i,learnMoreLink:s,leftAnimation:a=null,rightAnimation:o=null,bannerBackground:u=null}){const[h,d]=reactExports.useState(0),f=Array.isArray(e)?e:[],g=f.length;return reactExports.useEffect(()=>{function b(x){x.key==="ArrowLeft"&&d(E=>(E-1+g)%g),x.key==="ArrowRight"&&d(E=>(E+1)%g)}return g>0&&window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[g]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-gray-50 py-20 px-6 overflow-hidden",children:[u&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0",children:u}),jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto relative z-10",children:jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:n})})]}),jsxRuntimeExports.jsxs("div",{className:"relative px-6 py-16",children:[a&&jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-0 bottom-0 hidden lg:block",style:{width:"calc((100% - 64rem) / 2)",paddingRight:"12px"},children:a}),o&&jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 bottom-0 hidden lg:block",style:{width:"calc((100% - 64rem) / 2)",paddingLeft:"12px"},children:o}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[g>0&&jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-full h-96 bg-white rounded-lg overflow-hidden relative flex items-center justify-center border border-gray-200",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.img,{src:f[h],alt:`${n} - Gallery Image ${h+1}`,className:"max-w-full max-h-full object-contain",initial:{opacity:0,scale:1.02},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.5}},h)})}),g>1&&jsxRuntimeExports.jsx("button",{onClick:()=>d((h-1+g)%g),"aria-label":"Previous image",className:"absolute left-3 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full w-10 h-10 flex items-center justify-center shadow-md",children:""}),g>1&&jsxRuntimeExports.jsx("button",{onClick:()=>d((h+1)%g),"aria-label":"Next image",className:"absolute right-3 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full w-10 h-10 flex items-center justify-center shadow-md",children:""})]}),g>1&&jsxRuntimeExports.jsx("div",{className:"mt-4 flex justify-center items-center space-x-2",children:f.map((b,x)=>jsxRuntimeExports.jsx("button",{onClick:()=>d(x),"aria-label":`Show image ${x+1}`,className:`w-3 h-3 rounded-full ${x===h?"bg-indigo-600":"bg-gray-300"}`},x))})]}),jsxRuntimeExports.jsx("div",{className:"prose-custom",children:i}),s&&jsxRuntimeExports.jsx("div",{className:"mt-12",children:jsxRuntimeExports.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:["More Information",jsxRuntimeExports.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})]})}const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},DrawOPS={moveTo:0,lineTo:1,curveTo:2,closePath:3},PasswordResponses$1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(n){Number.isInteger(n)&&(verbosity=n)}function getVerbosityLevel(){return verbosity}function info(n){verbosity>=VerbosityLevel.INFOS&&console.info(`Info: ${n}`)}function warn(n){verbosity>=VerbosityLevel.WARNINGS&&console.warn(`Warning: ${n}`)}function unreachable(n){throw new Error(n)}function assert(n,t){n||unreachable(t)}function _isValidProtocol(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=stringToUTF8String(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return _isValidProtocol(i)?i:null}function updateUrlHash(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&createValidAbsoluteUrl(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function shadow(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const BaseException=function n(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class PasswordException extends BaseException{constructor(t,e){super(t,"PasswordException"),this.code=e}}class UnknownErrorException extends BaseException{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class InvalidPDFException extends BaseException{constructor(t){super(t,"InvalidPDFException")}}class ResponseException extends BaseException{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class FormatError extends BaseException{constructor(t){super(t,"FormatError")}}class AbortException extends BaseException{constructor(t){super(t,"AbortException")}}function bytesToString(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&unreachable("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),o=n.subarray(s,a);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function stringToBytes(n){typeof n!="string"&&unreachable("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function string32(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function isLittleEndian(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return shadow(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return shadow(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return shadow(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var na,Om,z1;class Util{static makeHexColor(t,e,i){return`#${hexNumbers[t]}${hexNumbers[e]}${hexNumbers[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const s=t[i],a=t[i+1];t[i]=s*e[0]+a*e[2]+e[4],t[i+1]=s*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const s=e[0],a=e[1],o=e[2],u=e[3],h=e[4],d=e[5];for(let f=0;f<6;f+=2){const g=t[i+f],b=t[i+f+1];t[i+f]=g*s+b*o+h,t[i+f+1]=g*a+b*u+d}}static applyInverseTransform(t,e){const i=t[0],s=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-i*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,i){const s=e[0],a=e[1],o=e[2],u=e[3],h=e[4],d=e[5],f=t[0],g=t[1],b=t[2],x=t[3];let E=s*f+h,S=E,R=s*b+h,w=R,L=u*g+d,P=L,V=u*x+d,B=V;if(a!==0||o!==0){const F=a*f,H=a*b,K=o*g,J=o*x;E+=K,w+=K,R+=J,S+=J,L+=F,B+=F,V+=H,P+=H}i[0]=Math.min(i[0],E,R,S,w),i[1]=Math.min(i[1],L,V,P,B),i[2]=Math.max(i[2],E,R,S,w),i[3]=Math.max(i[3],L,V,P,B)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],s=t[1],a=t[2],o=t[3],u=i**2+s**2,h=i*a+s*o,d=a**2+o**2,f=(u+d)/2,g=Math.sqrt(f**2-(u*d-h**2));e[0]=Math.sqrt(f+g||1),e[1]=Math.sqrt(f-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>o?null:[i,a,s,o]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,s,a){a[0]=Math.min(a[0],t,i),a[1]=Math.min(a[1],e,s),a[2]=Math.max(a[2],t,i),a[3]=Math.max(a[3],e,s)}static bezierBoundingBox(t,e,i,s,a,o,u,h,d){d[0]=Math.min(d[0],t,u),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,u),d[3]=Math.max(d[3],e,h),N(this,na,z1).call(this,t,i,a,u,e,s,o,h,3*(-t+3*(i-a)+u),6*(t-2*i+a),3*(i-t),d),N(this,na,z1).call(this,t,i,a,u,e,s,o,h,3*(-e+3*(s-o)+h),6*(e-2*s+o),3*(s-e),d)}}na=new WeakSet,Om=function(t,e,i,s,a,o,u,h,d,f){if(d<=0||d>=1)return;const g=1-d,b=d*d,x=b*d,E=g*(g*(g*t+3*d*e)+3*b*i)+x*s,S=g*(g*(g*a+3*d*o)+3*b*u)+x*h;f[0]=Math.min(f[0],E),f[1]=Math.min(f[1],S),f[2]=Math.max(f[2],E),f[3]=Math.max(f[3],S)},z1=function(t,e,i,s,a,o,u,h,d,f,g,b){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&N(this,na,Om).call(this,t,e,i,s,a,o,u,h,-g/f,b);return}const x=f**2-4*g*d;if(x<0)return;const E=Math.sqrt(x),S=2*d;N(this,na,Om).call(this,t,e,i,s,a,o,u,h,(-f+E)/S,b),N(this,na,Om).call(this,t,e,i,s,a,o,u,h,(-f-E)/S,b)},$(Util,na);function stringToUTF8String(n){return decodeURIComponent(escape(n))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(n){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),n.replaceAll(NormalizeRegex,(t,e,i)=>e?e.normalize("NFKC"):NormalizationMap.get(i))}function getUuid(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),bytesToString(n)}const AnnotationPrefix="pdfjs_internal_id_";function _isValidExplicitDest(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,s,...a]=e;if(!n(i)&&!Number.isInteger(i)||!t(s))return!1;const o=a.length;let u=!0;switch(s.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;u=!1;break;default:return!1}for(const h of a)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function MathClamp(n,t,e){return Math.min(Math.max(n,t),e)}function toBase64Util(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(bytesToString(n))}function fromBase64Util(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):stringToBytes(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class XfaText{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(a){var h;if(!a)return;let o=null;const u=a.name;if(u==="#text")o=a.value;else if(XfaText.shouldBuildText(u))(h=a==null?void 0:a.attributes)!=null&&h.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&e.push({str:o}),!!a.children)for(const d of a.children)s(d)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class XfaLayer{static setupStorage(t,e,i,s,a){const o=s.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),a==="print")break;t.addEventListener("input",u=>{s.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",u=>{s.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),a==="print")break;t.addEventListener("input",u=>{s.setValue(e,{value:u.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const u of i.children)u.attributes.value===o.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const h=u.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:a}){const{attributes:o}=e,u=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[h,d]of Object.entries(o))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!u||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}u&&a.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var g,b;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,a=t.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:a,linkService:i});const u=a!=="richText",h=t.div;if(h.append(o),t.viewport){const x=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=x}u&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const x=document.createTextNode(s.value);o.append(x),u&&XfaText.shouldBuildText(s.name)&&d.push(x)}return{textDivs:d}}const f=[[s,-1,o]];for(;f.length>0;){const[x,E,S]=f.at(-1);if(E+1===x.children.length){f.pop();continue}const R=x.children[++f.at(-1)[1]];if(R===null)continue;const{name:w}=R;if(w==="#text"){const P=document.createTextNode(R.value);d.push(P),S.append(P);continue}const L=(g=R==null?void 0:R.attributes)!=null&&g.xmlns?document.createElementNS(R.attributes.xmlns,w):document.createElement(w);if(S.append(L),R.attributes&&this.setAttributes({html:L,element:R,storage:e,intent:a,linkService:i}),((b=R.children)==null?void 0:b.length)>0)f.push([R,-1,L]);else if(R.value){const P=document.createTextNode(R.value);u&&XfaText.shouldBuildText(w)&&d.push(P),L.append(P)}}for(const x of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const SVG_NS="http://www.w3.org/2000/svg",Yo=class Yo{};At(Yo,"CSS",96),At(Yo,"PDF",72),At(Yo,"PDF_TO_CSS_UNITS",Yo.CSS/Yo.PDF);let PixelsPerInch=Yo;async function fetchData(n,t="text"){if(isValidFetchUrl(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class PageViewport{constructor({viewBox:t,userUnit:e,scale:i,rotation:s,offsetX:a=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=s,this.offsetX=a,this.offsetY=o,i*=e;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,g,b,x;switch(s%=360,s<0&&(s+=360),s){case 180:f=-1,g=0,b=0,x=1;break;case 90:f=0,g=1,b=1,x=0;break;case 270:f=0,g=-1,b=-1,x=0;break;case 0:f=1,g=0,b=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,x=-x);let E,S,R,w;f===0?(E=Math.abs(d-t[1])*i+a,S=Math.abs(h-t[0])*i+o,R=(t[3]-t[1])*i,w=(t[2]-t[0])*i):(E=Math.abs(h-t[0])*i+a,S=Math.abs(d-t[1])*i+o,R=(t[2]-t[0])*i,w=(t[3]-t[1])*i),this.transform=[f*i,g*i,b*i,x*i,E-f*i*h-b*i*d,S-g*i*h-x*i*d],this.width=R,this.height=w}get rawDims(){const t=this.viewBox;return shadow(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){const i=[t,e];return Util.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];Util.applyTransform(e,this.transform);const i=[t[2],t[3]];return Util.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return Util.applyInverseTransform(i,this.transform),i}}class RenderingCancelledException extends BaseException{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function isDataScheme(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function isPdfFile(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function getFilenameFromUrl(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(n,t="document.pdf"){if(typeof n!="string")return t;if(isDataScheme(n))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const s=u=>{try{let h=decodeURIComponent(u);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:u):h}catch{return u}},a=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(a.test(o))return s(o);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const d of u)if(a.test(d))return s(d);const h=Array.from(i.searchParams.keys()).reverse();for(const d of h)if(a.test(d))return s(d)}if(i.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(h)return s(h[0])}return t}class StatTimer{constructor(){At(this,"started",Object.create(null));At(this,"times",[])}time(t){t in this.started&&warn(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||warn(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:a}of this.times)t.push(`${i.padEnd(e)} ${a-s}ms
`);return t.join("")}}function isValidFetchUrl(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function noContextMenu(n){n.preventDefault()}function stopEvent(n){n.preventDefault(),n.stopPropagation()}function deprecated(n){console.log("Deprecated API usage: "+n)}var Hd;class PDFDateString{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;m(this,Hd)||D(this,Hd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=m(this,Hd).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,d==="-"?(o+=f,u+=g):d==="+"&&(o-=f,u-=g),new Date(Date.UTC(i,s,a,o,u,h))}}Hd=new WeakMap,$(PDFDateString,Hd);function getXfaPageViewport(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new PageViewport({viewBox:a,userUnit:1,scale:t,rotation:e})}function getRGB(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(warn(`Not a valid color format: "${n}"`),[0,0,0])}function getColorValues(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,getRGB(i))}t.remove()}function getCurrentTransform(n){const{a:t,b:e,c:i,d:s,e:a,f:o}=n.getTransform();return[t,e,i,s,a,o]}function getCurrentTransformInverse(n){const{a:t,b:e,c:i,d:s,e:a,f:o}=n.getTransform().invertSelf();return[t,e,i,s,a,o]}function setLayerDimensions(n,t,e=!1,i=!0){if(t instanceof PageViewport){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:o}=n,u=util_FeatureTest.isCSSRoundSupported,h=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${a}px`,f=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,g=u?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(o.width=f,o.height=g):(o.width=g,o.height=f)}i&&n.setAttribute("data-main-rotation",t.rotation)}class OutputScale{constructor(){const{pixelRatio:t}=OutputScale;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,s,a=-1){let o=1/0,u=1/0,h=1/0;i=OutputScale.capPixels(i,a),i>0&&(o=Math.sqrt(i/(t*e))),s!==-1&&(u=s/t,h=s/e);const d=Math.min(o,u,h);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const SupportedImageMimeTypes=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ColorScheme{static get isDarkMode(){var t;return shadow(this,"isDarkMode",!!((t=window==null?void 0:window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches))}}class CSSConstants{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),shadow(this,"commentForegroundColor",getRGB(i))}}function applyOpacity(n,t,e,i){i=Math.min(Math.max(i??1,0),1);const s=255*(1-i);return n=Math.round(n*i+s),t=Math.round(t*i+s),e=Math.round(e*i+s),[n,t,e]}function RGBToHSL(n,t){const e=n[0]/255,i=n[1]/255,s=n[2]/255,a=Math.max(e,i,s),o=Math.min(e,i,s),u=(a+o)/2;if(a===o)t[0]=t[1]=0;else{const h=a-o;switch(t[1]=u<.5?h/(a+o):h/(2-a-o),a){case e:t[0]=((i-s)/h+(i<s?6:0))*60;break;case i:t[0]=((s-e)/h+2)*60;break;case s:t[0]=((e-i)/h+4)*60;break}}t[2]=u}function HSLToRGB(n,t){const e=n[0],i=n[1],s=n[2],a=(1-Math.abs(2*s-1))*i,o=a*(1-Math.abs(e/60%2-1)),u=s-a/2;switch(Math.floor(e/60)){case 0:t[0]=a+u,t[1]=o+u,t[2]=u;break;case 1:t[0]=o+u,t[1]=a+u,t[2]=u;break;case 2:t[0]=u,t[1]=a+u,t[2]=o+u;break;case 3:t[0]=u,t[1]=o+u,t[2]=a+u;break;case 4:t[0]=o+u,t[1]=u,t[2]=a+u;break;case 5:case 6:t[0]=a+u,t[1]=u,t[2]=o+u;break}}function computeLuminance(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function contrastRatio(n,t,e){HSLToRGB(n,e),e.map(computeLuminance);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];HSLToRGB(t,e),e.map(computeLuminance);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>s?(i+.05)/(s+.05):(s+.05)/(i+.05)}const contrastCache=new Map;function findContrastColor(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=contrastCache.get(e);if(i)return i;const s=new Float32Array(9),a=s.subarray(0,3),o=s.subarray(3,6);RGBToHSL(n,o);const u=s.subarray(6,9);RGBToHSL(t,u);const h=u[2]<.5,d=h?12:4.5;if(o[2]=h?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),contrastRatio(o,u,a)<d){let f,g;h?(f=o[2],g=1):(f=0,g=o[2]);const b=.005;for(;g-f>b;){const x=o[2]=(f+g)/2;h===contrastRatio(o,u,a)<d?f=x:g=x}o[2]=h?g:f}return HSLToRGB(o,a),i=Util.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),contrastCache.set(e,i),i}function renderRichText({html:n,dir:t,className:e},i){const s=document.createDocumentFragment();if(typeof n=="string"){const a=document.createElement("p");a.dir=t||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let u=0,h=o.length;u<h;++u){const d=o[u];a.append(document.createTextNode(d)),u<h-1&&a.append(document.createElement("br"))}s.append(a)}else XfaLayer.render({xfaHtml:n,div:s,intent:"richText"});s.firstChild.classList.add("richText",e),i.append(s)}var Da,Ma,Xi,Wi,qd,Pa,ic,rc,Gd,fg,UE,Pn,zE,HE,Yu,Td;const vs=class vs{constructor(t){$(this,Pn);$(this,Da,null);$(this,Ma,null);$(this,Xi);$(this,Wi,null);$(this,qd,null);$(this,Pa,null);$(this,ic,null);$(this,rc,null);D(this,Xi,t),m(vs,Gd)||D(vs,Gd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=D(this,Da,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=m(this,Xi)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",noContextMenu,{signal:e}),t.addEventListener("pointerdown",N(vs,fg,UE),{signal:e}));const i=D(this,Wi,document.createElement("div"));i.className="buttons",t.append(i);const s=m(this,Xi).toolbarPosition;if(s){const{style:a}=t,o=m(this,Xi)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return m(this,Da)}hide(){var t;m(this,Da).classList.add("hidden"),(t=m(this,Ma))==null||t.hideDropdown()}show(){var t,e;m(this,Da).classList.remove("hidden"),(t=m(this,qd))==null||t.shown(),(e=m(this,Pa))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=m(this,Xi),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",m(vs,Gd)[t]),N(this,Pn,Yu).call(this,i)&&i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),m(this,Wi).append(i)}async addAltText(t){const e=await t.render();N(this,Pn,Yu).call(this,e),m(this,Wi).append(e,m(this,Pn,Td)),D(this,qd,t)}addComment(t,e=null){if(m(this,Pa))return;const i=t.renderForToolbar();if(!i)return;N(this,Pn,Yu).call(this,i);const s=D(this,ic,m(this,Pn,Td));e?(m(this,Wi).insertBefore(i,e),m(this,Wi).insertBefore(s,e)):m(this,Wi).append(i,s),D(this,Pa,t),t.toolbar=this}addColorPicker(t){if(m(this,Ma))return;D(this,Ma,t);const e=t.renderButton();N(this,Pn,Yu).call(this,e),m(this,Wi).append(e,m(this,Pn,Td))}async addEditSignatureButton(t){const e=D(this,rc,await t.renderEditButton(m(this,Xi)));N(this,Pn,Yu).call(this,e),m(this,Wi).append(e,m(this,Pn,Td))}removeButton(t){var e,i;switch(t){case"comment":(e=m(this,Pa))==null||e.removeToolbarCommentButton(),D(this,Pa,null),(i=m(this,ic))==null||i.remove(),D(this,ic,null);break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const s=m(this,Wi).querySelector(i);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){m(this,rc)&&(m(this,rc).title=t)}remove(){var t;m(this,Da).remove(),(t=m(this,Ma))==null||t.destroy(),D(this,Ma,null)}};Da=new WeakMap,Ma=new WeakMap,Xi=new WeakMap,Wi=new WeakMap,qd=new WeakMap,Pa=new WeakMap,ic=new WeakMap,rc=new WeakMap,Gd=new WeakMap,fg=new WeakSet,UE=function(t){t.stopPropagation()},Pn=new WeakSet,zE=function(t){m(this,Xi)._focusEventsAllowed=!1,stopEvent(t)},HE=function(t){m(this,Xi)._focusEventsAllowed=!0,stopEvent(t)},Yu=function(t){const e=m(this,Xi)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",N(this,Pn,zE).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",N(this,Pn,HE).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",noContextMenu,{signal:e}),!0)},Td=function(){const t=document.createElement("div");return t.className="divider",t},$(vs,fg),$(vs,Gd,null);let EditorToolbar=vs;var Yd,Wo,As,ra,qE,GE,H1;class FloatingToolbar{constructor(t){$(this,ra);$(this,Yd,null);$(this,Wo,null);$(this,As);D(this,As,t)}show(t,e,i){const[s,a]=N(this,ra,GE).call(this,e,i),{style:o}=m(this,Wo)||D(this,Wo,N(this,ra,qE).call(this));t.append(m(this,Wo)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Wo).remove()}}Yd=new WeakMap,Wo=new WeakMap,As=new WeakMap,ra=new WeakSet,qE=function(){const t=D(this,Wo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=m(this,As)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",noContextMenu,{signal:e});const i=D(this,Yd,document.createElement("div"));return i.className="buttons",t.append(i),m(this,As).hasCommentManager()&&N(this,ra,H1).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{m(this,As).commentSelection("floating_button")}),N(this,ra,H1).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{m(this,As).highlightSelection("floating_button")}),t},GE=function(t,e){let i=0,s=0;for(const a of t){const o=a.y+a.height;if(o<i)continue;const u=a.x+(e?a.width:0);if(o>i){s=u,i=o;continue}e?u>s&&(s=u):u<s&&(s=u)}return[e?1-s:s,i]},H1=function(t,e,i,s){const a=document.createElement("button");a.classList.add("basic",t),a.tabIndex=0,a.setAttribute("data-l10n-id",e);const o=document.createElement("span");a.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const u=m(this,As)._signal;u instanceof AbortSignal&&!u.aborted&&(a.addEventListener("contextmenu",noContextMenu,{signal:u}),a.addEventListener("click",s,{signal:u})),m(this,Yd).append(a)};function bindEvents(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var pg;class IdManager{constructor(){$(this,pg,0)}get id(){return`${AnnotationEditorPrefix}${on(this,pg)._++}`}}pg=new WeakMap;var sc,Kd,In,ac,Im;const Gb=class Gb{constructor(){$(this,ac);$(this,sc,getUuid());$(this,Kd,0);$(this,In,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:a}=t;return N(this,ac,Im).call(this,`${e}_${i}_${s}_${a}`,t)}async getFromUrl(t){return N(this,ac,Im).call(this,t,t)}async getFromBlob(t,e){const i=await e;return N(this,ac,Im).call(this,t,i)}async getFromId(t){m(this,In)||D(this,In,new Map);const e=m(this,In).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){m(this,In)||D(this,In,new Map);let i=m(this,In).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${m(this,sc)}_${on(this,Kd)._++}`,refCounter:1,isSvg:!1},m(this,In).set(t,i),m(this,In).set(i.id,i),i}getSvgUrl(t){const e=m(this,In).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;m(this,In)||D(this,In,new Map);const e=m(this,In).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${m(this,sc)}_`)}};sc=new WeakMap,Kd=new WeakMap,In=new WeakMap,ac=new WeakSet,Im=async function(t,e){m(this,In)||D(this,In,new Map);let i=m(this,In).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${m(this,sc)}_${on(this,Kd)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await fetchData(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=Gb._isSVGFittingCanvas,o=new FileReader,u=new Image,h=new Promise((d,f)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,d()},o.onload=async()=>{const g=i.svgUrl=o.result;u.src=await a?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=o.onerror=f});o.readAsDataURL(s),await h}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){warn(s),i=null}return m(this,In).set(t,i),i&&m(this,In).set(i.id,i),i};let ImageManager=Gb;var Ze,La,Xd,Ne;class CommandManager{constructor(t=128){$(this,Ze,[]);$(this,La,!1);$(this,Xd);$(this,Ne,-1);D(this,Xd,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:u=!1}){if(s&&t(),m(this,La))return;const h={cmd:t,undo:e,post:i,type:a};if(m(this,Ne)===-1){m(this,Ze).length>0&&(m(this,Ze).length=0),D(this,Ne,0),m(this,Ze).push(h);return}if(o&&m(this,Ze)[m(this,Ne)].type===a){u&&(h.undo=m(this,Ze)[m(this,Ne)].undo),m(this,Ze)[m(this,Ne)]=h;return}const d=m(this,Ne)+1;d===m(this,Xd)?m(this,Ze).splice(0,1):(D(this,Ne,d),d<m(this,Ze).length&&m(this,Ze).splice(d)),m(this,Ze).push(h)}undo(){if(m(this,Ne)===-1)return;D(this,La,!0);const{undo:t,post:e}=m(this,Ze)[m(this,Ne)];t(),e==null||e(),D(this,La,!1),D(this,Ne,m(this,Ne)-1)}redo(){if(m(this,Ne)<m(this,Ze).length-1){D(this,Ne,m(this,Ne)+1),D(this,La,!0);const{cmd:t,post:e}=m(this,Ze)[m(this,Ne)];t(),e==null||e(),D(this,La,!1)}}hasSomethingToUndo(){return m(this,Ne)!==-1}hasSomethingToRedo(){return m(this,Ne)<m(this,Ze).length-1}cleanType(t){if(m(this,Ne)!==-1){for(let e=m(this,Ne);e>=0;e--)if(m(this,Ze)[e].type!==t){m(this,Ze).splice(e+1,m(this,Ne)-e),D(this,Ne,e);return}m(this,Ze).length=0,D(this,Ne,-1)}}destroy(){D(this,Ze,null)}}Ze=new WeakMap,La=new WeakMap,Xd=new WeakMap,Ne=new WeakMap;var mg,YE;class KeyboardManager{constructor(t){$(this,mg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=util_FeatureTest.platform;for(const[i,s,a={}]of t)for(const o of i){const u=o.startsWith("mac+");e&&u?(this.callbacks.set(o.slice(4),{callback:s,options:a}),this.allKeys.add(o.split("+").at(-1))):!e&&!u&&(this.callbacks.set(o,{callback:s,options:a}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(N(this,mg,YE).call(this,e));if(!i)return;const{callback:s,options:{bubbles:a=!1,args:o=[],checker:u=null}}=i;u&&!u(t,e)||(s.bind(t,...o,e)(),a||stopEvent(e))}}mg=new WeakSet,YE=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const gg=class gg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(t),shadow(this,"_colors",t)}convert(t){const e=getRGB(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((a,o)=>a===e[o]))return gg._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Util.makeHexColor(...e):t}};At(gg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=gg;var oc,vi,lc,Ue,un,uc,Qi,cc,Zi,Bn,$a,Oa,hc,Ia,Lr,Ji,Qo,Wd,Qd,dc,Zd,$r,Ba,fc,Na,Or,yg,Fa,pc,Jd,Va,Zo,mc,ja,tf,nn,pe,Ss,Ua,za,ef,gc,nf,Ha,Ir,ws,rf,sf,tr,Rt,Bm,q1,KE,XE,Cd,WE,QE,ZE,G1,JE,Y1,K1,tA,qn,bs,eA,nA,X1,iA,Rd,W1;const Ju=class Ju{constructor(t,e,i,s,a,o,u,h,d,f,g,b,x,E,S,R){$(this,Rt);$(this,oc,new AbortController);$(this,vi,null);$(this,lc,null);$(this,Ue,new Map);$(this,un,new Map);$(this,uc,null);$(this,Qi,null);$(this,cc,null);$(this,Zi,new CommandManager);$(this,Bn,null);$(this,$a,null);$(this,Oa,null);$(this,hc,0);$(this,Ia,new Set);$(this,Lr,null);$(this,Ji,null);$(this,Qo,new Set);At(this,"_editorUndoBar",null);$(this,Wd,!1);$(this,Qd,!1);$(this,dc,!1);$(this,Zd,null);$(this,$r,null);$(this,Ba,null);$(this,fc,null);$(this,Na,!1);$(this,Or,null);$(this,yg,new IdManager);$(this,Fa,!1);$(this,pc,!1);$(this,Jd,!1);$(this,Va,null);$(this,Zo,null);$(this,mc,null);$(this,ja,null);$(this,tf,null);$(this,nn,AnnotationEditorType.NONE);$(this,pe,new Set);$(this,Ss,null);$(this,Ua,null);$(this,za,null);$(this,ef,null);$(this,gc,null);$(this,nf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});$(this,Ha,[0,0]);$(this,Ir,null);$(this,ws,null);$(this,rf,null);$(this,sf,null);$(this,tr,null);const w=this._signal=m(this,oc).signal;D(this,ws,t),D(this,rf,e),D(this,sf,i),D(this,uc,s),D(this,Bn,a),D(this,Ua,o),D(this,gc,h),this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:w}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),u._on("setpreference",this.onSetPreference.bind(this),{signal:w}),u._on("switchannotationeditorparams",L=>this.updateParams(L.type,L.value),{signal:w}),window.addEventListener("pointerdown",()=>{D(this,pc,!0)},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{D(this,pc,!1)},{capture:!0,signal:w}),N(this,Rt,WE).call(this),N(this,Rt,tA).call(this),N(this,Rt,G1).call(this),D(this,Qi,h.annotationStorage),D(this,Zd,h.filterFactory),D(this,za,d),D(this,fc,f||null),D(this,Wd,g),D(this,Qd,b),D(this,dc,x),D(this,tf,E||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=R!==!1,a==null||a.setSidebarUiManager(this)}static get _keyboardManager(){const t=Ju.prototype,e=o=>m(o,ws).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:u})=>!(u instanceof HTMLButtonElement)&&m(o,ws).contains(u)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:u})=>!(u instanceof HTMLButtonElement)&&m(o,ws).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,i,s,a,o,u,h,d;(t=m(this,tr))==null||t.resolve(),D(this,tr,null),(e=m(this,oc))==null||e.abort(),D(this,oc,null),this._signal=null;for(const f of m(this,un).values())f.destroy();m(this,un).clear(),m(this,Ue).clear(),m(this,Qo).clear(),(i=m(this,ja))==null||i.clear(),D(this,vi,null),m(this,pe).clear(),m(this,Zi).destroy(),(s=m(this,uc))==null||s.destroy(),(a=m(this,Bn))==null||a.destroy(),(o=m(this,Ua))==null||o.destroy(),(u=m(this,Or))==null||u.hide(),D(this,Or,null),(h=m(this,mc))==null||h.destroy(),D(this,mc,null),D(this,lc,null),m(this,$r)&&(clearTimeout(m(this,$r)),D(this,$r,null)),m(this,Ir)&&(clearTimeout(m(this,Ir)),D(this,Ir,null)),(d=this._editorUndoBar)==null||d.destroy(),D(this,gc,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return m(this,tf)}get useNewAltTextFlow(){return m(this,Qd)}get useNewAltTextWhenAddingImage(){return m(this,dc)}get hcmFilter(){return shadow(this,"hcmFilter",m(this,za)?m(this,Zd).addHCMFilter(m(this,za).foreground,m(this,za).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(m(this,ws)).direction)}get _highlightColors(){return shadow(this,"_highlightColors",m(this,fc)?new Map(m(this,fc).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return shadow(this,"highlightColors",null);const e=new Map,i=!!m(this,za);for(const[s,a]of t){const o=s.endsWith("_HCM");if(i&&o){e.set(s.replace("_HCM",""),a);continue}!i&&!o&&e.set(s,a)}return shadow(this,"highlightColors",e)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),D(this,Oa,t)}setMainHighlightColorPicker(t){D(this,mc,t)}editAltText(t,e=!1){var i;(i=m(this,uc))==null||i.editAltText(this,t,e)}hasCommentManager(){return!!m(this,Bn)}editComment(t,e,i,s){var a;(a=m(this,Bn))==null||a.showDialog(this,t,e,i,s)}selectComment(t,e){const i=m(this,un).get(t),s=i==null?void 0:i.getEditorByUID(e);s==null||s.toggleComment(!0,!0)}updateComment(t){var e;(e=m(this,Bn))==null||e.updateComment(t.getData())}updatePopupColor(t){var e;(e=m(this,Bn))==null||e.updatePopupColor(t)}removeComment(t){var e;(e=m(this,Bn))==null||e.removeComments([t.uid])}toggleComment(t,e,i=void 0){var s;(s=m(this,Bn))==null||s.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){var i;return t&&((i=m(this,Bn))==null?void 0:i.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return((t=m(this,Bn))==null?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(m(this,un).has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),s=a=>{a.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await i}getSignature(t){var e;(e=m(this,Ua))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return m(this,Ua)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":D(this,dc,e);break}}onPageChanging({pageNumber:t}){D(this,hc,t-1)}focusMainContainer(){m(this,ws).focus()}findParent(t,e){for(const i of m(this,un).values()){const{x:s,y:a,width:o,height:u}=i.div.getBoundingClientRect();if(t>=s&&t<=s+o&&e>=a&&e<=a+u)return i}return null}disableUserSelect(t=!1){m(this,rf).classList.toggle("noUserSelect",t)}addShouldRescale(t){m(this,Qo).add(t)}removeShouldRescale(t){m(this,Qo).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*PixelsPerInch.PDF_TO_CSS_UNITS;for(const i of m(this,Qo))i.onScaleChanging();(e=m(this,Oa))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:a,focusNode:o,focusOffset:u}=i,h=i.toString(),f=N(this,Rt,Bm).call(this,i).closest(".textLayer"),g=this.getSelectionBoxes(f);if(!g)return;i.empty();const b=N(this,Rt,q1).call(this,f),x=m(this,nn)===AnnotationEditorType.NONE,E=()=>{const S=b==null?void 0:b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:a,focusNode:o,focusOffset:u,text:h});x&&this.showAllEditors("highlight",!0,!0),e&&(S==null||S.editComment())};if(x){this.switchToMode(AnnotationEditorType.HIGHLIGHT,E);return}E()}commentSelection(t=""){this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!m(this,Qi))return null;const e=`${AnnotationEditorPrefix}${t}`,i=m(this,Qi).getRawValue(e);return i&&m(this,Qi).remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&m(this,Qi)&&!m(this,Qi).has(t.id)&&m(this,Qi).setValue(t.id,t)}a11yAlert(t,e=null){const i=m(this,sf);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,m(this,Na)&&(D(this,Na,!1),N(this,Rt,Cd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of m(this,pe))if(e.div.contains(t)){D(this,Zo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!m(this,Zo))return;const[t,e]=m(this,Zo);D(this,Zo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){N(this,Rt,G1).call(this),N(this,Rt,Y1).call(this)}removeEditListeners(){N(this,Rt,JE).call(this),N(this,Rt,K1).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of m(this,Ji))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of m(this,Ji))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=m(this,vi))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of m(this,pe)){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const o of m(this,Ji))if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){warn(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const h of i){const d=await s.deserialize(h);if(!d)return;a.push(d)}const o=()=>{for(const h of a)N(this,Rt,X1).call(this,h);N(this,Rt,W1).call(this,a)},u=()=>{for(const h of a)h.remove()};this.addCommands({cmd:o,undo:u,mustExec:!0})}catch(a){warn(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,nn)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&Ju._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Na)&&(D(this,Na,!1),N(this,Rt,Cd).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(N(this,Rt,QE).call(this),N(this,Rt,Y1).call(this),N(this,Rt,qn).call(this,{isEditing:m(this,nn)!==AnnotationEditorType.NONE,isEmpty:N(this,Rt,Rd).call(this),hasSomethingToUndo:m(this,Zi).hasSomethingToUndo(),hasSomethingToRedo:m(this,Zi).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,Rt,ZE).call(this),N(this,Rt,K1).call(this),N(this,Rt,qn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!m(this,Ji)){D(this,Ji,t);for(const e of m(this,Ji))N(this,Rt,bs).call(this,e.defaultPropertiesToUpdate)}}getId(){return m(this,yg).id}get currentLayer(){return m(this,un).get(m(this,hc))}getLayer(t){return m(this,un).get(t)}get currentPageIndex(){return m(this,hc)}addLayer(t){m(this,un).set(t.pageIndex,t),m(this,Fa)?t.enable():t.disable()}removeLayer(t){m(this,un).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,s=!1,a=!1){var o,u,h,d,f,g;if(m(this,nn)!==t&&!(m(this,tr)&&(await m(this,tr).promise,!m(this,tr)))){if(D(this,tr,Promise.withResolvers()),(o=m(this,Oa))==null||o.commitOrRemove(),m(this,nn)===AnnotationEditorType.POPUP&&((u=m(this,Bn))==null||u.hideSidebar()),(h=m(this,Bn))==null||h.destroyPopup(),D(this,nn,t),t===AnnotationEditorType.NONE){this.setEditingState(!1),N(this,Rt,nA).call(this);for(const b of m(this,Ue).values())b.hideStandaloneCommentButton();(d=this._editorUndoBar)==null||d.hide(),this.toggleComment(null),m(this,tr).resolve();return}for(const b of m(this,Ue).values())b.addStandaloneCommentButton();t===AnnotationEditorType.SIGNATURE&&await((f=m(this,Ua))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await N(this,Rt,eA).call(this),this.unselectAll();for(const b of m(this,un).values())b.updateMode(t);if(t===AnnotationEditorType.POPUP){m(this,lc)||D(this,lc,await m(this,gc).getAnnotationsByType(new Set(m(this,Ji).map(E=>E._editorType))));const b=new Set,x=[];for(const E of m(this,Ue).values()){const{annotationElementId:S,hasComment:R,deleted:w}=E;S&&b.add(S),R&&!w&&x.push(E.getData())}for(const E of m(this,lc)){const{id:S,popupRef:R,contentsObj:w}=E;R&&(w!=null&&w.str)&&!b.has(S)&&!m(this,Ia).has(S)&&x.push(E)}(g=m(this,Bn))==null||g.showSidebar(x)}if(!e){i&&this.addNewEditorFromKeyboard(),m(this,tr).resolve();return}for(const b of m(this,Ue).values())b.uid===e?(this.setSelected(b),a?b.editComment():s?b.enterInEditMode():b.focus()):b.unselect();m(this,tr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==m(this,nn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(m(this,Ji)){switch(t){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor(e);return;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,ef)||D(this,ef,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of m(this,pe))i.updateParams(t,e);else for(const i of m(this,Ji))i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var a;for(const o of m(this,Ue).values())o.editorType===t&&o.show(e);(((a=m(this,ef))==null?void 0:a.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==e&&N(this,Rt,bs).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(m(this,Jd)!==t){D(this,Jd,t);for(const e of m(this,un).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of m(this,Ue).values())e.pageIndex===t&&(yield e)}getEditor(t){return m(this,Ue).get(t)}addEditor(t){m(this,Ue).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(m(this,$r)&&clearTimeout(m(this,$r)),D(this,$r,setTimeout(()=>{this.focusMainContainer(),D(this,$r,null)},0))),m(this,Ue).delete(t.id),t.annotationElementId&&((e=m(this,ja))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!m(this,Ia).has(t.annotationElementId))&&((i=m(this,Qi))==null||i.remove(t.id))}addDeletedAnnotationElement(t){m(this,Ia).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return m(this,Ia).has(t)}removeDeletedAnnotationElement(t){m(this,Ia).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){m(this,vi)!==t&&(D(this,vi,t),t&&N(this,Rt,bs).call(this,t.propertiesToUpdate))}updateUI(t){m(this,Rt,iA)===t&&N(this,Rt,bs).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){N(this,Rt,bs).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(m(this,pe).has(t)){m(this,pe).delete(t),t.unselect(),N(this,Rt,qn).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,pe).add(t),t.select(),N(this,Rt,bs).call(this,t.propertiesToUpdate),N(this,Rt,qn).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=m(this,Oa))==null||e.commitOrRemove();for(const i of m(this,pe))i!==t&&i.unselect();m(this,pe).clear(),m(this,pe).add(t),t.select(),N(this,Rt,bs).call(this,t.propertiesToUpdate),N(this,Rt,qn).call(this,{hasSelectedEditor:!0})}isSelected(t){return m(this,pe).has(t)}get firstSelectedEditor(){return m(this,pe).values().next().value}unselect(t){t.unselect(),m(this,pe).delete(t),N(this,Rt,qn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,pe).size!==0}get isEnterHandled(){return m(this,pe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;m(this,Zi).undo(),N(this,Rt,qn).call(this,{hasSomethingToUndo:m(this,Zi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,Rt,Rd).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){m(this,Zi).redo(),N(this,Rt,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,Zi).hasSomethingToRedo(),isEmpty:N(this,Rt,Rd).call(this)})}addCommands(t){m(this,Zi).add(t),N(this,Rt,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,Rt,Rd).call(this)})}cleanUndoStack(t){m(this,Zi).cleanType(t)}delete(){var a;this.commitOrRemove();const t=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...m(this,pe)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,e.length===1?e[0].editorType:e.length);for(const u of e)u.remove()},s=()=>{for(const o of e)N(this,Rt,X1).call(this,o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=m(this,vi))==null||t.commitOrRemove()}hasSomethingToControl(){return m(this,vi)||this.hasSelection}selectAll(){for(const t of m(this,pe))t.commit();N(this,Rt,W1).call(this,m(this,Ue).values())}unselectAll(){var t;if(!(m(this,vi)&&(m(this,vi).commitOrRemove(),m(this,nn)!==AnnotationEditorType.NONE))&&!((t=m(this,Oa))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of m(this,pe))e.unselect();m(this,pe).clear(),N(this,Rt,qn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;m(this,Ha)[0]+=t,m(this,Ha)[1]+=e;const[s,a]=m(this,Ha),o=[...m(this,pe)],u=1e3;m(this,Ir)&&clearTimeout(m(this,Ir)),D(this,Ir,setTimeout(()=>{D(this,Ir,null),m(this,Ha)[0]=m(this,Ha)[1]=0,this.addCommands({cmd:()=>{for(const h of o)m(this,Ue).has(h.id)&&(h.translateInPage(s,a),h.translationDone())},undo:()=>{for(const h of o)m(this,Ue).has(h.id)&&(h.translateInPage(-s,-a),h.translationDone())},mustExec:!1})},u));for(const h of o)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),D(this,Lr,new Map);for(const t of m(this,pe))m(this,Lr).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,Lr))return!1;this.disableUserSelect(!1);const t=m(this,Lr);D(this,Lr,null);let e=!1;for(const[{x:s,y:a,pageIndex:o},u]of t)u.newX=s,u.newY=a,u.newPageIndex=o,e||(e=s!==u.savedX||a!==u.savedY||o!==u.savedPageIndex);if(!e)return!1;const i=(s,a,o,u)=>{if(m(this,Ue).has(s.id)){const h=m(this,un).get(u);h?s._setParentAndPosition(h,a,o):(s.pageIndex=u,s.x=a,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:o,newPageIndex:u}]of t)i(s,a,o,u)},undo:()=>{for(const[s,{savedX:a,savedY:o,savedPageIndex:u}]of t)i(s,a,o,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(m(this,Lr))for(const i of m(this,Lr).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||m(this,pe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return m(this,vi)===t}getActive(){return m(this,vi)}getMode(){return m(this,nn)}isEditingMode(){return m(this,nn)!==AnnotationEditorType.NONE}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,f=e.rangeCount;d<f;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:s,width:a,height:o}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(d,f,g,b)=>({x:(f-s)/o,y:1-(d+g-i)/a,width:b/o,height:g/a});break;case"180":u=(d,f,g,b)=>({x:1-(d+g-i)/a,y:1-(f+b-s)/o,width:g/a,height:b/o});break;case"270":u=(d,f,g,b)=>({x:1-(f+b-s)/o,y:(d-i)/a,width:b/o,height:g/a});break;default:u=(d,f,g,b)=>({x:(d-i)/a,y:(f-s)/o,width:g/a,height:b/o});break}const h=[];for(let d=0,f=e.rangeCount;d<f;d++){const g=e.getRangeAt(d);if(!g.collapsed)for(const{x:b,y:x,width:E,height:S}of g.getClientRects())E===0||S===0||h.push(u(b,x,E,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(m(this,cc)||D(this,cc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=m(this,cc))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=m(this,cc))==null?void 0:s.get(t.data.id);if(!e)return;const i=m(this,Qi).getRawValue(e);i&&(m(this,nn)===AnnotationEditorType.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var a;const s=(a=m(this,ja))==null?void 0:a.get(t);s&&(s.setCanvas(e,i),m(this,ja).delete(t))}addMissingCanvas(t,e){(m(this,ja)||D(this,ja,new Map)).set(t,e)}};oc=new WeakMap,vi=new WeakMap,lc=new WeakMap,Ue=new WeakMap,un=new WeakMap,uc=new WeakMap,Qi=new WeakMap,cc=new WeakMap,Zi=new WeakMap,Bn=new WeakMap,$a=new WeakMap,Oa=new WeakMap,hc=new WeakMap,Ia=new WeakMap,Lr=new WeakMap,Ji=new WeakMap,Qo=new WeakMap,Wd=new WeakMap,Qd=new WeakMap,dc=new WeakMap,Zd=new WeakMap,$r=new WeakMap,Ba=new WeakMap,fc=new WeakMap,Na=new WeakMap,Or=new WeakMap,yg=new WeakMap,Fa=new WeakMap,pc=new WeakMap,Jd=new WeakMap,Va=new WeakMap,Zo=new WeakMap,mc=new WeakMap,ja=new WeakMap,tf=new WeakMap,nn=new WeakMap,pe=new WeakMap,Ss=new WeakMap,Ua=new WeakMap,za=new WeakMap,ef=new WeakMap,gc=new WeakMap,nf=new WeakMap,Ha=new WeakMap,Ir=new WeakMap,ws=new WeakMap,rf=new WeakMap,sf=new WeakMap,tr=new WeakMap,Rt=new WeakSet,Bm=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},q1=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of m(this,un).values())if(i.hasTextLayer(t))return i;return null},KE=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=N(this,Rt,Bm).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(m(this,Or)||D(this,Or,new FloatingToolbar(this)),m(this,Or).show(i,s,this.direction==="ltr"))},XE=function(){var a,o,u;const t=document.getSelection();if(!t||t.isCollapsed){m(this,Ss)&&((a=m(this,Or))==null||a.hide(),D(this,Ss,null),N(this,Rt,qn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===m(this,Ss))return;const s=N(this,Rt,Bm).call(this,t).closest(".textLayer");if(!s){m(this,Ss)&&((o=m(this,Or))==null||o.hide(),D(this,Ss,null),N(this,Rt,qn).call(this,{hasSelectedText:!1}));return}if((u=m(this,Or))==null||u.hide(),D(this,Ss,e),N(this,Rt,qn).call(this,{hasSelectedText:!0}),!(m(this,nn)!==AnnotationEditorType.HIGHLIGHT&&m(this,nn)!==AnnotationEditorType.NONE)&&(m(this,nn)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),D(this,Na,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=m(this,nn)===AnnotationEditorType.HIGHLIGHT?N(this,Rt,q1).call(this,s):null;if(h==null||h.toggleDrawing(),m(this,pc)){const d=new AbortController,f=this.combinedSignal(d),g=b=>{b.type==="pointerup"&&b.button!==0||(d.abort(),h==null||h.toggleDrawing(!0),b.type==="pointerup"&&N(this,Rt,Cd).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("blur",g,{signal:f})}else h==null||h.toggleDrawing(!0),N(this,Rt,Cd).call(this,"main_toolbar")}},Cd=function(t=""){m(this,nn)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(t):m(this,Wd)&&N(this,Rt,KE).call(this)},WE=function(){document.addEventListener("selectionchange",N(this,Rt,XE).bind(this),{signal:this._signal})},QE=function(){if(m(this,Ba))return;D(this,Ba,new AbortController);const t=this.combinedSignal(m(this,Ba));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},ZE=function(){var t;(t=m(this,Ba))==null||t.abort(),D(this,Ba,null)},G1=function(){if(m(this,Va))return;D(this,Va,new AbortController);const t=this.combinedSignal(m(this,Va));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},JE=function(){var t;(t=m(this,Va))==null||t.abort(),D(this,Va,null)},Y1=function(){if(m(this,$a))return;D(this,$a,new AbortController);const t=this.combinedSignal(m(this,$a));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},K1=function(){var t;(t=m(this,$a))==null||t.abort(),D(this,$a,null)},tA=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},qn=function(t){Object.entries(t).some(([i,s])=>m(this,nf)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,nf),t)}),m(this,nn)===AnnotationEditorType.HIGHLIGHT&&t.hasSelectedEditor===!1&&N(this,Rt,bs).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},bs=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},eA=async function(){if(!m(this,Fa)){D(this,Fa,!0);const t=[];for(const e of m(this,un).values())t.push(e.enable());await Promise.all(t);for(const e of m(this,Ue).values())e.enable()}},nA=function(){if(this.unselectAll(),m(this,Fa)){D(this,Fa,!1);for(const t of m(this,un).values())t.disable();for(const t of m(this,Ue).values())t.disable()}},X1=function(t){const e=m(this,un).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},iA=function(){let t=null;for(t of m(this,pe));return t},Rd=function(){if(m(this,Ue).size===0)return!0;if(m(this,Ue).size===1)for(const t of m(this,Ue).values())return t.isEmpty();return!1},W1=function(t){for(const e of m(this,pe))e.unselect();m(this,pe).clear();for(const e of t)e.isEmpty()||(m(this,pe).add(e),e.select());N(this,Rt,qn).call(this,{hasSelectedEditor:this.hasSelection})},At(Ju,"TRANSLATE_SMALL",1),At(Ju,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=Ju;var gn,Br,fr,yc,Nr,Ei,bc,Fr,si,Ts,Jo,Vr,qa,Tr,_d,Nm;const Gn=class Gn{constructor(t){$(this,Tr);$(this,gn,null);$(this,Br,!1);$(this,fr,null);$(this,yc,null);$(this,Nr,null);$(this,Ei,null);$(this,bc,!1);$(this,Fr,null);$(this,si,null);$(this,Ts,null);$(this,Jo,null);$(this,Vr,!1);D(this,si,t),D(this,Vr,t._uiManager.useNewAltTextFlow),m(Gn,qa)||D(Gn,qa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Gn._l10n??(Gn._l10n=t)}async render(){const t=D(this,fr,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=D(this,yc,document.createElement("span"));t.append(e),m(this,Vr)?(t.classList.add("new"),t.setAttribute("data-l10n-id",m(Gn,qa).missing),e.setAttribute("data-l10n-id",m(Gn,qa)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=m(this,si)._uiManager._signal;t.addEventListener("contextmenu",noContextMenu,{signal:i}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const s=a=>{a.preventDefault(),m(this,si)._uiManager.editAltText(m(this,si)),m(this,Vr)&&m(this,si)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,Tr,_d)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(D(this,bc,!0),s(a))},{signal:i}),await N(this,Tr,Nm).call(this),t}finish(){m(this,fr)&&(m(this,fr).focus({focusVisible:m(this,bc)}),D(this,bc,!1))}isEmpty(){return m(this,Vr)?m(this,gn)===null:!m(this,gn)&&!m(this,Br)}hasData(){return m(this,Vr)?m(this,gn)!==null||!!m(this,Ts):this.isEmpty()}get guessedText(){return m(this,Ts)}async setGuessedText(t){m(this,gn)===null&&(D(this,Ts,t),D(this,Jo,await Gn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),N(this,Tr,Nm).call(this))}toggleAltTextBadge(t=!1){var e;if(!m(this,Vr)||m(this,gn)){(e=m(this,Fr))==null||e.remove(),D(this,Fr,null);return}if(!m(this,Fr)){const i=D(this,Fr,document.createElement("div"));i.className="noAltTextBadge",m(this,si).div.append(i)}m(this,Fr).classList.toggle("hidden",!t)}serialize(t){let e=m(this,gn);return!t&&m(this,Ts)===e&&(e=m(this,Jo)),{altText:e,decorative:m(this,Br),guessedText:m(this,Ts),textWithDisclaimer:m(this,Jo)}}get data(){return{altText:m(this,gn),decorative:m(this,Br)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:a=!1}){i&&(D(this,Ts,i),D(this,Jo,s)),!(m(this,gn)===t&&m(this,Br)===e)&&(a||(D(this,gn,t),D(this,Br,e)),N(this,Tr,Nm).call(this))}toggle(t=!1){m(this,fr)&&(!t&&m(this,Ei)&&(clearTimeout(m(this,Ei)),D(this,Ei,null)),m(this,fr).disabled=!t)}shown(){m(this,si)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,Tr,_d)}})}destroy(){var t,e;(t=m(this,fr))==null||t.remove(),D(this,fr,null),D(this,yc,null),D(this,Nr,null),(e=m(this,Fr))==null||e.remove(),D(this,Fr,null)}};gn=new WeakMap,Br=new WeakMap,fr=new WeakMap,yc=new WeakMap,Nr=new WeakMap,Ei=new WeakMap,bc=new WeakMap,Fr=new WeakMap,si=new WeakMap,Ts=new WeakMap,Jo=new WeakMap,Vr=new WeakMap,qa=new WeakMap,Tr=new WeakSet,_d=function(){return m(this,gn)&&"added"||m(this,gn)===null&&this.guessedText&&"review"||"missing"},Nm=async function(){var s,a,o;const t=m(this,fr);if(!t)return;if(m(this,Vr)){if(t.classList.toggle("done",!!m(this,gn)),t.setAttribute("data-l10n-id",m(Gn,qa)[m(this,Tr,_d)]),(s=m(this,yc))==null||s.setAttribute("data-l10n-id",m(Gn,qa)[`${m(this,Tr,_d)}-label`]),!m(this,gn)){(a=m(this,Nr))==null||a.remove();return}}else{if(!m(this,gn)&&!m(this,Br)){t.classList.remove("done"),(o=m(this,Nr))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=m(this,Nr);if(!e){D(this,Nr,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${m(this,si).id}`;const u=100,h=m(this,si)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(m(this,Ei)),D(this,Ei,null)},{once:!0}),t.addEventListener("mouseenter",()=>{D(this,Ei,setTimeout(()=>{D(this,Ei,null),m(this,Nr).classList.add("show"),m(this,si)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:h}),t.addEventListener("mouseleave",()=>{var d;m(this,Ei)&&(clearTimeout(m(this,Ei)),D(this,Ei,null)),(d=m(this,Nr))==null||d.classList.remove("show")},{signal:h})}m(this,Br)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=m(this,gn)),e.parentNode||t.append(e);const i=m(this,si).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},$(Gn,qa,null),At(Gn,"_l10n",null);let AltText=Gn;var Cn,er,tl,De,af,el,pr,nl,il,rl,of,Q1;class Comment{constructor(t){$(this,of);$(this,Cn,null);$(this,er,null);$(this,tl,!1);$(this,De,null);$(this,af,null);$(this,el,null);$(this,pr,null);$(this,nl,null);$(this,il,!1);$(this,rl,null);D(this,De,t)}renderForToolbar(){const t=D(this,er,document.createElement("button"));return t.className="comment",N(this,of,Q1).call(this,t,!1)}renderForStandalone(){const t=D(this,Cn,document.createElement("button"));t.className="annotationCommentButton";const e=m(this,De).commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(m(this,De)._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=m(this,De).commentButtonColor;s&&(i.backgroundColor=s)}return N(this,of,Q1).call(this,t,!0)}focusButton(){setTimeout(()=>{var t;(t=m(this,Cn)??m(this,er))==null||t.focus()},0)}onUpdatedColor(){if(!m(this,Cn))return;const t=m(this,De).commentButtonColor;t&&(m(this,Cn).style.backgroundColor=t),m(this,De)._uiManager.updatePopupColor(m(this,De))}get commentButtonWidth(){var t;return(((t=m(this,Cn))==null?void 0:t.getBoundingClientRect().width)??0)/m(this,De).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(m(this,rl))return m(this,rl);if(!m(this,Cn))return null;const{x:t,y:e,height:i}=m(this,Cn).getBoundingClientRect(),{x:s,y:a,width:o,height:u}=m(this,De).parent.boundingClientRect;return[(t-s)/o,(e+i-a)/u]}set commentPopupPositionInLayer(t){D(this,rl,t)}hasDefaultPopupPosition(){return m(this,rl)===null}removeStandaloneCommentButton(){var t;(t=m(this,Cn))==null||t.remove(),D(this,Cn,null)}removeToolbarCommentButton(){var t;(t=m(this,er))==null||t.remove(),D(this,er,null)}setCommentButtonStates({selected:t,hasPopup:e}){m(this,Cn)&&(m(this,Cn).classList.toggle("selected",t),m(this,Cn).ariaExpanded=e)}edit(t){const e=this.commentPopupPositionInLayer;let i,s;if(e)[i,s]=e;else{[i,s]=m(this,De).commentButtonPosition;const{width:f,height:g,x:b,y:x}=m(this,De);i=b+i*f,s=x+s*g}const a=m(this,De).parent.boundingClientRect,{x:o,y:u,width:h,height:d}=a;m(this,De)._uiManager.editComment(m(this,De),o+i*h,u+s*d,{...t,parentDimensions:a})}finish(){m(this,er)&&(m(this,er).focus({focusVisible:m(this,tl)}),D(this,tl,!1))}isDeleted(){return m(this,il)||m(this,pr)===""}isEmpty(){return m(this,pr)===null}hasBeenEdited(){return this.isDeleted()||m(this,pr)!==m(this,af)}serialize(){return this.data}get data(){return{text:m(this,pr),richText:m(this,el),date:m(this,nl),deleted:this.isDeleted()}}set data(t){if(t!==m(this,pr)&&D(this,el,null),t===null){D(this,pr,""),D(this,il,!0);return}D(this,pr,t),D(this,nl,new Date),D(this,il,!1)}setInitialText(t,e=null){D(this,af,t),this.data=t,D(this,nl,null),D(this,el,e)}shown(){}destroy(){var t,e;(t=m(this,er))==null||t.remove(),D(this,er,null),(e=m(this,Cn))==null||e.remove(),D(this,Cn,null),D(this,pr,""),D(this,el,null),D(this,nl,null),D(this,De,null),D(this,tl,!1),D(this,il,!1)}}Cn=new WeakMap,er=new WeakMap,tl=new WeakMap,De=new WeakMap,af=new WeakMap,el=new WeakMap,pr=new WeakMap,nl=new WeakMap,il=new WeakMap,rl=new WeakMap,of=new WeakSet,Q1=function(t,e){if(!m(this,De)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[m(this,De)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=m(this,De)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",noContextMenu,{signal:i}),e&&(t.addEventListener("focusin",a=>{m(this,De)._focusEventsAllowed=!1,stopEvent(a)},{capture:!0,signal:i}),t.addEventListener("focusout",a=>{m(this,De)._focusEventsAllowed=!0,stopEvent(a)},{capture:!0,signal:i})),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const s=a=>{a.preventDefault(),t===m(this,er)?this.edit():m(this,De).toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(D(this,tl,!0),s(a))},{signal:i}),t.addEventListener("pointerenter",()=>{m(this,De).toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{m(this,De).toggleComment(!1,!1)},{signal:i}),t};var xc,sl,lf,uf,cf,hf,df,Cs,al,Rs,ol,_s,To,rA,sA,aA;const Yb=class Yb{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:a=null,onPinchEnd:o=null,signal:u}){$(this,To);$(this,xc);$(this,sl,!1);$(this,lf,null);$(this,uf);$(this,cf);$(this,hf);$(this,df);$(this,Cs,null);$(this,al);$(this,Rs,null);$(this,ol);$(this,_s,null);D(this,xc,t),D(this,lf,i),D(this,uf,e),D(this,cf,s),D(this,hf,a),D(this,df,o),D(this,ol,new AbortController),D(this,al,AbortSignal.any([u,m(this,ol).signal])),t.addEventListener("touchstart",N(this,To,rA).bind(this),{passive:!1,signal:m(this,al)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/OutputScale.pixelRatio}destroy(){var t,e;(t=m(this,ol))==null||t.abort(),D(this,ol,null),(e=m(this,Cs))==null||e.abort(),D(this,Cs,null)}};xc=new WeakMap,sl=new WeakMap,lf=new WeakMap,uf=new WeakMap,cf=new WeakMap,hf=new WeakMap,df=new WeakMap,Cs=new WeakMap,al=new WeakMap,Rs=new WeakMap,ol=new WeakMap,_s=new WeakMap,To=new WeakSet,rA=function(t){var s,a,o;if((s=m(this,uf))!=null&&s.call(this))return;if(t.touches.length===1){if(m(this,Cs))return;const u=D(this,Cs,new AbortController),h=AbortSignal.any([m(this,al),u.signal]),d=m(this,xc),f={capture:!0,signal:h,passive:!1},g=b=>{var x;b.pointerType==="touch"&&((x=m(this,Cs))==null||x.abort(),D(this,Cs,null))};d.addEventListener("pointerdown",b=>{b.pointerType==="touch"&&(stopEvent(b),g(b))},f),d.addEventListener("pointerup",g,f),d.addEventListener("pointercancel",g,f);return}if(!m(this,_s)){D(this,_s,new AbortController);const u=AbortSignal.any([m(this,al),m(this,_s).signal]),h=m(this,xc),d={signal:u,capture:!1,passive:!1};h.addEventListener("touchmove",N(this,To,sA).bind(this),d);const f=N(this,To,aA).bind(this);h.addEventListener("touchend",f,d),h.addEventListener("touchcancel",f,d),d.capture=!0,h.addEventListener("pointerdown",stopEvent,d),h.addEventListener("pointermove",stopEvent,d),h.addEventListener("pointercancel",stopEvent,d),h.addEventListener("pointerup",stopEvent,d),(a=m(this,cf))==null||a.call(this)}if(stopEvent(t),t.touches.length!==2||(o=m(this,lf))!=null&&o.call(this)){D(this,Rs,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),D(this,Rs,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},sA=function(t){var V;if(!m(this,Rs)||t.touches.length!==2)return;stopEvent(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:s,screenY:a}=e,{screenX:o,screenY:u}=i,h=m(this,Rs),{touch0X:d,touch0Y:f,touch1X:g,touch1Y:b}=h,x=g-d,E=b-f,S=o-s,R=u-a,w=Math.hypot(S,R)||1,L=Math.hypot(x,E)||1;if(!m(this,sl)&&Math.abs(L-w)<=Yb.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=s,h.touch0Y=a,h.touch1X=o,h.touch1Y=u,!m(this,sl)){D(this,sl,!0);return}const P=[(s+o)/2,(a+u)/2];(V=m(this,hf))==null||V.call(this,P,L,w)},aA=function(t){var e;t.touches.length>=2||(m(this,_s)&&(m(this,_s).abort(),D(this,_s,null),(e=m(this,df))==null||e.call(this)),m(this,Rs)&&(stopEvent(t),D(this,Rs,null),D(this,sl,!1)))};let TouchManager=Yb;var ll,mr,Oe,Ce,ks,vc,Ga,ff,Rn,ul,Ds,jr,Ya,pf,cl,Ai,mf,hl,Ms,Ur,Ec,Ac,nr,dl,gf,bg,Bt,Z1,yf,J1,Fm,oA,lA,tb,Vm,eb,uA,cA,hA,nb,dA,ib,fA,pA,mA,rb,kd;const zt=class zt{constructor(t){$(this,Bt);$(this,ll,null);$(this,mr,null);$(this,Oe,null);$(this,Ce,null);$(this,ks,null);$(this,vc,!1);$(this,Ga,null);$(this,ff,"");$(this,Rn,null);$(this,ul,null);$(this,Ds,null);$(this,jr,null);$(this,Ya,null);$(this,pf,"");$(this,cl,!1);$(this,Ai,null);$(this,mf,!1);$(this,hl,!1);$(this,Ms,!1);$(this,Ur,null);$(this,Ec,0);$(this,Ac,0);$(this,nr,null);$(this,dl,null);At(this,"isSelected",!1);At(this,"_isCopy",!1);At(this,"_editToolbar",null);At(this,"_initialOptions",Object.create(null));At(this,"_initialData",null);At(this,"_isVisible",!0);At(this,"_uiManager",null);At(this,"_focusEventsAllowed",!0);$(this,gf,!1);$(this,bg,zt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[a,o];const[u,h]=this.parentDimensions;this.x=t.x/u,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=zt.prototype._resizeWithKeyboard,e=AnnotationEditorUIManager.TRANSLATE_SMALL,i=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],zt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new FakeEditor({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(zt._l10n??(zt._l10n=t),zt._l10nResizer||(zt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),zt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);zt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,gf)}set _isDraggable(t){var e;D(this,gf,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,bg)}setParent(t){var e;t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(N(this,Bt,kd).call(this),(e=m(this,jr))==null||e.remove(),D(this,jr,null)),this.parent=t}focusin(t){this._focusEventsAllowed&&(m(this,cl)?D(this,cl,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[a,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/a,this.y=(e+s)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s),this._onTranslated()}translate(t,e){N(this,Bt,Z1).call(this,this.parentDimensions,t,e)}translateInPage(t,e){m(this,Ai)||D(this,Ai,[this.x,this.y,this.width,this.height]),N(this,Bt,Z1).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){m(this,Ai)||D(this,Ai,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,a]}=this;if(this.x+=t/s,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[h,d]=this.getBaseTranslation();o+=h,u+=d;const{style:f}=i;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*u).toFixed(2)}%`,this._onTranslating(o,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!m(this,Ai)&&(m(this,Ai)[0]!==this.x||m(this,Ai)[1]!==this.y)}get _hasBeenResized(){return!!m(this,Ai)&&(m(this,Ai)[2]!==this.width||m(this,Ai)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=zt,s=i/t,a=i/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,s]}=this;let{x:a,y:o,width:u,height:h}=this;if(u*=i,h*=s,a*=i,o*=s,this._mustFixPosition)switch(t){case 0:a=MathClamp(a,0,i-u),o=MathClamp(o,0,s-h);break;case 90:a=MathClamp(a,0,i-h),o=MathClamp(o,u,s);break;case 180:a=MathClamp(a,u,i),o=MathClamp(o,h,s);break;case 270:a=MathClamp(a,h,i),o=MathClamp(o,0,s-u);break}this.x=a/=i,this.y=o/=s;const[d,f]=this.getBaseTranslation();a+=d,o+=f,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return N(i=zt,yf,J1).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return N(i=zt,yf,J1).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=m(this,Oe))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||m(this,hl))return this._editToolbar;this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;(t=this._editToolbar)==null||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;(t=this._editToolbar)==null||t.removeButton("comment")}removeEditToolbar(){var t,e;(t=this._editToolbar)==null||t.remove(),this._editToolbar=null,(e=m(this,Oe))==null||e.destroy()}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return m(this,Oe)||(AltText.initialize(zt._l10n),D(this,Oe,new AltText(this)),m(this,ll)&&(m(this,Oe).data=m(this,ll),D(this,ll,null))),m(this,Oe)}get altTextData(){var t;return(t=m(this,Oe))==null?void 0:t.data}set altTextData(t){m(this,Oe)&&(m(this,Oe).data=t)}get guessedAltText(){var t;return(t=m(this,Oe))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=m(this,Oe))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=m(this,Oe))==null?void 0:e.serialize(t)}hasAltText(){return!!m(this,Oe)&&!m(this,Oe).isEmpty()}hasAltTextData(){var t;return((t=m(this,Oe))==null?void 0:t.hasData())??!1}focusCommentButton(){var t;(t=m(this,Ce))==null||t.focusButton()}addCommentButton(){return m(this,Ce)||D(this,Ce,new Comment(this))}addStandaloneCommentButton(){if(m(this,ks)){this._uiManager.isEditingMode()&&m(this,ks).classList.remove("hidden");return}this.hasComment&&(D(this,ks,m(this,Ce).renderForStandalone()),this.div.append(m(this,ks)))}removeStandaloneCommentButton(){m(this,Ce).removeStandaloneCommentButton(),D(this,ks,null)}hideStandaloneCommentButton(){var t;(t=m(this,ks))==null||t.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:s}}=m(this,Ce);return{text:e,richText:t,date:i,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){m(this,Ce)||D(this,Ce,new Comment(this)),m(this,Ce).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(m(this,Ce)||D(this,Ce,new Comment(this)),m(this,Ce).setInitialText(t,i),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){var t;return(t=m(this,Ce))==null?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return(t=m(this,Ce))==null?void 0:t.isDeleted()}get hasComment(){return!!m(this,Ce)&&!m(this,Ce).isEmpty()&&!m(this,Ce).isDeleted()}async editComment(t){m(this,Ce)||D(this,Ce,new Comment(this)),m(this,Ce).edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){m(this,Ce).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[a]=this.pageDimensions,[o]=this.pageTranslation,u=o+a+1,h=s-100,d=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,h,d,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){m(this,Ce).data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=m(this,vc)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),N(this,Bt,ib).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,a]=this.getInitialTranslation();return this.translate(s,a),bindEvents(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(m(this,dl)||D(this,dl,new TouchManager({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:N(this,Bt,uA).bind(this),onPinching:N(this,Bt,cA).bind(this),onPinchEnd:N(this,Bt,hA).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=util_FeatureTest.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(D(this,cl,!0),this._isDraggable){N(this,Bt,dA).call(this,t);return}N(this,Bt,nb).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){m(this,Ur)&&clearTimeout(m(this,Ur)),D(this,Ur,setTimeout(()=>{var t;D(this,Ur,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const s=this.parentScale,[a,o]=this.pageDimensions,[u,h]=this.pageTranslation,d=t/s,f=e/s,g=this.x*a,b=this.y*o,x=this.width*a,E=this.height*o;switch(i){case 0:return[g+d+u,o-b-f-E+h,g+d+x+u,o-b-f+h];case 90:return[g+f+u,o-b+d+h,g+f+E+u,o-b+d+x+h];case 180:return[g-d-x+u,o-b+f+h,g-d+u,o-b+f+E+h];case 270:return[g-f-E+u,o-b-d-x+h,g-f+u,o-b-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,a,o]=t,u=a-i,h=o-s;switch(this.rotation){case 0:return[i,e-o,u,h];case 90:return[i,e-s,h,u];case 180:return[a,e-s,u,h];case 270:return[a,e-o,h,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&zt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;(t=m(this,Ce))==null||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:s,deleted:a,richText:o},uid:u,pageIndex:h,creationDate:d,modificationDate:f}=this;return{id:u,pageIndex:h,rect:this.getPDFRect(),richText:o,contentsObj:{str:t},creationDate:d,modificationDate:i||f,popupRef:!a,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),D(this,hl,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),D(this,hl,!1),!0):!1}isInEditMode(){return m(this,hl)}shouldGetKeyboardEvents(){return m(this,Ms)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return e<o&&s>0&&t<a&&i>0}rebuild(){N(this,Bt,ib).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,D(s,ll,t.accessibilityData),s._isCopy=t.isCopy||!1;const[a,o]=s.pageDimensions,[u,h,d,f]=s.getRectInCurrentCoords(t.rect,o);return s.x=u/a,s.y=h/o,s.width=d/a,s.height=f/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=m(this,Ya))==null||t.abort(),D(this,Ya,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,Ur)&&(clearTimeout(m(this,Ur)),D(this,Ur,null)),N(this,Bt,kd).call(this),this.removeEditToolbar(),m(this,nr)){for(const i of m(this,nr).values())clearTimeout(i);D(this,nr,null)}this.parent=null,(e=m(this,dl))==null||e.destroy(),D(this,dl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,Bt,oA).call(this),m(this,Rn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,s,a,o]=this.getPDFRect();return[zt._round(i+(a-i)*t),zt._round(s+(o-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return m(this,Ce).commentPopupPositionInLayer}set commentPopupPosition(t){m(this,Ce).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return m(this,Ce).hasDefaultPopupPosition()}get commentButtonWidth(){return m(this,Ce).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){m(this,Ce).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),D(this,Ds,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=m(this,Rn).children;if(!m(this,mr)){D(this,mr,Array.from(e));const o=N(this,Bt,fA).bind(this),u=N(this,Bt,pA).bind(this),h=this._uiManager._signal;for(const d of m(this,mr)){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:h}),d.addEventListener("blur",u,{signal:h}),d.addEventListener("focus",N(this,Bt,mA).bind(this,f),{signal:h}),d.setAttribute("data-l10n-id",zt._l10nResizer[f])}}const i=m(this,mr)[0];let s=0;for(const o of e){if(o===i)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(m(this,mr).length/4);if(a!==s){if(a<s)for(let u=0;u<s-a;u++)m(this,Rn).append(m(this,Rn).firstChild);else if(a>s)for(let u=0;u<a-s;u++)m(this,Rn).firstChild.before(m(this,Rn).lastChild);let o=0;for(const u of e){const d=m(this,mr)[o++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",zt._l10nResizer[d])}}N(this,Bt,rb).call(this,0),D(this,Ms,!0),m(this,Rn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){m(this,Ms)&&N(this,Bt,eb).call(this,m(this,pf),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){N(this,Bt,kd).call(this),this.div.focus()}select(){var t,e,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(i=m(this,Oe))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var t;return(t=this.div)==null?void 0:t.focus({preventScroll:!0})},0)}unselect(){var t,e,i,s,a;this.isSelected&&(this.isSelected=!1,(t=m(this,Rn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=m(this,Oe))==null||a.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return m(this,mf)}set isEditing(t){D(this,mf,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){m(this,nr)||D(this,nr,new Map);const{action:i}=t;let s=m(this,nr).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),m(this,nr).delete(i),m(this,nr).size===0&&D(this,nr,null)},zt._telemetryTimeout),m(this,nr).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),D(this,vc,!1)}disable(){this.div&&(this.div.tabIndex=-1),D(this,vc,!0)}updateFakeAnnotationElement(t){if(!m(this,jr)&&!this.deleted){D(this,jr,t.addFakeAnnotation(this));return}if(this.deleted){m(this,jr).remove(),D(this,jr,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&m(this,jr).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};ll=new WeakMap,mr=new WeakMap,Oe=new WeakMap,Ce=new WeakMap,ks=new WeakMap,vc=new WeakMap,Ga=new WeakMap,ff=new WeakMap,Rn=new WeakMap,ul=new WeakMap,Ds=new WeakMap,jr=new WeakMap,Ya=new WeakMap,pf=new WeakMap,cl=new WeakMap,Ai=new WeakMap,mf=new WeakMap,hl=new WeakMap,Ms=new WeakMap,Ur=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,nr=new WeakMap,dl=new WeakMap,gf=new WeakMap,bg=new WeakMap,Bt=new WeakSet,Z1=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},yf=new WeakSet,J1=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Fm=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},oA=function(){if(m(this,Rn))return;D(this,Rn,document.createElement("div")),m(this,Rn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");m(this,Rn).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",N(this,Bt,lA).bind(this,i),{signal:e}),s.addEventListener("contextmenu",noContextMenu,{signal:e}),s.tabIndex=-1}this.div.prepend(m(this,Rn))},lA=function(t,e){var f;e.preventDefault();const{isMac:i}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&i)return;(f=m(this,Oe))==null||f.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,D(this,ul,[e.screenX,e.screenY]);const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,Bt,eb).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",stopEvent,{passive:!1,signal:o}),window.addEventListener("contextmenu",noContextMenu,{signal:o}),D(this,Ds,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{var g;a.abort(),this.parent.togglePointerEvents(!0),(g=m(this,Oe))==null||g.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=u,this.div.style.cursor=h,N(this,Bt,Vm).call(this)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})},tb=function(t,e,i,s){this.width=i,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()},Vm=function(){if(!m(this,Ds))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=m(this,Ds);D(this,Ds,null);const a=this.x,o=this.y,u=this.width,h=this.height;a===t&&o===e&&u===i&&h===s||this.addCommands({cmd:N(this,Bt,tb).bind(this,a,o,u,h),undo:N(this,Bt,tb).bind(this,t,e,i,s),mustExec:!0})},eb=function(t,e){const[i,s]=this.parentDimensions,a=this.x,o=this.y,u=this.width,h=this.height,d=zt.MIN_SIZE/i,f=zt.MIN_SIZE/s,g=N(this,Bt,Fm).call(this,this.rotation),b=(Q,Z)=>[g[0]*Q+g[2]*Z,g[1]*Q+g[3]*Z],x=N(this,Bt,Fm).call(this,360-this.rotation),E=(Q,Z)=>[x[0]*Q+x[2]*Z,x[1]*Q+x[3]*Z];let S,R,w=!1,L=!1;switch(t){case"topLeft":w=!0,S=(Q,Z)=>[0,0],R=(Q,Z)=>[Q,Z];break;case"topMiddle":S=(Q,Z)=>[Q/2,0],R=(Q,Z)=>[Q/2,Z];break;case"topRight":w=!0,S=(Q,Z)=>[Q,0],R=(Q,Z)=>[0,Z];break;case"middleRight":L=!0,S=(Q,Z)=>[Q,Z/2],R=(Q,Z)=>[0,Z/2];break;case"bottomRight":w=!0,S=(Q,Z)=>[Q,Z],R=(Q,Z)=>[0,0];break;case"bottomMiddle":S=(Q,Z)=>[Q/2,Z],R=(Q,Z)=>[Q/2,0];break;case"bottomLeft":w=!0,S=(Q,Z)=>[0,Z],R=(Q,Z)=>[Q,0];break;case"middleLeft":L=!0,S=(Q,Z)=>[0,Z/2],R=(Q,Z)=>[Q,Z/2];break}const P=S(u,h),V=R(u,h);let B=b(...V);const F=zt._round(a+B[0]),H=zt._round(o+B[1]);let K=1,J=1,G,et;if(e.fromKeyboard)({deltaX:G,deltaY:et}=e);else{const{screenX:Q,screenY:Z}=e,[it,Ct]=m(this,ul);[G,et]=this.screenToPageTranslation(Q-it,Z-Ct),m(this,ul)[0]=Q,m(this,ul)[1]=Z}if([G,et]=E(G/i,et/s),w){const Q=Math.hypot(u,h);K=J=Math.max(Math.min(Math.hypot(V[0]-P[0]-G,V[1]-P[1]-et)/Q,1/u,1/h),d/u,f/h)}else L?K=MathClamp(Math.abs(V[0]-P[0]-G),d,1)/u:J=MathClamp(Math.abs(V[1]-P[1]-et),f,1)/h;const ut=zt._round(u*K),Et=zt._round(h*J);B=b(...R(ut,Et));const ot=F-B[0],dt=H-B[1];m(this,Ai)||D(this,Ai,[this.x,this.y,this.width,this.height]),this.width=ut,this.height=Et,this.x=ot,this.y=dt,this.setDims(),this.fixAndSetPosition(),this._onResizing()},uA=function(){var t;D(this,Ds,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=m(this,Oe))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},cA=function(t,e,i){let a=.7*(i/e)+1-.7;if(a===1)return;const o=N(this,Bt,Fm).call(this,this.rotation),u=(F,H)=>[o[0]*F+o[2]*H,o[1]*F+o[3]*H],[h,d]=this.parentDimensions,f=this.x,g=this.y,b=this.width,x=this.height,E=zt.MIN_SIZE/h,S=zt.MIN_SIZE/d;a=Math.max(Math.min(a,1/b,1/x),E/b,S/x);const R=zt._round(b*a),w=zt._round(x*a);if(R===b&&w===x)return;m(this,Ai)||D(this,Ai,[f,g,b,x]);const L=u(b/2,x/2),P=zt._round(f+L[0]),V=zt._round(g+L[1]),B=u(R/2,w/2);this.x=P-B[0],this.y=V-B[1],this.width=R,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()},hA=function(){var t;(t=m(this,Oe))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),N(this,Bt,Vm).call(this)},nb=function(t){const{isMac:e}=util_FeatureTest.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},dA=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:a},u=d=>{s.abort(),D(this,Ga,null),D(this,cl,!1),this._uiManager.endDragSession()||N(this,Bt,nb).call(this,d),i&&this._onStopDragging()};e&&(D(this,Ec,t.clientX),D(this,Ac,t.clientY),D(this,Ga,t.pointerId),D(this,ff,t.pointerType),window.addEventListener("pointermove",d=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:g,pointerId:b}=d;if(b!==m(this,Ga)){stopEvent(d);return}const[x,E]=this.screenToPageTranslation(f-m(this,Ec),g-m(this,Ac));D(this,Ec,f),D(this,Ac,g),this._uiManager.dragSelectedEditors(x,E)},o),window.addEventListener("touchmove",stopEvent,o),window.addEventListener("pointerdown",d=>{d.pointerType===m(this,ff)&&(m(this,dl)||d.isPrimary)&&u(d),stopEvent(d)},o));const h=d=>{if(!m(this,Ga)||m(this,Ga)===d.pointerId){u(d);return}stopEvent(d)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})},ib=function(){if(m(this,Ya)||!this.div)return;D(this,Ya,new AbortController);const t=this._uiManager.combinedSignal(m(this,Ya));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},fA=function(t){zt._resizerKeyboardManager.exec(this,t)},pA=function(t){var e;m(this,Ms)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==m(this,Rn)&&N(this,Bt,kd).call(this)},mA=function(t){D(this,pf,m(this,Ms)?t:"")},rb=function(t){if(m(this,mr))for(const e of m(this,mr))e.tabIndex=t},kd=function(){D(this,Ms,!1),N(this,Bt,rb).call(this,-1),N(this,Bt,Vm).call(this)},$(zt,yf),At(zt,"_l10n",null),At(zt,"_l10nResizer",null),At(zt,"_borderLineWidth",-1),At(zt,"_colorManager",new ColorManager),At(zt,"_zIndex",1),At(zt,"_telemetryTimeout",1e3);let AnnotationEditor=zt;class FakeEditor extends AnnotationEditor{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(t){this.h1=t?t&4294967295:SEED,this.h2=t?t&4294967295:SEED}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let S=0,R=t.length;S<R;S++){const w=t.charCodeAt(S);w<=255?e[i++]=w:(e[i++]=w>>>8,e[i++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,a=i-s*4,o=new Uint32Array(e.buffer,0,s);let u=0,h=0,d=this.h1,f=this.h2;const g=3432918353,b=461845907,x=g&MASK_LOW,E=b&MASK_LOW;for(let S=0;S<s;S++)S&1?(u=o[S],u=u*g&MASK_HIGH|u*x&MASK_LOW,u=u<<15|u>>>17,u=u*b&MASK_HIGH|u*E&MASK_LOW,d^=u,d=d<<13|d>>>19,d=d*5+3864292196):(h=o[S],h=h*g&MASK_HIGH|h*x&MASK_LOW,h=h<<15|h>>>17,h=h*b&MASK_HIGH|h*E&MASK_LOW,f^=h,f=f<<13|f>>>19,f=f*5+3864292196);switch(u=0,a){case 3:u^=e[s*4+2]<<16;case 2:u^=e[s*4+1]<<8;case 1:u^=e[s*4],u=u*g&MASK_HIGH|u*x&MASK_LOW,u=u<<15|u>>>17,u=u*b&MASK_HIGH|u*E&MASK_LOW,s&1?d^=u:f^=u}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&MASK_HIGH|t*36045&MASK_LOW,e=e*4283543511&MASK_HIGH|((e<<16|t>>>16)*2950163797&MASK_HIGH)>>>16,t^=e>>>1,t=t*444984403&MASK_HIGH|t*60499&MASK_LOW,e=e*3301882366&MASK_HIGH|((e<<16|t>>>16)*3120437893&MASK_HIGH)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var fl,pl,Ps,_n,xg,gA;class AnnotationStorage{constructor(){$(this,xg);$(this,fl,!1);$(this,pl,null);$(this,Ps,null);$(this,_n,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=m(this,_n).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return m(this,_n).get(t)}remove(t){const e=m(this,_n).get(t);if(e!==void 0&&(e instanceof AnnotationEditor&&m(this,Ps).delete(e.annotationElementId),m(this,_n).delete(t),m(this,_n).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of m(this,_n).values())if(i instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=m(this,_n).get(t);let s=!1;if(i!==void 0)for(const[a,o]of Object.entries(e))i[a]!==o&&(s=!0,i[a]=o);else s=!0,m(this,_n).set(t,e);s&&N(this,xg,gA).call(this),e instanceof AnnotationEditor&&((m(this,Ps)||D(this,Ps,new Map)).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return m(this,_n).has(t)}get size(){return m(this,_n).size}resetModified(){m(this,fl)&&(D(this,fl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(m(this,_n).size===0)return SerializableEmpty;const t=new Map,e=new MurmurHash3_64,i=[],s=Object.create(null);let a=!1;for(const[o,u]of m(this,_n)){const h=u instanceof AnnotationEditor?u.serialize(!1,s):u;h&&(t.set(o,h),e.update(`${o}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:SerializableEmpty}get editorStats(){let t=null;const e=new Map;let i=0,s=0;for(const a of m(this,_n).values()){if(!(a instanceof AnnotationEditor)){a.popup&&(a.popup.deleted?s+=1:i+=1);continue}a.isCommentDeleted?s+=1:a.hasEditedComment&&(i+=1);const o=a.telemetryFinalData;if(!o)continue;const{type:u}=o;e.has(u)||e.set(u,Object.getPrototypeOf(a).constructor),t||(t=Object.create(null));const h=t[u]||(t[u]=new Map);for(const[d,f]of Object.entries(o)){if(d==="type")continue;let g=h.get(d);g||(g=new Map,h.set(d,g));const b=g.get(f)??0;g.set(f,b+1)}}if((s>0||i>0)&&(t||(t=Object.create(null)),t.comments={deleted:s,edited:i}),!t)return null;for(const[a,o]of e)t[a]=o.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){D(this,pl,null)}updateEditor(t,e){var s;const i=(s=m(this,Ps))==null?void 0:s.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){var e;return((e=m(this,Ps))==null?void 0:e.get(t))||null}get modifiedIds(){if(m(this,pl))return m(this,pl);const t=[];if(m(this,Ps))for(const e of m(this,Ps).values())e.serialize()&&t.push(e.annotationElementId);return D(this,pl,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return m(this,_n).entries()}}fl=new WeakMap,pl=new WeakMap,Ps=new WeakMap,_n=new WeakMap,xg=new WeakSet,gA=function(){m(this,fl)||(D(this,fl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var bf;class PrintAnnotationStorage extends AnnotationStorage{constructor(e){super();$(this,bf);const{map:i,hash:s,transfer:a}=e.serializable,o=structuredClone(i,a?{transfer:a}:null);D(this,bf,{map:o,hash:s,transfer:a})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,bf)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}bf=new WeakMap;var Sc;class FontLoader{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){$(this,Sc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),m(this,Sc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||m(this,Sc).has(t.loadedName))){if(assert(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:a,style:o}=t,u=new FontFace(s,a,o);this.addNativeFontFace(u);try{await u.load(),m(this,Sc).add(s),i==null||i(t)}catch{warn(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw warn(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return shadow(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return shadow(this,"isSyncFontLoadingSupported",isNodeJS||util_FeatureTest.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(assert(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(V,B){return V.charCodeAt(B)<<24|V.charCodeAt(B+1)<<16|V.charCodeAt(B+2)<<8|V.charCodeAt(B+3)&255}function s(V,B,F,H){const K=V.substring(0,B),J=V.substring(B+F);return K+H+J}let a,o;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let d=0;function f(V,B){if(++d>30){warn("Load test font never loaded."),B();return}if(h.font="30px "+V,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){B();return}setTimeout(f.bind(null,V,B))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=s(b,976,g.length,g);const E=16,S=1482184792;let R=i(b,E);for(a=0,o=g.length-3;a<o;a+=4)R=R-S+i(g,a)|0;a<g.length&&(R=R-S+i(g+"XXX",a)|0),b=s(b,E,4,string32(R));const w=`url(data:font/opentype;base64,${btoa(b)});`,L=`@font-face {font-family:"${g}";src:${w}}`;this.insertRule(L);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const V of[t.loadedName,g]){const B=this._document.createElement("span");B.textContent="Hi",B.style.fontFamily=V,P.append(B)}this._document.body.append(P),f(g,()=>{P.remove(),e.complete()})}}Sc=new WeakMap;var ve;class FontFaceObject{constructor(t,e=null,i,s){$(this,ve);this.compiledGlyphs=Object.create(null),D(this,ve,t),this._inspectFont=e,i&&Object.assign(this,i),s&&(this.charProcOperatorList=s)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let s;try{s=t.get(i)}catch(o){warn(`getPathGenerator - ignoring character: "${o}".`)}const a=new Path2D(s||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=a}get black(){return m(this,ve).black}get bold(){return m(this,ve).bold}get disableFontFace(){return m(this,ve).disableFontFace??!1}get fontExtraProperties(){return m(this,ve).fontExtraProperties??!1}get isInvalidPDFjsFont(){return m(this,ve).isInvalidPDFjsFont}get isType3Font(){return m(this,ve).isType3Font}get italic(){return m(this,ve).italic}get missingFile(){return m(this,ve).missingFile}get remeasure(){return m(this,ve).remeasure}get vertical(){return m(this,ve).vertical}get ascent(){return m(this,ve).ascent}get defaultWidth(){return m(this,ve).defaultWidth}get descent(){return m(this,ve).descent}get bbox(){return m(this,ve).bbox}get fontMatrix(){return m(this,ve).fontMatrix}get fallbackName(){return m(this,ve).fallbackName}get loadedName(){return m(this,ve).loadedName}get mimetype(){return m(this,ve).mimetype}get name(){return m(this,ve).name}get data(){return m(this,ve).data}clearData(){m(this,ve).clearData()}get cssFontInfo(){return m(this,ve).cssFontInfo}get systemFontInfo(){return m(this,ve).systemFontInfo}get defaultVMetrics(){return m(this,ve).defaultVMetrics}}ve=new WeakMap;function getUrlProp(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(isNodeJS)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(n){if(isNodeJS&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return stringToBytes(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function getFactoryUrlProp(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const isRefProxy=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,isNameProxy=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",isValidExplicitDest=_isValidExplicitDest.bind(null,isRefProxy,isNameProxy);var Ls,vg;class LoopbackPort{constructor(){$(this,Ls,new Map);$(this,vg,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};m(this,vg).then(()=>{for(const[s]of m(this,Ls))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:a}=i;if(a.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}m(this,Ls).set(e,s)}removeEventListener(t,e){const i=m(this,Ls).get(e);i==null||i(),m(this,Ls).delete(e)}terminate(){for(const[,t]of m(this,Ls))t==null||t();m(this,Ls).clear()}}Ls=new WeakMap,vg=new WeakMap;const CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function onFn(){}function wrapReason(n){if(n instanceof AbortException||n instanceof InvalidPDFException||n instanceof PasswordException||n instanceof ResponseException||n instanceof UnknownErrorException)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new AbortException(n.message);case"InvalidPDFException":return new InvalidPDFException(n.message);case"PasswordException":return new PasswordException(n.message,n.code);case"ResponseException":return new ResponseException(n.message,n.status,n.missing);case"UnknownErrorException":return new UnknownErrorException(n.message,n.details)}return new UnknownErrorException(n.message,n.toString())}var wc,or,yA,bA,xA,jm;class MessageHandler{constructor(t,e,i){$(this,or);$(this,wc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",N(this,or,yA).bind(this),{signal:m(this,wc).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(o){a.reject(o)}return a.promise}sendWithStream(t,e,i,s){const a=this.streamId++,o=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:o,targetName:u,action:t,streamId:a,data:e,desiredSize:d.desiredSize},s),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,h.postMessage({sourceName:o,targetName:u,stream:StreamKind.PULL,streamId:a,desiredSize:d.desiredSize}),f.promise},cancel:d=>{assert(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:o,targetName:u,stream:StreamKind.CANCEL,streamId:a,reason:wrapReason(d)}),f.promise}},i)}destroy(){var t;(t=m(this,wc))==null||t.abort(),D(this,wc,null)}}wc=new WeakMap,or=new WeakSet,yA=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){N(this,or,xA).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===CallbackKind.DATA)s.resolve(t.data);else if(t.callback===CallbackKind.ERROR)s.reject(wrapReason(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(o){a.postMessage({sourceName:i,targetName:s,callback:CallbackKind.DATA,callbackId:t.callbackId,data:o})},function(o){a.postMessage({sourceName:i,targetName:s,callback:CallbackKind.ERROR,callbackId:t.callbackId,reason:wrapReason(o)})});return}if(t.streamId){N(this,or,bA).call(this,t);return}e(t.data)},bA=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,a=this.comObj,o=this,u=this.actionHandler[t.action],h={enqueue(d,f=1,g){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=f,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:s,stream:StreamKind.ENQUEUE,streamId:e,chunk:d},g)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:StreamKind.CLOSE,streamId:e}),delete o.streamSinks[e])},error(d){assert(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:StreamKind.ERROR,streamId:e,reason:wrapReason(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(u,t.data,h).then(function(){a.postMessage({sourceName:i,targetName:s,stream:StreamKind.START_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:i,targetName:s,stream:StreamKind.START_COMPLETE,streamId:e,reason:wrapReason(d)})})},xA=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,a=this.comObj,o=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case StreamKind.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(wrapReason(t.reason));break;case StreamKind.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(wrapReason(t.reason));break;case StreamKind.PULL:if(!u){a.postMessage({sourceName:i,targetName:s,stream:StreamKind.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||onFn).then(function(){a.postMessage({sourceName:i,targetName:s,stream:StreamKind.PULL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:i,targetName:s,stream:StreamKind.PULL_COMPLETE,streamId:e,reason:wrapReason(d)})});break;case StreamKind.ENQUEUE:if(assert(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case StreamKind.CLOSE:if(assert(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),N(this,or,jm).call(this,o,e);break;case StreamKind.ERROR:assert(o,"error should have stream controller"),o.controller.error(wrapReason(t.reason)),N(this,or,jm).call(this,o,e);break;case StreamKind.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(wrapReason(t.reason)),N(this,or,jm).call(this,o,e);break;case StreamKind.CANCEL:if(!u)break;const h=wrapReason(t.reason);Promise.try(u.onCancel||onFn,h).then(function(){a.postMessage({sourceName:i,targetName:s,stream:StreamKind.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:i,targetName:s,stream:StreamKind.CANCEL_COMPLETE,streamId:e,reason:wrapReason(d)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},jm=async function(t,e){var i,s,a;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var xf;class BaseCanvasFactory{constructor({enableHWA:t=!1}){$(this,xf,!1);D(this,xf,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!m(this,xf)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){unreachable("Abstract method `_createCanvas` called.")}}xf=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class BaseCMapReaderFactory{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(t){const e=await fetchData(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):stringToBytes(e)}}class BaseFilterFactory{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,a){return"none"}destroy(t=!1){}}var ml,Tc,$s,Os,Nn,gl,yl,_t,On,Dd,Ku,Um,Xu,vA,sb,Wu,Md,Pd,ab,Ld;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:e,ownerDocument:i=globalThis.document}){super();$(this,_t);$(this,ml);$(this,Tc);$(this,$s);$(this,Os);$(this,Nn);$(this,gl);$(this,yl,0);D(this,Os,e),D(this,Nn,i)}addFilter(e){if(!e)return"none";let i=m(this,_t,On).get(e);if(i)return i;const[s,a,o]=N(this,_t,Um).call(this,e),u=e.length===1?s:`${s}${a}${o}`;if(i=m(this,_t,On).get(u),i)return m(this,_t,On).set(e,i),i;const h=`g_${m(this,Os)}_transfer_map_${on(this,yl)._++}`,d=N(this,_t,Xu).call(this,h);m(this,_t,On).set(e,d),m(this,_t,On).set(u,d);const f=N(this,_t,Wu).call(this,h);return N(this,_t,Pd).call(this,s,a,o,f),d}addHCMFilter(e,i){var E;const s=`${e}-${i}`,a="base";let o=m(this,_t,Dd).get(a);if((o==null?void 0:o.key)===s||(o?((E=o.filter)==null||E.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},m(this,_t,Dd).set(a,o)),!e||!i))return o.url;const u=N(this,_t,Ld).call(this,e);e=Util.makeHexColor(...u);const h=N(this,_t,Ld).call(this,i);if(i=Util.makeHexColor(...h),m(this,_t,Ku).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const d=new Array(256);for(let S=0;S<=255;S++){const R=S/255;d[S]=R<=.03928?R/12.92:((R+.055)/1.055)**2.4}const f=d.join(","),g=`g_${m(this,Os)}_hcm_filter`,b=o.filter=N(this,_t,Wu).call(this,g);N(this,_t,Pd).call(this,f,f,f,b),N(this,_t,sb).call(this,b);const x=(S,R)=>{const w=u[S]/255,L=h[S]/255,P=new Array(R+1);for(let V=0;V<=R;V++)P[V]=w+V/R*(L-w);return P.join(",")};return N(this,_t,Pd).call(this,x(0,5),x(1,5),x(2,5),b),o.url=N(this,_t,Xu).call(this,g),o.url}addAlphaFilter(e){let i=m(this,_t,On).get(e);if(i)return i;const[s]=N(this,_t,Um).call(this,[e]),a=`alpha_${s}`;if(i=m(this,_t,On).get(a),i)return m(this,_t,On).set(e,i),i;const o=`g_${m(this,Os)}_alpha_map_${on(this,yl)._++}`,u=N(this,_t,Xu).call(this,o);m(this,_t,On).set(e,u),m(this,_t,On).set(a,u);const h=N(this,_t,Wu).call(this,o);return N(this,_t,ab).call(this,s,h),u}addLuminosityFilter(e){let i=m(this,_t,On).get(e||"luminosity");if(i)return i;let s,a;if(e?([s]=N(this,_t,Um).call(this,[e]),a=`luminosity_${s}`):a="luminosity",i=m(this,_t,On).get(a),i)return m(this,_t,On).set(e,i),i;const o=`g_${m(this,Os)}_luminosity_map_${on(this,yl)._++}`,u=N(this,_t,Xu).call(this,o);m(this,_t,On).set(e,u),m(this,_t,On).set(a,u);const h=N(this,_t,Wu).call(this,o);return N(this,_t,vA).call(this,h),e&&N(this,_t,ab).call(this,s,h),u}addHighlightHCMFilter(e,i,s,a,o){var L;const u=`${i}-${s}-${a}-${o}`;let h=m(this,_t,Dd).get(e);if((h==null?void 0:h.key)===u||(h?((L=h.filter)==null||L.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},m(this,_t,Dd).set(e,h)),!i||!s))return h.url;const[d,f]=[i,s].map(N(this,_t,Ld).bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),b=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[x,E]=[a,o].map(N(this,_t,Ld).bind(this));b<g&&([g,b,x,E]=[b,g,E,x]),m(this,_t,Ku).style.color="";const S=(P,V,B)=>{const F=new Array(256),H=(b-g)/B,K=P/255,J=(V-P)/(255*B);let G=0;for(let et=0;et<=B;et++){const ut=Math.round(g+et*H),Et=K+et*J;for(let ot=G;ot<=ut;ot++)F[ot]=Et;G=ut+1}for(let et=G;et<256;et++)F[et]=F[G-1];return F.join(",")},R=`g_${m(this,Os)}_hcm_${e}_filter`,w=h.filter=N(this,_t,Wu).call(this,R);return N(this,_t,sb).call(this,w),N(this,_t,Pd).call(this,S(x[0],E[0],5),S(x[1],E[1],5),S(x[2],E[2],5),w),h.url=N(this,_t,Xu).call(this,R),h.url}destroy(e=!1){var i,s,a,o;e&&((i=m(this,gl))!=null&&i.size)||((s=m(this,$s))==null||s.parentNode.parentNode.remove(),D(this,$s,null),(a=m(this,Tc))==null||a.clear(),D(this,Tc,null),(o=m(this,gl))==null||o.clear(),D(this,gl,null),D(this,yl,0))}}ml=new WeakMap,Tc=new WeakMap,$s=new WeakMap,Os=new WeakMap,Nn=new WeakMap,gl=new WeakMap,yl=new WeakMap,_t=new WeakSet,On=function(){return m(this,Tc)||D(this,Tc,new Map)},Dd=function(){return m(this,gl)||D(this,gl,new Map)},Ku=function(){if(!m(this,$s)){const e=m(this,Nn).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=m(this,Nn).createElementNS(SVG_NS,"svg");s.setAttribute("width",0),s.setAttribute("height",0),D(this,$s,m(this,Nn).createElementNS(SVG_NS,"defs")),e.append(s),s.append(m(this,$s)),m(this,Nn).body.append(e)}return m(this,$s)},Um=function(e){if(e.length===1){const d=e[0],f=new Array(256);for(let b=0;b<256;b++)f[b]=d[b]/255;const g=f.join(",");return[g,g,g]}const[i,s,a]=e,o=new Array(256),u=new Array(256),h=new Array(256);for(let d=0;d<256;d++)o[d]=i[d]/255,u[d]=s[d]/255,h[d]=a[d]/255;return[o.join(","),u.join(","),h.join(",")]},Xu=function(e){if(m(this,ml)===void 0){D(this,ml,"");const i=m(this,Nn).URL;i!==m(this,Nn).baseURI&&(isDataScheme(i)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):D(this,ml,updateUrlHash(i,"")))}return`url(${m(this,ml)}#${e})`},vA=function(e){const i=m(this,Nn).createElementNS(SVG_NS,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},sb=function(e){const i=m(this,Nn).createElementNS(SVG_NS,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Wu=function(e){const i=m(this,Nn).createElementNS(SVG_NS,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),m(this,_t,Ku).append(i),i},Md=function(e,i,s){const a=m(this,Nn).createElementNS(SVG_NS,i);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)},Pd=function(e,i,s,a){const o=m(this,Nn).createElementNS(SVG_NS,"feComponentTransfer");a.append(o),N(this,_t,Md).call(this,o,"feFuncR",e),N(this,_t,Md).call(this,o,"feFuncG",i),N(this,_t,Md).call(this,o,"feFuncB",s)},ab=function(e,i){const s=m(this,Nn).createElementNS(SVG_NS,"feComponentTransfer");i.append(s),N(this,_t,Md).call(this,s,"feFuncA",e)},Ld=function(e){return m(this,_t,Ku).style.color=e,getRGB(getComputedStyle(m(this,_t,Ku)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(t){const e=await fetchData(t,"arraybuffer");return new Uint8Array(e)}}class BaseWasmFactory{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){unreachable("Abstract method `_fetch` called.")}}class DOMWasmFactory extends BaseWasmFactory{async _fetch(t){const e=await fetchData(t,"arraybuffer");return new Uint8Array(e)}}isNodeJS&&warn("Please use the `legacy` build in Node.js environments.");async function node_utils_fetchData(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(t){return node_utils_fetchData(t)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(t){return node_utils_fetchData(t)}}class NodeWasmFactory extends BaseWasmFactory{async _fetch(t){return node_utils_fetchData(t)}}const FORCED_DEPENDENCY_LABEL="__forcedDependency",{floor,ceil}=Math;function expandBBox(n,t,e,i,s,a){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],i),n[t*4+2]=Math.max(n[t*4+2],s),n[t*4+3]=Math.max(n[t*4+3],a)}const EMPTY_BBOX=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Cc,Ka;class BBoxReader{constructor(t,e){$(this,Cc);$(this,Ka);D(this,Cc,t),D(this,Ka,e)}get length(){return m(this,Cc).length}isEmpty(t){return m(this,Cc)[t]===EMPTY_BBOX}minX(t){return m(this,Ka)[t*4+0]/256}minY(t){return m(this,Ka)[t*4+1]/256}maxX(t){return(m(this,Ka)[t*4+2]+1)/256}maxY(t){return(m(this,Ka)[t*4+3]+1)/256}}Cc=new WeakMap,Ka=new WeakMap;const ensureDebugMetadata=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};var ai,oi,bl,gr,xl,Is,me,Ee,Bs,li,vf,Rc,vl,El,Ns,Fn,zr,Ef,ob;class CanvasDependencyTracker{constructor(t,e,i=!1){$(this,Ef);$(this,ai,{__proto__:null});$(this,oi,{__proto__:null,transform:[],moveText:[],sameLineText:[],[FORCED_DEPENDENCY_LABEL]:[]});$(this,bl,new Map);$(this,gr,[]);$(this,xl,[]);$(this,Is,[[1,0,0,1,0,0]]);$(this,me,[-1/0,-1/0,1/0,1/0]);$(this,Ee,new Float64Array([1/0,1/0,-1/0,-1/0]));$(this,Bs,-1);$(this,li,new Set);$(this,vf,new Map);$(this,Rc,new Map);$(this,vl);$(this,El);$(this,Ns);$(this,Fn);$(this,zr);D(this,vl,t.width),D(this,El,t.height),N(this,Ef,ob).call(this,e),i&&D(this,zr,new Map)}growOperationsCount(t){t>=m(this,Fn).length&&N(this,Ef,ob).call(this,t,m(this,Fn))}save(t){return D(this,ai,{__proto__:m(this,ai)}),D(this,oi,{__proto__:m(this,oi),transform:{__proto__:m(this,oi).transform},moveText:{__proto__:m(this,oi).moveText},sameLineText:{__proto__:m(this,oi).sameLineText},[FORCED_DEPENDENCY_LABEL]:{__proto__:m(this,oi)[FORCED_DEPENDENCY_LABEL]}}),D(this,me,{__proto__:m(this,me)}),m(this,gr).push(t),this}restore(t){var s;const e=Object.getPrototypeOf(m(this,ai));if(e===null)return this;D(this,ai,e),D(this,oi,Object.getPrototypeOf(m(this,oi))),D(this,me,Object.getPrototypeOf(m(this,me)));const i=m(this,gr).pop();return i!==void 0&&((s=ensureDebugMetadata(m(this,zr),t))==null||s.dependencies.add(i),m(this,Fn)[t]=m(this,Fn)[i]),this}recordOpenMarker(t){return m(this,gr).push(t),this}getOpenMarker(){return m(this,gr).length===0?null:m(this,gr).at(-1)}recordCloseMarker(t){var i;const e=m(this,gr).pop();return e!==void 0&&((i=ensureDebugMetadata(m(this,zr),t))==null||i.dependencies.add(e),m(this,Fn)[t]=m(this,Fn)[e]),this}beginMarkedContent(t){return m(this,xl).push(t),this}endMarkedContent(t){var i;const e=m(this,xl).pop();return e!==void 0&&((i=ensureDebugMetadata(m(this,zr),t))==null||i.dependencies.add(e),m(this,Fn)[t]=m(this,Fn)[e]),this}pushBaseTransform(t){return m(this,Is).push(Util.multiplyByDOMMatrix(m(this,Is).at(-1),t.getTransform())),this}popBaseTransform(){return m(this,Is).length>1&&m(this,Is).pop(),this}recordSimpleData(t,e){return m(this,ai)[t]=e,this}recordIncrementalData(t,e){return m(this,oi)[t].push(e),this}resetIncrementalData(t,e){return m(this,oi)[t].length=0,this}recordNamedData(t,e){return m(this,bl).set(t,e),this}recordSimpleDataFromNamed(t,e,i){m(this,ai)[t]=m(this,bl).get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(FORCED_DEPENDENCY_LABEL,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in m(this,ai)&&this.recordFutureForcedDependency(e,m(this,ai)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of m(this,li))this.recordFutureForcedDependency(FORCED_DEPENDENCY_LABEL,t);return this}resetBBox(t){return m(this,Bs)!==t&&(D(this,Bs,t),m(this,Ee)[0]=1/0,m(this,Ee)[1]=1/0,m(this,Ee)[2]=-1/0,m(this,Ee)[3]=-1/0),this}recordClipBox(t,e,i,s,a,o){const u=Util.multiplyByDOMMatrix(m(this,Is).at(-1),e.getTransform()),h=[1/0,1/0,-1/0,-1/0];Util.axialAlignedBoundingBox([i,a,s,o],u,h);const d=Util.intersect(m(this,me),h);return d?(m(this,me)[0]=d[0],m(this,me)[1]=d[1],m(this,me)[2]=d[2],m(this,me)[3]=d[3]):(m(this,me)[0]=m(this,me)[1]=1/0,m(this,me)[2]=m(this,me)[3]=-1/0),this}recordBBox(t,e,i,s,a,o){const u=m(this,me);if(u[0]===1/0)return this;const h=Util.multiplyByDOMMatrix(m(this,Is).at(-1),e.getTransform());if(u[0]===-1/0)return Util.axialAlignedBoundingBox([i,a,s,o],h,m(this,Ee)),this;const d=[1/0,1/0,-1/0,-1/0];return Util.axialAlignedBoundingBox([i,a,s,o],h,d),m(this,Ee)[0]=Math.min(m(this,Ee)[0],Math.max(d[0],u[0])),m(this,Ee)[1]=Math.min(m(this,Ee)[1],Math.max(d[1],u[1])),m(this,Ee)[2]=Math.max(m(this,Ee)[2],Math.min(d[2],u[2])),m(this,Ee)[3]=Math.max(m(this,Ee)[3],Math.min(d[3],u[3])),this}recordCharacterBBox(t,e,i,s=1,a=0,o=0,u){const h=i.bbox;let d,f;if(h&&(d=h[2]!==h[0]&&h[3]!==h[1]&&m(this,Rc).get(i),d!==!1&&(f=[0,0,0,0],Util.axialAlignedBoundingBox(h,i.fontMatrix,f),(s!==1||a!==0||o!==0)&&Util.scaleMinMax([s,0,0,-s,a,o],f),d)))return this.recordBBox(t,e,f[0],f[2],f[1],f[3]);if(!u)return this.recordFullPageBBox(t);const g=u();return h&&f&&d===void 0&&(d=f[0]<=a-g.actualBoundingBoxLeft&&f[2]>=a+g.actualBoundingBoxRight&&f[1]<=o-g.actualBoundingBoxAscent&&f[3]>=o+g.actualBoundingBoxDescent,m(this,Rc).set(i,d),d)?this.recordBBox(t,e,f[0],f[2],f[1],f[3]):this.recordBBox(t,e,a-g.actualBoundingBoxLeft,a+g.actualBoundingBoxRight,o-g.actualBoundingBoxAscent,o+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return m(this,Ee)[0]=Math.max(0,m(this,me)[0]),m(this,Ee)[1]=Math.max(0,m(this,me)[1]),m(this,Ee)[2]=Math.min(m(this,vl),m(this,me)[2]),m(this,Ee)[3]=Math.min(m(this,El),m(this,me)[3]),this}getSimpleIndex(t){return m(this,ai)[t]}recordDependencies(t,e){const i=m(this,li),s=m(this,ai),a=m(this,oi);for(const o of e)o in m(this,ai)?i.add(s[o]):o in a&&a[o].forEach(i.add,i);return this}recordNamedDependency(t,e){return m(this,bl).has(e)&&m(this,li).add(m(this,bl).get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[FORCED_DEPENDENCY_LABEL]),m(this,zr)){const i=ensureDebugMetadata(m(this,zr),t),{dependencies:s}=i;m(this,li).forEach(s.add,s),m(this,gr).forEach(s.add,s),m(this,xl).forEach(s.add,s),s.delete(t),i.isRenderingOperation=!0}if(m(this,Bs)===t){const i=floor(m(this,Ee)[0]*256/m(this,vl)),s=floor(m(this,Ee)[1]*256/m(this,El)),a=ceil(m(this,Ee)[2]*256/m(this,vl)),o=ceil(m(this,Ee)[3]*256/m(this,El));expandBBox(m(this,Ns),t,i,s,a,o);for(const u of m(this,li))u!==t&&expandBBox(m(this,Ns),u,i,s,a,o);for(const u of m(this,gr))u!==t&&expandBBox(m(this,Ns),u,i,s,a,o);for(const u of m(this,xl))u!==t&&expandBBox(m(this,Ns),u,i,s,a,o);e||(m(this,li).clear(),D(this,Bs,-1))}return this}recordShowTextOperation(t,e=!1){const i=Array.from(m(this,li));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of i)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return m(this,Bs)===t&&(D(this,Bs,-1),m(this,me)[0]=Math.max(m(this,me)[0],m(this,Ee)[0]),m(this,me)[1]=Math.max(m(this,me)[1],m(this,Ee)[1]),m(this,me)[2]=Math.min(m(this,me)[2],m(this,Ee)[2]),m(this,me)[3]=Math.min(m(this,me)[3],m(this,Ee)[3]),e||m(this,li).clear()),this}_takePendingDependencies(){const t=m(this,li);return D(this,li,new Set),t}_extractOperation(t){const e=m(this,vf).get(t);return m(this,vf).delete(t),e}_pushPendingDependencies(t){for(const e of t)m(this,li).add(e)}take(){return m(this,Rc).clear(),new BBoxReader(m(this,Fn),m(this,Ns))}takeDebugMetadata(){return m(this,zr)}}ai=new WeakMap,oi=new WeakMap,bl=new WeakMap,gr=new WeakMap,xl=new WeakMap,Is=new WeakMap,me=new WeakMap,Ee=new WeakMap,Bs=new WeakMap,li=new WeakMap,vf=new WeakMap,Rc=new WeakMap,vl=new WeakMap,El=new WeakMap,Ns=new WeakMap,Fn=new WeakMap,zr=new WeakMap,Ef=new WeakSet,ob=function(t,e){const i=new ArrayBuffer(t*4);D(this,Ns,new Uint8ClampedArray(i)),D(this,Fn,new Uint32Array(i)),e&&e.length>0?(m(this,Fn).set(e),m(this,Fn).fill(EMPTY_BBOX,e.length)):m(this,Fn).fill(EMPTY_BBOX)};var Re,ze,yr,_c,kc;const Kb=class Kb{constructor(t,e,i){$(this,Re);$(this,ze);$(this,yr);$(this,_c,0);$(this,kc,0);if(t instanceof Kb&&m(t,yr)===!!i)return t;D(this,Re,t),D(this,ze,e),D(this,yr,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(t){return on(this,kc)._++,m(this,Re).save(m(this,ze)),this}restore(t){return m(this,kc)>0&&(m(this,Re).restore(m(this,ze)),on(this,kc)._--),this}recordOpenMarker(t){return on(this,_c)._++,this}getOpenMarker(){return m(this,_c)>0?m(this,ze):m(this,Re).getOpenMarker()}recordCloseMarker(t){return on(this,_c)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return m(this,Re).pushBaseTransform(t),this}popBaseTransform(){return m(this,Re).popBaseTransform(),this}recordSimpleData(t,e){return m(this,Re).recordSimpleData(t,m(this,ze)),this}recordIncrementalData(t,e){return m(this,Re).recordIncrementalData(t,m(this,ze)),this}resetIncrementalData(t,e){return m(this,Re).resetIncrementalData(t,m(this,ze)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return m(this,Re).recordSimpleDataFromNamed(t,e,m(this,ze)),this}recordFutureForcedDependency(t,e){return m(this,Re).recordFutureForcedDependency(t,m(this,ze)),this}inheritSimpleDataAsFutureForcedDependencies(t){return m(this,Re).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return m(this,Re).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return m(this,yr)||m(this,Re).resetBBox(m(this,ze)),this}recordClipBox(t,e,i,s,a,o){return m(this,yr)||m(this,Re).recordClipBox(m(this,ze),e,i,s,a,o),this}recordBBox(t,e,i,s,a,o){return m(this,yr)||m(this,Re).recordBBox(m(this,ze),e,i,s,a,o),this}recordCharacterBBox(t,e,i,s,a,o,u){return m(this,yr)||m(this,Re).recordCharacterBBox(m(this,ze),e,i,s,a,o,u),this}recordFullPageBBox(t){return m(this,yr)||m(this,Re).recordFullPageBBox(m(this,ze)),this}getSimpleIndex(t){return m(this,Re).getSimpleIndex(t)}recordDependencies(t,e){return m(this,Re).recordDependencies(m(this,ze),e),this}recordNamedDependency(t,e){return m(this,Re).recordNamedDependency(m(this,ze),e),this}recordOperation(t){return m(this,Re).recordOperation(m(this,ze),!0),this}recordShowTextOperation(t){return m(this,Re).recordShowTextOperation(m(this,ze),!0),this}bboxToClipBoxDropOperation(t){return m(this,yr)||m(this,Re).bboxToClipBoxDropOperation(m(this,ze),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Re=new WeakMap,ze=new WeakMap,yr=new WeakMap,_c=new WeakMap,kc=new WeakMap;let CanvasNestedDependencyTracker=Kb;const Dependencies={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class BaseShadingPattern{isModifyingCurrentTransform(){return!1}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let a;if(s===PathType.STROKE||s===PathType.FILL){const o=e.current.getClippedPathBoundingBox(s,getCurrentTransform(t))||[0,0,0,0],u=Math.ceil(o[2]-o[0])||1,h=Math.ceil(o[3]-o[1])||1,d=e.cachedCanvases.getCanvas("pattern",u,h),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),i=Util.transform(i,[1,0,0,1,o[0],o[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),applyBoundingBox(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=t.createPattern(d.canvas,"no-repeat");const g=new DOMMatrix(i);a.setTransform(g)}else applyBoundingBox(t,this._bbox),a=this._createGradient(t);return a}}function drawTriangle(n,t,e,i,s,a,o,u){const h=t.coords,d=t.colors,f=n.data,g=n.width*4;let b;h[e+1]>h[i+1]&&(b=e,e=i,i=b,b=a,a=o,o=b),h[i+1]>h[s+1]&&(b=i,i=s,s=b,b=o,o=u,u=b),h[e+1]>h[i+1]&&(b=e,e=i,i=b,b=a,a=o,o=b);const x=(h[e]+t.offsetX)*t.scaleX,E=(h[e+1]+t.offsetY)*t.scaleY,S=(h[i]+t.offsetX)*t.scaleX,R=(h[i+1]+t.offsetY)*t.scaleY,w=(h[s]+t.offsetX)*t.scaleX,L=(h[s+1]+t.offsetY)*t.scaleY;if(E>=L)return;const P=d[a],V=d[a+1],B=d[a+2],F=d[o],H=d[o+1],K=d[o+2],J=d[u],G=d[u+1],et=d[u+2],ut=Math.round(E),Et=Math.round(L);let ot,dt,Q,Z,it,Ct,I,at;for(let pt=ut;pt<=Et;pt++){if(pt<R){const Lt=pt<E?0:(E-pt)/(E-R);ot=x-(x-S)*Lt,dt=P-(P-F)*Lt,Q=V-(V-H)*Lt,Z=B-(B-K)*Lt}else{let Lt;pt>L?Lt=1:R===L?Lt=0:Lt=(R-pt)/(R-L),ot=S-(S-w)*Lt,dt=F-(F-J)*Lt,Q=H-(H-G)*Lt,Z=K-(K-et)*Lt}let z;pt<E?z=0:pt>L?z=1:z=(E-pt)/(E-L),it=x-(x-w)*z,Ct=P-(P-J)*z,I=V-(V-G)*z,at=B-(B-et)*z;const St=Math.round(Math.min(ot,it)),Tt=Math.round(Math.max(ot,it));let wt=g*pt+St*4;for(let Lt=St;Lt<=Tt;Lt++)z=(ot-Lt)/(ot-it),z<0?z=0:z>1&&(z=1),f[wt++]=dt-(dt-Ct)*z|0,f[wt++]=Q-(Q-I)*z|0,f[wt++]=Z-(Z-at)*z|0,f[wt++]=255}}function drawFigure(n,t,e){const i=t.coords,s=t.colors;let a,o;switch(t.type){case"lattice":const u=t.verticesPerRow,h=Math.floor(i.length/u)-1,d=u-1;for(a=0;a<h;a++){let f=a*u;for(let g=0;g<d;g++,f++)drawTriangle(n,e,i[f],i[f+1],i[f+u],s[f],s[f+1],s[f+u]),drawTriangle(n,e,i[f+u+1],i[f+1],i[f+u],s[f+u+1],s[f+1],s[f+u])}break;case"triangles":for(a=0,o=i.length;a<o;a+=3)drawTriangle(n,e,i[a],i[a+1],i[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-u,f=Math.ceil(this._bounds[3])-h,g=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),x=d/g,E=f/b,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/x,scaleY:1/E},R=g+2*2,w=b+2*2,L=i.getCanvas("mesh",R,w),P=L.context,V=P.createImageData(g,b);if(e){const F=V.data;for(let H=0,K=F.length;H<K;H+=4)F[H]=e[0],F[H+1]=e[1],F[H+2]=e[2],F[H+3]=255}for(const F of this._figures)drawFigure(V,F,S);return P.putImageData(V,2,2),{canvas:L.canvas,offsetX:u-2*x,offsetY:h-2*E,scaleX:x,scaleY:E}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,s){applyBoundingBox(t,this._bbox);const a=new Float32Array(2);if(s===PathType.SHADING)Util.singularValueDecompose2dScale(getCurrentTransform(t),a);else if(this.matrix){Util.singularValueDecompose2dScale(this.matrix,a);const[u,h]=a;Util.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=u,a[1]*=h}else Util.singularValueDecompose2dScale(e.baseTransform,a);const o=this._createMeshCanvas(a,s===PathType.SHADING?null:this._background,e.cachedCanvases);return s!==PathType.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(n){switch(n[0]){case"RadialAxial":return new RadialAxialShadingPattern(n);case"Mesh":return new MeshShadingPattern(n);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${n[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},Eg=class Eg{constructor(t,e,i,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t,e){var Ct,I;const{bbox:i,operatorList:s,paintType:a,tilingType:o,color:u,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),info("TilingType: "+o);const g=i[0],b=i[1],x=i[2],E=i[3],S=x-g,R=E-b,w=new Float32Array(2);Util.singularValueDecompose2dScale(this.matrix,w);const[L,P]=w;Util.singularValueDecompose2dScale(this.baseTransform,w);const V=L*w[0],B=P*w[1];let F=S,H=R,K=!1,J=!1;const G=Math.ceil(d*V),et=Math.ceil(f*B),ut=Math.ceil(S*V),Et=Math.ceil(R*B);G>=ut?F=d:K=!0,et>=Et?H=f:J=!0;const ot=this.getSizeAndScale(F,this.ctx.canvas.width,V),dt=this.getSizeAndScale(H,this.ctx.canvas.height,B),Q=t.cachedCanvases.getCanvas("pattern",ot.size,dt.size),Z=Q.context,it=h.createCanvasGraphics(Z,e);if(it.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(it,a,u),Z.translate(-ot.scale*g,-dt.scale*b),it.transform(0,ot.scale,0,0,dt.scale,0,0),Z.save(),(Ct=it.dependencyTracker)==null||Ct.save(),this.clipBbox(it,g,b,x,E),it.baseTransform=getCurrentTransform(it.ctx),it.executeOperatorList(s),it.endDrawing(),(I=it.dependencyTracker)==null||I.restore(),Z.restore(),K||J){const at=Q.canvas;K&&(F=d),J&&(H=f);const pt=this.getSizeAndScale(F,this.ctx.canvas.width,V),z=this.getSizeAndScale(H,this.ctx.canvas.height,B),St=pt.size,Tt=z.size,wt=t.cachedCanvases.getCanvas("pattern-workaround",St,Tt),Lt=wt.context,Ot=K?Math.floor(S/d):0,Xt=J?Math.floor(R/f):0;for(let jt=0;jt<=Ot;jt++)for(let ue=0;ue<=Xt;ue++)Lt.drawImage(at,St*jt,Tt*ue,St,Tt,0,0,St,Tt);return{canvas:wt.canvas,scaleX:pt.scale,scaleY:z.scale,offsetX:g,offsetY:b}}return{canvas:Q.canvas,scaleX:ot.scale,scaleY:dt.scale,offsetX:g,offsetY:b}}getSizeAndScale(t,e,i){const s=Math.max(Eg.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*i);return a>=s?a=s:i=a/t,{scale:i,size:a}}clipBbox(t,e,i,s,a){const o=s-e,u=a-i;t.ctx.rect(e,i,o,u),Util.axialAlignedBoundingBox([e,i,s,a],getCurrentTransform(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,a=t.current;switch(e){case PaintType.COLORED:const{fillStyle:o,strokeStyle:u}=this.ctx;s.fillStyle=a.fillColor=o,s.strokeStyle=a.strokeColor=u;break;case PaintType.UNCOLORED:s.fillStyle=s.strokeStyle=i,a.fillColor=a.strokeColor=i;break;default:throw new FormatError(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,s,a){let o=i;s!==PathType.SHADING&&(o=Util.transform(o,e.baseTransform),this.matrix&&(o=Util.transform(o,this.matrix)));const u=this.createPatternCanvas(e,a);let h=new DOMMatrix(o);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const d=t.createPattern(u.canvas,"repeat");return d.setTransform(h),d}};At(Eg,"MAX_PATTERN_SIZE",3e3);let TilingPattern=Eg;function convertBlackAndWhiteToRGBA({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const u=util_FeatureTest.isLittleEndian?4278190080:255,[h,d]=o?[a,u]:[u,a],f=i>>3,g=i&7,b=n.length;e=new Uint32Array(e.buffer);let x=0;for(let E=0;E<s;E++){for(const R=t+f;t<R;t++){const w=t<b?n[t]:255;e[x++]=w&128?d:h,e[x++]=w&64?d:h,e[x++]=w&32?d:h,e[x++]=w&16?d:h,e[x++]=w&8?d:h,e[x++]=w&4?d:h,e[x++]=w&2?d:h,e[x++]=w&1?d:h}if(g===0)continue;const S=t<b?n[t++]:255;for(let R=0;R<g;R++)e[x++]=S&1<<7-R?d:h}return{srcPos:t,destPos:x}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,FULL_CHUNK_HEIGHT=16,SCALE_MATRIX=new DOMMatrix,XY=new Float32Array(2),MIN_MAX_INIT=new Float32Array([1/0,1/0,-1/0,-1/0]);function mirrorContextOperations(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,s,a,o,u){t.transform(e,i,s,a,o,u),this.__originalTransform(e,i,s,a,o,u)},n.setTransform=function(e,i,s,a,o,u){t.setTransform(e,i,s,a,o,u),this.__originalSetTransform(e,i,s,a,o,u)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,a,o,u){t.bezierCurveTo(e,i,s,a,o,u),this.__originalBezierCurveTo(e,i,s,a,o,u)},n.rect=function(e,i,s,a){t.rect(e,i,s,a),this.__originalRect(e,i,s,a)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function drawImageAtIntegerCoords(n,t,e,i,s,a,o,u,h,d){const[f,g,b,x,E,S]=getCurrentTransform(n);if(g===0&&b===0){const L=o*f+E,P=Math.round(L),V=u*x+S,B=Math.round(V),F=(o+h)*f+E,H=Math.abs(Math.round(F)-P)||1,K=(u+d)*x+S,J=Math.abs(Math.round(K)-B)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(x),P,B),n.drawImage(t,e,i,s,a,0,0,H,J),n.setTransform(f,g,b,x,E,S),[H,J]}if(f===0&&x===0){const L=u*b+E,P=Math.round(L),V=o*g+S,B=Math.round(V),F=(u+d)*b+E,H=Math.abs(Math.round(F)-P)||1,K=(o+h)*g+S,J=Math.abs(Math.round(K)-B)||1;return n.setTransform(0,Math.sign(g),Math.sign(b),0,P,B),n.drawImage(t,e,i,s,a,0,0,J,H),n.setTransform(f,g,b,x,E,S),[J,H]}n.drawImage(t,e,i,s,a,o,u,h,d);const R=Math.hypot(f,g),w=Math.hypot(b,x);return[R*h,w*d]}class CanvasExtraState{constructor(t,e,i){At(this,"alphaIsShape",!1);At(this,"fontSize",0);At(this,"fontSizeScale",1);At(this,"textMatrix",null);At(this,"textMatrixScale",1);At(this,"fontMatrix",FONT_IDENTITY_MATRIX);At(this,"leading",0);At(this,"x",0);At(this,"y",0);At(this,"lineX",0);At(this,"lineY",0);At(this,"charSpacing",0);At(this,"wordSpacing",0);At(this,"textHScale",1);At(this,"textRenderingMode",TextRenderingMode.FILL);At(this,"textRise",0);At(this,"fillColor","#000000");At(this,"strokeColor","#000000");At(this,"patternFill",!1);At(this,"patternStroke",!1);At(this,"fillAlpha",1);At(this,"strokeAlpha",1);At(this,"lineWidth",1);At(this,"activeSMask",null);At(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=MIN_MAX_INIT.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=PathType.FILL,e=null){const i=this.minMax.slice();if(t===PathType.STROKE){e||unreachable("Stroke bounding box must include transform."),Util.singularValueDecompose2dScale(e,XY);const s=XY[0]*this.lineWidth/2,a=XY[1]*this.lineWidth/2;i[0]-=s,i[1]-=a,i[2]+=s,i[3]+=a}return i}updateClipFromPath(){const t=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(MIN_MAX_INIT,0)}getClippedPathBoundingBox(t=PathType.FILL,e=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function putBinaryImageData(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%FULL_CHUNK_HEIGHT,a=(e-s)/FULL_CHUNK_HEIGHT,o=s===0?a:a+1,u=n.createImageData(i,FULL_CHUNK_HEIGHT);let h=0,d;const f=t.data,g=u.data;let b,x,E,S;if(t.kind===util_ImageKind.GRAYSCALE_1BPP){const R=f.byteLength,w=new Uint32Array(g.buffer,0,g.byteLength>>2),L=w.length,P=i+7>>3,V=4294967295,B=util_FeatureTest.isLittleEndian?4278190080:255;for(b=0;b<o;b++){for(E=b<a?FULL_CHUNK_HEIGHT:s,d=0,x=0;x<E;x++){const F=R-h;let H=0;const K=F>P?i:F*8-7,J=K&-8;let G=0,et=0;for(;H<J;H+=8)et=f[h++],w[d++]=et&128?V:B,w[d++]=et&64?V:B,w[d++]=et&32?V:B,w[d++]=et&16?V:B,w[d++]=et&8?V:B,w[d++]=et&4?V:B,w[d++]=et&2?V:B,w[d++]=et&1?V:B;for(;H<K;H++)G===0&&(et=f[h++],G=128),w[d++]=et&G?V:B,G>>=1}for(;d<L;)w[d++]=0;n.putImageData(u,0,b*FULL_CHUNK_HEIGHT)}}else if(t.kind===util_ImageKind.RGBA_32BPP){for(x=0,S=i*FULL_CHUNK_HEIGHT*4,b=0;b<a;b++)g.set(f.subarray(h,h+S)),h+=S,n.putImageData(u,0,x),x+=FULL_CHUNK_HEIGHT;b<o&&(S=i*s*4,g.set(f.subarray(h,h+S)),n.putImageData(u,0,x))}else if(t.kind===util_ImageKind.RGB_24BPP)for(E=FULL_CHUNK_HEIGHT,S=i*E,b=0;b<o;b++){for(b>=a&&(E=s,S=i*E),d=0,x=S;x--;)g[d++]=f[h++],g[d++]=f[h++],g[d++]=f[h++],g[d++]=255;n.putImageData(u,0,b*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${t.kind}`)}function putBinaryImageMask(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%FULL_CHUNK_HEIGHT,a=(e-s)/FULL_CHUNK_HEIGHT,o=s===0?a:a+1,u=n.createImageData(i,FULL_CHUNK_HEIGHT);let h=0;const d=t.data,f=u.data;for(let g=0;g<o;g++){const b=g<a?FULL_CHUNK_HEIGHT:s;({srcPos:h}=convertBlackAndWhiteToRGBA({src:d,srcPos:h,dest:f,width:i,height:b,nonBlackColor:0})),n.putImageData(u,0,g*FULL_CHUNK_HEIGHT)}}function copyCtxState(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function resetCtxToDefault(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function getImageSmoothingEnabled(n,t){if(t)return!0;Util.singularValueDecompose2dScale(n,XY);const e=Math.fround(OutputScale.pixelRatio*PixelsPerInch.PDF_TO_CSS_UNITS);return XY[0]<=e&&XY[1]<=e}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Cr,lb,ub,cb;const Xb=class Xb{constructor(t,e,i,s,a,{optionalContentConfig:o,markedContentStack:u=null},h,d,f){$(this,Cr);this.ctx=t,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=o,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(t,e,i=null){var s;return typeof e=="string"?((s=this.dependencyTracker)==null||s.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=u,i){const h=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(t,e,i,s,a){var w;const o=t.argsArray,u=t.fnArray;let h=e||0;const d=o.length;if(d===h)return h;const f=d-h>EXECUTION_STEPS&&typeof i=="function",g=f?Date.now()+EXECUTION_TIME:0;let b=0;const x=this.commonObjs,E=this.objs;let S,R;for(;;){if(s!==void 0&&h===s.nextBreakPoint)return s.breakIt(h,i),h;if(!a||a(h))if(S=u[h],R=o[h]??null,S!==OPS.dependency)R===null?this[S](h):this[S](h,...R);else for(const L of R){(w=this.dependencyTracker)==null||w.recordNamedData(L,h);const P=L.startsWith("g_")?x:E;if(!P.has(L))return P.get(L,i),h}if(h++,h===d)return h;if(f&&++b>EXECUTION_STEPS){if(Date.now()>g)return i(),h;b=0}}}endDrawing(){N(this,Cr,lb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),N(this,Cr,ub).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),u=i,h=s,d="prescale1",f,g;for(;a>2&&u>1||o>2&&h>1;){let b=u,x=h;a>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),a/=u/b),o>2&&h>1&&(x=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,o/=h/x),f=this.cachedCanvases.getCanvas(d,b,x),g=f.context,g.clearRect(0,0,b,x),g.drawImage(t,0,0,u,h,0,0,b,x),t=f.canvas,u=b,h=x,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t,e){var G,et;const i=this.ctx,{width:s,height:a}=e,o=this.current.fillColor,u=this.current.patternFill,h=getCurrentTransform(i);let d,f,g,b;if((e.bitmap||e.data)&&e.count>1){const ut=e.bitmap||e.data.buffer;f=JSON.stringify(u?h:[h.slice(0,4),o]),d=this._cachedBitmapsMap.get(ut),d||(d=new Map,this._cachedBitmapsMap.set(ut,d));const Et=d.get(f);if(Et&&!u){const ot=Math.round(Math.min(h[0],h[2])+h[4]),dt=Math.round(Math.min(h[1],h[3])+h[5]);return(G=this.dependencyTracker)==null||G.recordDependencies(t,Dependencies.transformAndFill),{canvas:Et,offsetX:ot,offsetY:dt}}g=Et}g||(b=this.cachedCanvases.getCanvas("maskCanvas",s,a),putBinaryImageMask(b.context,e));let x=Util.transform(h,[1/s,0,0,-1/a,0,0]);x=Util.transform(x,[1,0,0,1,0,-a]);const E=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,s,a],x,E);const[S,R,w,L]=E,P=Math.round(w-S)||1,V=Math.round(L-R)||1,B=this.cachedCanvases.getCanvas("fillCanvas",P,V),F=B.context,H=S,K=R;F.translate(-H,-K),F.transform(...x),g||(g=this._scaleImage(b.canvas,getCurrentTransformInverse(F)),g=g.img,d&&u&&d.set(f,g)),F.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(F),e.interpolate),drawImageAtIntegerCoords(F,g,0,0,g.width,g.height,0,0,s,a),F.globalCompositeOperation="source-in";const J=Util.transform(getCurrentTransformInverse(F),[1,0,0,1,-H,-K]);return F.fillStyle=u?o.getPattern(i,this,J,PathType.FILL,t):o,F.fillRect(0,0,s,a),d&&!u&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,B.canvas)),(et=this.dependencyTracker)==null||et.recordDependencies(t,Dependencies.transformAndFill),{canvas:B.canvas,offsetX:Math.round(H),offsetY:Math.round(K)}}setLineWidth(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",t),this.ctx.lineCap=LINE_CAP_STYLES[e]}setLineJoin(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",t),this.ctx.lineJoin=LINE_JOIN_STYLES[e]}setMiterLimit(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var i,s,a,o,u;for(const[h,d]of e)switch(h){case"LW":this.setLineWidth(t,d);break;case"LC":this.setLineCap(t,d);break;case"LJ":this.setLineJoin(t,d);break;case"ML":this.setMiterLimit(t,d);break;case"D":this.setDash(t,d[0],d[1]);break;case"RI":this.setRenderingIntent(t,d);break;case"FL":this.setFlatness(t,d);break;case"Font":this.setFont(t,d[0],d[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=d;break;case"ca":(s=this.dependencyTracker)==null||s.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":(a=this.dependencyTracker)==null||a.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=d;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",t),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(u=this.dependencyTracker)==null||u.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,e,i);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),copyCtxState(this.suspendedCtx,o),mirrorContextOperations(o,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const a=s[0],o=s[1],u=s[2]-a,h=s[3]-o;u===0||h===0||(this.genericComposeSMask(e.context,i,u,h,e.subtype,e.backdrop,e.transferMap,a,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,a,o,u,h,d,f,g){let b=t.canvas,x=h-f,E=d-g;if(o)if(x<0||E<0||x+i>b.width||E+s>b.height){const R=this.cachedCanvases.getCanvas("maskExtension",i,s),w=R.context;w.drawImage(b,-x,-E),w.globalCompositeOperation="destination-atop",w.fillStyle=o,w.fillRect(0,0,i,s),w.globalCompositeOperation="source-over",b=R.canvas,x=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(x,E,i,s),t.clip(R),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(x,E,i,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(h,d,i,s),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,x,E,i,s,h,d,i,s),e.restore()}save(t){var i;this.inSMaskMode&&copyCtxState(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(i=this.dependencyTracker)==null||i.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&copyCtxState(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,s,a,o,u){var h;(h=this.dependencyTracker)==null||h.recordIncrementalData("transform",t),this.ctx.transform(e,i,s,a,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,s){let[a]=i;if(!s){a||(a=i[0]=new Path2D),this[e](t,a);return}if(this.dependencyTracker!==null){const o=e===OPS.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-o,s[2]+o,s[1]-o,s[3]+o).recordDependencies(t,["transform"])}if(!(a instanceof Path2D)){const o=i[0]=new Path2D;for(let u=0,h=a.length;u<h;)switch(a[u++]){case DrawOPS.moveTo:o.moveTo(a[u++],a[u++]);break;case DrawOPS.lineTo:o.lineTo(a[u++],a[u++]);break;case DrawOPS.curveTo:o.bezierCurveTo(a[u++],a[u++],a[u++],a[u++],a[u++],a[u++]);break;case DrawOPS.closePath:o.closePath();break;default:warn(`Unrecognized drawing path operator: ${a[u-1]}`);break}a=o}Util.axialAlignedBoundingBox(s,getCurrentTransform(this.ctx),this.current.minMax),this[e](t,a),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){var o;const s=this.ctx,a=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const u=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=a.getPattern(s,this,getCurrentTransformInverse(s),PathType.STROKE,t),u){const h=new Path2D;h.addPath(e,s.getTransform().invertSelf().multiplySelf(u)),e=h}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);(o=this.dependencyTracker)==null||o.recordDependencies(t,Dependencies.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(PathType.STROKE,getCurrentTransform(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){var d,f,g;const s=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let u=!1;if(o){const b=a.isModifyingCurrentTransform()?s.getTransform():null;if((d=this.dependencyTracker)==null||d.save(t),s.save(),s.fillStyle=a.getPattern(s,this,getCurrentTransformInverse(s),PathType.FILL,t),b){const x=new Path2D;x.addPath(e,s.getTransform().invertSelf().multiplySelf(b)),e=x}u=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),(f=this.dependencyTracker)==null||f.recordDependencies(t,Dependencies.fill),u&&(s.restore(),(g=this.dependencyTracker)==null||g.restore(t)),i&&this.consumePath(t,e,h)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var i;this.ctx.fill(e),(i=this.dependencyTracker)==null||i.recordDependencies(t,Dependencies.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=NORMAL_CLIP}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=EO_CLIP}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,a=i.getTransform().invertSelf();for(const{transform:o,x:u,y:h,fontSize:d,path:f}of e)f&&s.addPath(f,new DOMMatrix(o).preMultiplySelf(a).translate(u,h).scale(d,-d));i.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){var g,b;(g=this.dependencyTracker)==null||g.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),a=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=s.fontMatrix||FONT_IDENTITY_MATRIX,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+e),i<0?(i=-i,a.fontDirection=-1):a.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const o=s.loadedName||"sans-serif",u=((b=s.systemFontInfo)==null?void 0:b.css)||`"${o}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const d=s.italic?"italic":"normal";let f=i;i<MIN_FONT_SIZE?f=MIN_FONT_SIZE:i>MAX_FONT_SIZE&&(f=MAX_FONT_SIZE),this.current.fontSizeScale=i/f,this.ctx.font=`${d} ${h} ${f}px ${u}`}setTextRenderingMode(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,i,s,a,o){var w,L,P,V;const u=this.ctx,h=this.current,d=h.font,f=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,b=f&TextRenderingMode.FILL_STROKE_MASK,x=!!(f&TextRenderingMode.ADD_TO_PATH_FLAG),E=h.patternFill&&!d.missingFile,S=h.patternStroke&&!d.missingFile;let R;if((d.disableFontFace||x||E||S)&&!d.missingFile&&(R=d.getPathGenerator(this.commonObjs,e)),R&&(d.disableFontFace||E||S)){u.save(),u.translate(i,s),u.scale(g,-g),(w=this.dependencyTracker)==null||w.recordCharacterBBox(t,u,d);let B;if(b===TextRenderingMode.FILL||b===TextRenderingMode.FILL_STROKE)if(a){B=u.getTransform(),u.setTransform(...a);const F=N(this,Cr,cb).call(this,R,B,a);u.fill(F)}else u.fill(R);if(b===TextRenderingMode.STROKE||b===TextRenderingMode.FILL_STROKE)if(o){B||(B=u.getTransform()),u.setTransform(...o);const{a:F,b:H,c:K,d:J}=B,G=Util.inverseTransform(o),et=Util.transform([F,H,K,J,0,0],G);Util.singularValueDecompose2dScale(et,XY),u.lineWidth*=Math.max(XY[0],XY[1])/g,u.stroke(N(this,Cr,cb).call(this,R,B,o))}else u.lineWidth/=g,u.stroke(R);u.restore()}else(b===TextRenderingMode.FILL||b===TextRenderingMode.FILL_STROKE)&&(u.fillText(e,i,s),(L=this.dependencyTracker)==null||L.recordCharacterBBox(t,u,d,g,i,s,()=>u.measureText(e))),(b===TextRenderingMode.STROKE||b===TextRenderingMode.FILL_STROKE)&&(this.dependencyTracker&&((P=this.dependencyTracker)==null||P.recordCharacterBBox(t,u,d,g,i,s,()=>u.measureText(e)).recordDependencies(t,Dependencies.stroke)),u.strokeText(e,i,s));x&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(u),x:i,y:s,fontSize:g,path:R}),(V=this.dependencyTracker)==null||V.recordCharacterBBox(t,u,d,g,i,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return shadow(this,"isFontSubpixelAAEnabled",i)}showText(t,e){var K,J,G,et;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Dependencies.showText).resetBBox(t),this.current.textRenderingMode&TextRenderingMode.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,s=i.font;if(s.isType3Font){this.showType3Text(t,e),(K=this.dependencyTracker)==null||K.recordShowTextOperation(t);return}const a=i.fontSize;if(a===0){(J=this.dependencyTracker)==null||J.recordOperation(t);return}const o=this.ctx,u=i.fontSizeScale,h=i.charSpacing,d=i.wordSpacing,f=i.fontDirection,g=i.textHScale*f,b=e.length,x=s.vertical,E=x?1:-1,S=s.defaultVMetrics,R=a*i.fontMatrix[0],w=i.textRenderingMode===TextRenderingMode.FILL&&!s.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),f>0?o.scale(g,-1):o.scale(g,1);let L,P;if(i.patternFill){o.save();const ut=i.fillColor.getPattern(o,this,getCurrentTransformInverse(o),PathType.FILL,t);L=getCurrentTransform(o),o.restore(),o.fillStyle=ut}if(i.patternStroke){o.save();const ut=i.strokeColor.getPattern(o,this,getCurrentTransformInverse(o),PathType.STROKE,t);P=getCurrentTransform(o),o.restore(),o.strokeStyle=ut}let V=i.lineWidth;const B=i.textMatrixScale;if(B===0||V===0){const ut=i.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(ut===TextRenderingMode.STROKE||ut===TextRenderingMode.FILL_STROKE)&&(V=this.getSinglePixelWidth())}else V/=B;if(u!==1&&(o.scale(u,u),V/=u),o.lineWidth=V,s.isInvalidPDFjsFont){const ut=[];let Et=0;for(const dt of e)ut.push(dt.unicode),Et+=dt.width;const ot=ut.join("");if(o.fillText(ot,0,0),this.dependencyTracker!==null){const dt=o.measureText(ot);this.dependencyTracker.recordBBox(t,this.ctx,-dt.actualBoundingBoxLeft,dt.actualBoundingBoxRight,-dt.actualBoundingBoxAscent,dt.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=Et*R*g,o.restore(),this.compose();return}let F=0,H;for(H=0;H<b;++H){const ut=e[H];if(typeof ut=="number"){F+=E*ut*a/1e3;continue}let Et=!1;const ot=(ut.isSpace?d:0)+h,dt=ut.fontChar,Q=ut.accent;let Z,it,Ct=ut.width;if(x){const pt=ut.vmetric||S,z=-(ut.vmetric?pt[1]:Ct*.5)*R,St=pt[2]*R;Ct=pt?-pt[0]:Ct,Z=z/u,it=(F+St)/u}else Z=F/u,it=0;let I;if(s.remeasure&&Ct>0){I=o.measureText(dt);const pt=I.width*1e3/a*u;if(Ct<pt&&this.isFontSubpixelAAEnabled){const z=Ct/pt;Et=!0,o.save(),o.scale(z,1),Z/=z}else Ct!==pt&&(Z+=(Ct-pt)/2e3*a/u)}if(this.contentVisible&&(ut.isInFont||s.missingFile)){if(w&&!Q)o.fillText(dt,Z,it),(G=this.dependencyTracker)==null||G.recordCharacterBBox(t,o,I?{bbox:null}:s,a/u,Z,it,()=>I??o.measureText(dt));else if(this.paintChar(t,dt,Z,it,L,P),Q){const pt=Z+a*Q.offset.x/u,z=it-a*Q.offset.y/u;this.paintChar(t,Q.fontChar,pt,z,L,P)}}const at=x?Ct*R-ot*f:Ct*R+ot*f;F+=at,Et&&o.restore()}x?i.y-=F:i.x+=F*g,o.restore(),this.compose(),(et=this.dependencyTracker)==null||et.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,s=this.current,a=s.font,o=s.fontSize,u=s.fontDirection,h=a.vertical?1:-1,d=s.charSpacing,f=s.wordSpacing,g=s.textHScale*u,b=s.fontMatrix||FONT_IDENTITY_MATRIX,x=e.length,E=s.textRenderingMode===TextRenderingMode.INVISIBLE;let S,R,w,L;if(E||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),s.textMatrix&&i.transform(...s.textMatrix),i.translate(s.x,s.y+s.textRise),i.scale(g,u);const P=this.dependencyTracker;for(this.dependencyTracker=P?new CanvasNestedDependencyTracker(P,t):null,S=0;S<x;++S){if(R=e[S],typeof R=="number"){L=h*R*o/1e3,this.ctx.translate(L,0),s.x+=L*g;continue}const V=(R.isSpace?f:0)+d,B=a.charProcOperatorList[R.operatorListId];B?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...b),this.executeOperatorList(B),this.restore()):warn(`Type3 character "${R.operatorListId}" is not available.`);const F=[R.width,0];Util.applyTransform(F,b),w=F[0]*o+V,i.translate(w,0),s.x+=w*g}i.restore(),P&&(this.dependencyTracker=P)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,s,a,o,u){var d;const h=new Path2D;h.rect(s,a,o-s,u-a),this.ctx.clip(h),(d=this.dependencyTracker)==null||d.recordBBox(t,this.ctx,s,o,a,u).recordClipBox(t,this.ctx,s,o,a,u),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const s=this.baseTransform||getCurrentTransform(this.ctx),a={createCanvasGraphics:(o,u)=>new Xb(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new CanvasNestedDependencyTracker(this.dependencyTracker,u,!0):null)};i=new TilingPattern(e,this.ctx,a,s)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=getShadingPattern(this.getObject(t,e)),this.cachedPatterns.set(e,s)),i&&(s.matrix=i),s}shadingFill(t,e){var o;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const s=this._getPattern(t,e);i.fillStyle=s.getPattern(i,this,getCurrentTransformInverse(i),PathType.SHADING,t);const a=getCurrentTransformInverse(i);if(a){const{width:u,height:h}=i.canvas,d=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,u,h],a,d);const[f,g,b,x]=d;this.ctx.fillRect(f,g,b-f,x-g)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Dependencies.transform).recordDependencies(t,Dependencies.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){var s;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=getCurrentTransform(this.ctx),i)){Util.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[a,o,u,h]=i,d=new Path2D;d.rect(a,o,u-a,h-o),this.ctx.clip(d),(s=this.dependencyTracker)==null||s.recordClipBox(t,this.ctx,a,u,o,h),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var P;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||info("TODO: Support non-isolated groups."),e.knockout&&warn("Knockout groups not supported.");const s=getCurrentTransform(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox(e.bbox,getCurrentTransform(i),a);const o=[0,0,i.canvas.width,i.canvas.height];a=Util.intersect(a,o)||[0,0,0,0];const u=Math.floor(a[0]),h=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-u,1),f=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,f]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(g,d,f),x=b.context;x.translate(-u,-h),x.transform(...s);let E=new Path2D;const[S,R,w,L]=e.bbox;if(E.rect(S,R,w-S,L-R),e.matrix){const V=new Path2D;V.addPath(E,new DOMMatrix(e.matrix)),E=V}x.clip(E),e.smask&&this.smaskStack.push({canvas:b.canvas,context:x,offsetX:u,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(u,h),i.save()),copyCtxState(i,x),this.ctx=x,(P=this.dependencyTracker)==null||P.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var a;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,(a=this.dependencyTracker)==null||a.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=getCurrentTransform(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const u=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,u),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotation(t,e,i,s,a,o){if(N(this,Cr,lb).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],h=i[3]-i[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=h,Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx),XY);const{viewportScale:d}=this,f=Math.ceil(u*this.outputScaleX*d),g=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,g);const{canvas:b,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(XY[0],0,0,-XY[1],0,h*XY[1]),resetCtxToDefault(this.ctx)}else{resetCtxToDefault(this.ctx),this.endPath(t);const d=new Path2D;d.rect(i[0],i[1],u,h),this.ctx.clip(d)}}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...a)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),N(this,Cr,ub).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var u;if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const s=this.ctx,a=this._createMaskCanvas(t,e),o=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,a.offsetX,a.offsetY),(u=this.dependencyTracker)==null||u.resetBBox(t).recordBBox(t,this.ctx,a.offsetX,a.offsetX+o.width,a.offsetY,a.offsetY+o.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,s=0,a=0,o,u){var g,b,x;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const h=this.ctx;h.save();const d=getCurrentTransform(h);h.transform(i,s,a,o,0,0);const f=this._createMaskCanvas(t,e);h.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]),(g=this.dependencyTracker)==null||g.resetBBox(t);for(let E=0,S=u.length;E<S;E+=2){const R=Util.transform(d,[i,s,a,o,u[E],u[E+1]]);h.drawImage(f.canvas,R[4],R[5]),(b=this.dependencyTracker)==null||b.recordBBox(t,this.ctx,R[4],R[4]+f.canvas.width,R[5],R[5]+f.canvas.height)}h.restore(),this.compose(),(x=this.dependencyTracker)==null||x.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var o,u,h;if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(t).recordDependencies(t,Dependencies.transformAndFill);for(const d of e){const{data:f,width:g,height:b,transform:x}=d,E=this.cachedCanvases.getCanvas("maskCanvas",g,b),S=E.context;S.save();const R=this.getObject(t,f,d);putBinaryImageMask(S,R),S.globalCompositeOperation="source-in",S.fillStyle=a?s.getPattern(S,this,getCurrentTransformInverse(i),PathType.FILL,t):s,S.fillRect(0,0,g,b),S.restore(),i.save(),i.transform(...x),i.scale(1,-1),drawImageAtIntegerCoords(i,E.canvas,0,0,g,b,0,-1,1,1),(u=this.dependencyTracker)==null||u.recordBBox(t,i,0,g,0,b),i.restore()}this.compose(),(h=this.dependencyTracker)==null||h.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,s,a){if(!this.contentVisible)return;const o=this.getObject(t,e);if(!o){warn("Dependent image isn't ready yet");return}const u=o.width,h=o.height,d=[];for(let f=0,g=a.length;f<g;f+=2)d.push({transform:[i,0,0,s,a[f],a[f+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(t,o,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",i,s),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",a.canvas}paintInlineImageXObject(t,e){var d;if(!this.contentVisible)return;const i=e.width,s=e.height,a=this.ctx;this.save(t);const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/i,-1/s);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const g=this.cachedCanvases.getCanvas("inlineImage",i,s).context;putBinaryImageData(g,e),u=this.applyTransferMapsToCanvas(g)}const h=this._scaleImage(u,getCurrentTransformInverse(a));a.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(a),e.interpolate),(d=this.dependencyTracker)==null||d.resetBBox(t).recordBBox(t,a,0,i,-s,0).recordDependencies(t,Dependencies.imageXObject).recordOperation(t),drawImageAtIntegerCoords(a,h.img,0,0,h.paintWidth,h.paintHeight,0,-s,i,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){var o,u,h;if(!this.contentVisible)return;const s=this.ctx;let a;if(e.bitmap)a=e.bitmap;else{const d=e.width,f=e.height,b=this.cachedCanvases.getCanvas("inlineImage",d,f).context;putBinaryImageData(b,e),a=this.applyTransferMapsToCanvas(b)}(o=this.dependencyTracker)==null||o.resetBBox(t);for(const d of i)s.save(),s.transform(...d.transform),s.scale(1,-1),drawImageAtIntegerCoords(s,a,d.x,d.y,d.w,d.h,0,-1,1,1),(u=this.dependencyTracker)==null||u.recordBBox(t,s,0,1,-1,0),s.restore();(h=this.dependencyTracker)==null||h.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Dependencies.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){var o,u;const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const a=this.ctx;this.pendingClip?(s||(this.pendingClip===EO_CLIP?a.clip(e,"evenodd"):a.clip(e)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(u=this.dependencyTracker)==null||u.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=getCurrentTransform(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:a}=this.ctx.getTransform();let o,u;if(i===0&&s===0){const h=Math.abs(e),d=Math.abs(a);if(h===d)if(t===0)o=u=1/h;else{const f=h*t;o=u=f<1?1/f:1}else if(t===0)o=1/h,u=1/d;else{const f=h*t,g=d*t;o=f<1?1/f:1,u=g<1?1/g:1}}else{const h=Math.abs(e*a-i*s),d=Math.hypot(e,i),f=Math.hypot(s,a);if(t===0)o=f/h,u=d/h;else{const g=t*h;o=f>g?f/g:1,u=d>g?d/g:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:s}}=this,[a,o]=this.getScaleForStroking();if(a===o){i.lineWidth=(s||1)*a,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(a,o),SCALE_MATRIX.a=1/a,SCALE_MATRIX.d=1/o;const h=new Path2D;if(h.addPath(t,SCALE_MATRIX),u.length>0){const d=Math.max(a,o);i.setLineDash(u.map(f=>f/d)),i.lineDashOffset/=d}i.lineWidth=s||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Cr=new WeakSet,lb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ub=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},cb=function(t,e,i){const s=new Path2D;return s.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),s};let CanvasGraphics=Xb;for(const n in OPS)CanvasGraphics.prototype[n]!==void 0&&(CanvasGraphics.prototype[OPS[n]]=CanvasGraphics.prototype[n]);var Dc,Mc,Af,Pc,zm;const tc=class tc{constructor(t){$(this,Pc);$(this,Dc);$(this,Mc);$(this,Af);D(this,Dc,t),D(this,Mc,new DataView(m(this,Dc))),D(this,Af,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const d of tc.strings){const f=e.encode(t[d]);i[d]=f,s+=4+f.length}const a=new ArrayBuffer(s),o=new Uint8Array(a),u=new DataView(a);let h=0;for(const d of tc.strings){const f=i[d],g=f.length;u.setUint32(h,g),o.set(f,h+4),h+=4+g}return assert(h===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return N(this,Pc,zm).call(this,0)}get fontWeight(){return N(this,Pc,zm).call(this,1)}get italicAngle(){return N(this,Pc,zm).call(this,2)}};Dc=new WeakMap,Mc=new WeakMap,Af=new WeakMap,Pc=new WeakSet,zm=function(t){assert(t<tc.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=m(this,Mc).getUint32(e)+4;const i=m(this,Mc).getUint32(e);return m(this,Af).decode(new Uint8Array(m(this,Dc),e+4,i))},At(tc,"strings",["fontFamily","fontWeight","italicAngle"]);let CssFontInfo=tc;var Xa,Hr,Al,Sl,$d;const ec=class ec{constructor(t){$(this,Sl);$(this,Xa);$(this,Hr);$(this,Al);D(this,Xa,t),D(this,Hr,new DataView(m(this,Xa))),D(this,Al,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const b of ec.strings){const x=e.encode(t[b]);i[b]=x,s+=4+x.length}s+=4;let a,o,u=1+s;t.style&&(a=e.encode(t.style.style),o=e.encode(t.style.weight),u+=4+a.length+4+o.length);const h=new ArrayBuffer(u),d=new Uint8Array(h),f=new DataView(h);let g=0;f.setUint8(g++,t.guessFallback?1:0),f.setUint32(g,0),g+=4,s=0;for(const b of ec.strings){const x=i[b],E=x.length;s+=4+E,f.setUint32(g,E),d.set(x,g+4),g+=4+E}return f.setUint32(g-s-4,s),t.style&&(f.setUint32(g,a.length),d.set(a,g+4),g+=4+a.length,f.setUint32(g,o.length),d.set(o,g+4),g+=4+o.length),assert(g<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(g)}get guessFallback(){return m(this,Hr).getUint8(0)!==0}get css(){return N(this,Sl,$d).call(this,0)}get loadedName(){return N(this,Sl,$d).call(this,1)}get baseFontName(){return N(this,Sl,$d).call(this,2)}get src(){return N(this,Sl,$d).call(this,3)}get style(){let t=1;t+=4+m(this,Hr).getUint32(t);const e=m(this,Hr).getUint32(t),i=m(this,Al).decode(new Uint8Array(m(this,Xa),t+4,e));t+=4+e;const s=m(this,Hr).getUint32(t),a=m(this,Al).decode(new Uint8Array(m(this,Xa),t+4,s));return{style:i,weight:a}}};Xa=new WeakMap,Hr=new WeakMap,Al=new WeakMap,Sl=new WeakSet,$d=function(t){assert(t<ec.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=m(this,Hr).getUint32(e)+4;const i=m(this,Hr).getUint32(e);return m(this,Al).decode(new Uint8Array(m(this,Xa),e+4,i))},At(ec,"strings",["css","loadedName","baseFontName","src"]);let SystemFontInfo=ec;var Lc,$c,Oc,Ic,Si,qr,Sf,Ae,Ge,hr,Hm,Od;const Ht=class Ht{constructor({data:t,extra:e}){$(this,Ge);$(this,qr);$(this,Sf);$(this,Ae);D(this,qr,t),D(this,Sf,new TextDecoder),D(this,Ae,new DataView(m(this,qr))),e&&Object.assign(this,e)}get black(){return N(this,Ge,hr).call(this,0)}get bold(){return N(this,Ge,hr).call(this,1)}get disableFontFace(){return N(this,Ge,hr).call(this,2)}get fontExtraProperties(){return N(this,Ge,hr).call(this,3)}get isInvalidPDFjsFont(){return N(this,Ge,hr).call(this,4)}get isType3Font(){return N(this,Ge,hr).call(this,5)}get italic(){return N(this,Ge,hr).call(this,6)}get missingFile(){return N(this,Ge,hr).call(this,7)}get remeasure(){return N(this,Ge,hr).call(this,8)}get vertical(){return N(this,Ge,hr).call(this,9)}get ascent(){return N(this,Ge,Hm).call(this,0)}get defaultWidth(){return N(this,Ge,Hm).call(this,1)}get descent(){return N(this,Ge,Hm).call(this,2)}get bbox(){let t=m(Ht,$c);if(m(this,Ae).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<4;s++)i.push(m(this,Ae).getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=m(Ht,Oc);if(m(this,Ae).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<6;s++)i.push(m(this,Ae).getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=m(Ht,Ic);if(m(this,Ae).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<3;s++)i.push(m(this,Ae).getInt16(t,!0)),t+=2;return i}get fallbackName(){return N(this,Ge,Od).call(this,0)}get loadedName(){return N(this,Ge,Od).call(this,1)}get mimetype(){return N(this,Ge,Od).call(this,2)}get name(){return N(this,Ge,Od).call(this,3)}get data(){let t=m(Ht,Si);const e=m(this,Ae).getUint32(t);t+=4+e;const i=m(this,Ae).getUint32(t);t+=4+i;const s=m(this,Ae).getUint32(t);t+=4+s;const a=m(this,Ae).getUint32(t);if(a!==0)return new Uint8Array(m(this,qr),t+4,a)}clearData(){let t=m(Ht,Si);const e=m(this,Ae).getUint32(t);t+=4+e;const i=m(this,Ae).getUint32(t);t+=4+i;const s=m(this,Ae).getUint32(t);t+=4+s;const a=m(this,Ae).getUint32(t);new Uint8Array(m(this,qr),t+4,a).fill(0),m(this,Ae).setUint32(t,0)}get cssFontInfo(){let t=m(Ht,Si);const e=m(this,Ae).getUint32(t);t+=4+e;const i=m(this,Ae).getUint32(t);t+=4+i;const s=m(this,Ae).getUint32(t);if(s===0)return null;const a=new Uint8Array(s);return a.set(new Uint8Array(m(this,qr),t+4,s)),new CssFontInfo(a.buffer)}get systemFontInfo(){let t=m(Ht,Si);const e=m(this,Ae).getUint32(t);t+=4+e;const i=m(this,Ae).getUint32(t);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(m(this,qr),t+4,i)),new SystemFontInfo(s.buffer)}static write(t){const e=t.systemFontInfo?SystemFontInfo.write(t.systemFontInfo):null,i=t.cssFontInfo?CssFontInfo.write(t.cssFontInfo):null,s=new TextEncoder,a={};let o=0;for(const S of Ht.strings)a[S]=s.encode(t[S]),o+=4+a[S].length;const u=m(Ht,Si)+4+o+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),h=new ArrayBuffer(u),d=new Uint8Array(h),f=new DataView(h);let g=0;const b=Ht.bools.length;let x=0,E=0;for(let S=0;S<b;S++){const R=t[Ht.bools[S]];x|=(R===void 0?0:R?2:1)<<E,E+=2,(E===8||S===b-1)&&(f.setUint8(g++,x),x=0,E=0)}assert(g===m(Ht,Lc),"FontInfo.write: Boolean properties offset mismatch");for(const S of Ht.numbers)f.setFloat64(g,t[S]),g+=8;if(assert(g===m(Ht,$c),"FontInfo.write: Number properties offset mismatch"),t.bbox){f.setUint8(g++,4);for(const S of t.bbox)f.setInt16(g,S,!0),g+=2}else f.setUint8(g++,0),g+=2*4;if(assert(g===m(Ht,Oc),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){f.setUint8(g++,6);for(const S of t.fontMatrix)f.setFloat64(g,S,!0),g+=8}else f.setUint8(g++,0),g+=8*6;if(assert(g===m(Ht,Ic),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){f.setUint8(g++,1);for(const S of t.defaultVMetrics)f.setInt16(g,S,!0),g+=2}else f.setUint8(g++,0),g+=3*2;assert(g===m(Ht,Si),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(m(Ht,Si),0),g+=4;for(const S of Ht.strings){const R=a[S],w=R.length;f.setUint32(g,w),d.set(R,g+4),g+=4+w}if(f.setUint32(m(Ht,Si),g-m(Ht,Si)-4),!e)f.setUint32(g,0),g+=4;else{const S=e.byteLength;f.setUint32(g,S),assert(g+4+S<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),g+4),g+=4+S}if(!i)f.setUint32(g,0),g+=4;else{const S=i.byteLength;f.setUint32(g,S),assert(g+4+S<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(i),g+4),g+=4+S}return t.data===void 0?(f.setUint32(g,0),g+=4):(f.setUint32(g,t.data.length),d.set(t.data,g+4),g+=4+t.data.length),assert(g<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(g)}};Lc=new WeakMap,$c=new WeakMap,Oc=new WeakMap,Ic=new WeakMap,Si=new WeakMap,qr=new WeakMap,Sf=new WeakMap,Ae=new WeakMap,Ge=new WeakSet,hr=function(t){assert(t<Ht.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,s=m(this,Ae).getUint8(e)>>i&3;return s===0?void 0:s===2},Hm=function(t){return assert(t<Ht.numbers.length,"Invalid number index"),m(this,Ae).getFloat64(m(Ht,Lc)+t*8)},Od=function(t){assert(t<Ht.strings.length,"Invalid string index");let e=m(Ht,Si)+4;for(let a=0;a<t;a++)e+=m(this,Ae).getUint32(e)+4;const i=m(this,Ae).getUint32(e),s=new Uint8Array(i);return s.set(new Uint8Array(m(this,qr),e+4,i)),m(this,Sf).decode(s)},At(Ht,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),At(Ht,"numbers",["ascent","defaultWidth","descent"]),At(Ht,"strings",["fallbackName","loadedName","mimetype","name"]),$(Ht,Lc,Math.ceil(Ht.bools.length*2/8)),$(Ht,$c,m(Ht,Lc)+Ht.numbers.length*8),$(Ht,Oc,m(Ht,$c)+1+2*4),$(Ht,Ic,m(Ht,Oc)+1+8*6),$(Ht,Si,m(Ht,Ic)+1+2*3);let FontInfo=Ht;var wf,Tf;class GlobalWorkerOptions{static get workerPort(){return m(this,wf)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");D(this,wf,t)}static get workerSrc(){return m(this,Tf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");D(this,Tf,t)}}wf=new WeakMap,Tf=new WeakMap,$(GlobalWorkerOptions,wf,null),$(GlobalWorkerOptions,Tf,"");var Bc,Cf;class Metadata{constructor({parsedData:t,rawData:e}){$(this,Bc);$(this,Cf);D(this,Bc,t),D(this,Cf,e)}getRaw(){return m(this,Cf)}get(t){return m(this,Bc).get(t)??null}[Symbol.iterator](){return m(this,Bc).entries()}}Bc=new WeakMap,Cf=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Rf,_f,kf,Nc;class OptionalContentGroup{constructor(t,{name:e,intent:i,usage:s,rbGroups:a}){$(this,Rf,!1);$(this,_f,!1);$(this,kf,!1);$(this,Nc,!0);D(this,Rf,!!(t&RenderingIntentFlag.DISPLAY)),D(this,_f,!!(t&RenderingIntentFlag.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=a}get visible(){if(m(this,kf))return m(this,Nc);if(!m(this,Nc))return!1;const{print:t,view:e}=this.usage;return m(this,Rf)?(e==null?void 0:e.viewState)!=="OFF":m(this,_f)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==INTERNAL&&unreachable("Internal method `_setVisible` called."),D(this,kf,i),D(this,Nc,e)}}Rf=new WeakMap,_f=new WeakMap,kf=new WeakMap,Nc=new WeakMap;var Wa,Se,Fc,Vc,Df,hb;class OptionalContentConfig{constructor(t,e=RenderingIntentFlag.DISPLAY){$(this,Df);$(this,Wa,null);$(this,Se,new Map);$(this,Fc,null);$(this,Vc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,D(this,Vc,t.order);for(const i of t.groups)m(this,Se).set(i.id,new OptionalContentGroup(e,i));if(t.baseState==="OFF")for(const i of m(this,Se).values())i._setVisible(INTERNAL,!1);for(const i of t.on)m(this,Se).get(i)._setVisible(INTERNAL,!0);for(const i of t.off)m(this,Se).get(i)._setVisible(INTERNAL,!1);D(this,Fc,this.getHash())}}isVisible(t){if(m(this,Se).size===0)return!0;if(!t)return info("Optional content group not defined."),!0;if(t.type==="OCG")return m(this,Se).has(t.id)?m(this,Se).get(t.id).visible:(warn(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return N(this,Df,hb).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!m(this,Se).has(e))return warn(`Optional content group not found: ${e}`),!0;if(m(this,Se).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!m(this,Se).has(e))return warn(`Optional content group not found: ${e}`),!0;if(!m(this,Se).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!m(this,Se).has(e))return warn(`Optional content group not found: ${e}`),!0;if(!m(this,Se).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!m(this,Se).has(e))return warn(`Optional content group not found: ${e}`),!0;if(m(this,Se).get(e).visible)return!1}return!0}return warn(`Unknown optional content policy ${t.policy}.`),!0}return warn(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var a;const s=m(this,Se).get(t);if(!s){warn(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const o of s.rbGroups)for(const u of o)u!==t&&((a=m(this,Se).get(u))==null||a._setVisible(INTERNAL,!1,!0));s._setVisible(INTERNAL,!!e,!0),D(this,Wa,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const a=m(this,Se).get(s);if(a)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}D(this,Wa,null)}get hasInitialVisibility(){return m(this,Fc)===null||this.getHash()===m(this,Fc)}getOrder(){return m(this,Se).size?m(this,Vc)?m(this,Vc).slice():[...m(this,Se).keys()]:null}getGroup(t){return m(this,Se).get(t)||null}getHash(){if(m(this,Wa)!==null)return m(this,Wa);const t=new MurmurHash3_64;for(const[e,i]of m(this,Se))t.update(`${e}:${i.visible}`);return D(this,Wa,t.hexdigest())}[Symbol.iterator](){return m(this,Se).entries()}}Wa=new WeakMap,Se=new WeakMap,Fc=new WeakMap,Vc=new WeakMap,Df=new WeakSet,hb=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const a=t[s];let o;if(Array.isArray(a))o=N(this,Df,hb).call(this,a);else if(m(this,Se).has(a))o=m(this,Se).get(a).visible;else return warn(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class PDFDataTransportStream{constructor(t,{disableRange:e=!1,disableStream:i=!1}){assert(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:o,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=u,(a==null?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(i),!0)});assert(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,a;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new PDFDataTransportStreamRangeReader(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=isPdfFile(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let f=u(e);return f=unescape(f),f=h(f),f=d(f),a(f)}if(e=o(n),e){const f=d(e);return a(f)}if(e=i("filename","i").exec(n),e){e=e[1];let f=u(e);return f=d(f),a(f)}function i(f,g){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function s(f,g){if(f){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const b=new TextDecoder(f,{fatal:!0}),x=stringToBytes(g);g=b.decode(x),t=!1}catch{}}return g}function a(f){return t&&/[\x80-\xff]/.test(f)&&(f=s("utf-8",f),t&&(f=s("iso-8859-1",f))),f}function o(f){const g=[];let b;const x=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=x.exec(f))!==null;){let[,S,R,w]=b;if(S=parseInt(S,10),S in g){if(S===0)break;continue}g[S]=[R,w]}const E=[];for(let S=0;S<g.length&&S in g;++S){let[R,w]=g[S];w=u(w),R&&(w=unescape(w),S===0&&(w=h(w))),E.push(w)}return E.join("")}function u(f){if(f.startsWith('"')){const g=f.slice(1).split('\\"');for(let b=0;b<g.length;++b){const x=g[b].indexOf('"');x!==-1&&(g[b]=g[b].slice(0,x),g.length=b+1),g[b]=g[b].replaceAll(/\\(.)/g,"$1")}f=g.join('"')}return f}function h(f){const g=f.indexOf("'");if(g===-1)return f;const b=f.slice(0,g),E=f.slice(g+1).replace(/^[^']*'/,"");return s(b,E)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,b,x,E){if(x==="q"||x==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,R){return String.fromCharCode(parseInt(R,16))}),s(b,E);try{E=atob(E)}catch{}return s(b,E)})}return""}function createHeaders(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function getResponseOrigin(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function validateRangeRequestCapabilities({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function extractFilenameFromHeader(n){const t=n.get("Content-Disposition");if(t){let e=getFilenameFromContentDispositionHeader(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(isPdfFile(e))return e}return null}function createResponseError(n,t){return new ResponseException(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function validateResponseStatus(n){return n===200||n===206}function createFetchOptions(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(warn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class PDFFetchStream{constructor(t){At(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=createHeaders(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new PDFFetchStreamRangeReader(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class PDFFetchStreamReader{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,createFetchOptions(i,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=getResponseOrigin(a.url),!validateResponseStatus(a.status))throw createResponseError(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:u,suggestedLength:h}=validateRangeRequestCapabilities({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=extractFilenameFromHeader(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${i-1}`);const o=s.url;fetch(o,createFetchOptions(a,this._withCredentials,this._abortController)).then(u=>{const h=getResponseOrigin(u.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!validateResponseStatus(u.status))throw createResponseError(u.status,o);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:getArrayBuffer(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(n){const t=n.response;return typeof t!="string"?t:stringToBytes(t).buffer}class NetworkManager{constructor({url:t,httpHeaders:e,withCredentials:i}){At(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=createHeaders(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,o]of this.headers)e.setRequestHeader(a,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=PARTIAL_CONTENT_RESPONSE):s.expectedStatus=OK_RESPONSE,e.responseType="arraybuffer",assert(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){i.onError(s.status);return}const a=s.status||OK_RESPONSE;if(!(a===OK_RESPONSE&&i.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&a!==i.expectedStatus){i.onError(s.status);return}const u=network_getArrayBuffer(s);if(a===PARTIAL_CONTENT_RESPONSE){const h=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);d?i.onDone({begin:parseInt(d[1],10),chunk:u}):(warn('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class PDFNetworkStream{constructor(t){this._source=t,this._manager=new NetworkManager(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new PDFNetworkStreamRangeRequestReader(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class PDFNetworkStreamFullRequestReader{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=getResponseOrigin(e.responseURL);const i=e.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...d]=u.split(": ");return[h,d.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:o}=validateRangeRequestCapabilities({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=extractFilenameFromHeader(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=createResponseError(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=getResponseOrigin((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=createResponseError(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(n){if(urlRegex.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class PDFNodeStream{constructor(t){this.source=t,this.url=parseUrlOrPath(t.url),assert(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNodeStreamFsFullReader(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new PDFNodeStreamFsRangeReader(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class PDFNodeStreamFsFullReader{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=createResponseError(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFsRangeReader{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const INITIAL_DATA=Symbol("INITIAL_DATA");var wi,Mf,db;class PDFObjects{constructor(){$(this,Mf);$(this,wi,Object.create(null))}get(t,e=null){if(e){const s=N(this,Mf,db).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=m(this,wi)[t];if(!i||i.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=m(this,wi)[t];return!!e&&e.data!==INITIAL_DATA}delete(t){const e=m(this,wi)[t];return!e||e.data===INITIAL_DATA?!1:(delete m(this,wi)[t],!0)}resolve(t,e=null){const i=N(this,Mf,db).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in m(this,wi)){const{data:i}=m(this,wi)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}D(this,wi,Object.create(null))}*[Symbol.iterator](){for(const t in m(this,wi)){const{data:e}=m(this,wi)[t];e!==INITIAL_DATA&&(yield[t,e])}}}wi=new WeakMap,Mf=new WeakSet,db=function(t){var e;return(e=m(this,wi))[t]||(e[t]={...Promise.withResolvers(),data:INITIAL_DATA})};const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30;var VE,Qa,ui,Pf,Lf,wl,Fs,$f,Of,Tl,jc,Uc,Za,zc,If,Hc,Cl,Bf,Nf,qe,qc,Rl,Ff,Ja,Gc,sa,EA,AA,fb,Ni,qm,pb,SA,wA;let TextLayer$1=(qe=class{constructor({textContentSource:t,container:e,viewport:i}){$(this,sa);$(this,Qa,Promise.withResolvers());$(this,ui,null);$(this,Pf,!1);$(this,Lf,!!((VE=globalThis.FontInspector)!=null&&VE.enabled));$(this,wl,null);$(this,Fs,null);$(this,$f,0);$(this,Of,0);$(this,Tl,null);$(this,jc,null);$(this,Uc,0);$(this,Za,0);$(this,zc,Object.create(null));$(this,If,[]);$(this,Hc,null);$(this,Cl,[]);$(this,Bf,new WeakMap);$(this,Nf,null);var h;if(t instanceof ReadableStream)D(this,Hc,t);else if(typeof t=="object")D(this,Hc,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');D(this,ui,D(this,jc,e)),D(this,Za,i.scale*OutputScale.pixelRatio),D(this,Uc,i.rotation),D(this,Fs,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:o,pageY:u}=i.rawDims;D(this,Nf,[1,0,0,-1,-o,u+a]),D(this,Of,s),D(this,$f,a),N(h=qe,Ni,SA).call(h),setLayerDimensions(e,i),m(this,Qa).promise.finally(()=>{m(qe,Gc).delete(this),D(this,Fs,null),D(this,zc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{m(this,Tl).read().then(({value:e,done:i})=>{if(i){m(this,Qa).resolve();return}m(this,wl)??D(this,wl,e.lang),Object.assign(m(this,zc),e.styles),N(this,sa,EA).call(this,e.items),t()},m(this,Qa).reject)};return D(this,Tl,m(this,Hc).getReader()),m(qe,Gc).add(this),t(),m(this,Qa).promise}update({viewport:t,onBefore:e=null}){var a;const i=t.scale*OutputScale.pixelRatio,s=t.rotation;if(s!==m(this,Uc)&&(e==null||e(),D(this,Uc,s),setLayerDimensions(m(this,jc),{rotation:s})),i!==m(this,Za)){e==null||e(),D(this,Za,i);const o={div:null,properties:null,ctx:N(a=qe,Ni,qm).call(a,m(this,wl))};for(const u of m(this,Cl))o.properties=m(this,Bf).get(u),o.div=u,N(this,sa,fb).call(this,o)}}cancel(){var e;const t=new AbortException("TextLayer task cancelled.");(e=m(this,Tl))==null||e.cancel(t).catch(()=>{}),D(this,Tl,null),m(this,Qa).reject(t)}get textDivs(){return m(this,Cl)}get textContentItemsStr(){return m(this,If)}static cleanup(){if(!(m(this,Gc).size>0)){m(this,qc).clear();for(const{canvas:t}of m(this,Rl).values())t.remove();m(this,Rl).clear()}}},Qa=new WeakMap,ui=new WeakMap,Pf=new WeakMap,Lf=new WeakMap,wl=new WeakMap,Fs=new WeakMap,$f=new WeakMap,Of=new WeakMap,Tl=new WeakMap,jc=new WeakMap,Uc=new WeakMap,Za=new WeakMap,zc=new WeakMap,If=new WeakMap,Hc=new WeakMap,Cl=new WeakMap,Bf=new WeakMap,Nf=new WeakMap,qc=new WeakMap,Rl=new WeakMap,Ff=new WeakMap,Ja=new WeakMap,Gc=new WeakMap,sa=new WeakSet,EA=function(t){var s,a;if(m(this,Pf))return;(a=m(this,Fs)).ctx??(a.ctx=N(s=qe,Ni,qm).call(s,m(this,wl)));const e=m(this,Cl),i=m(this,If);for(const o of t){if(e.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),D(this,Pf,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const u=m(this,ui);D(this,ui,document.createElement("span")),m(this,ui).classList.add("markedContent"),o.id&&m(this,ui).setAttribute("id",`${o.id}`),u.append(m(this,ui))}else o.type==="endMarkedContent"&&D(this,ui,m(this,ui).parentNode);continue}i.push(o.str),N(this,sa,AA).call(this,o)}},AA=function(t){var S;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};m(this,Cl).push(e);const s=Util.transform(m(this,Nf),t.transform);let a=Math.atan2(s[1],s[0]);const o=m(this,zc)[t.fontName];o.vertical&&(a+=Math.PI/2);let u=m(this,Lf)&&o.fontSubstitution||o.fontFamily;u=qe.fontFamilyMap.get(u)||u;const h=Math.hypot(s[2],s[3]),d=h*N(S=qe,Ni,wA).call(S,u,o,m(this,wl));let f,g;a===0?(f=s[4],g=s[5]-d):(f=s[4]+d*Math.sin(a),g=s[5]-d*Math.cos(a));const b="calc(var(--total-scale-factor) *",x=e.style;m(this,ui)===m(this,jc)?(x.left=`${(100*f/m(this,Of)).toFixed(2)}%`,x.top=`${(100*g/m(this,$f)).toFixed(2)}%`):(x.left=`${b}${f.toFixed(2)}px)`,x.top=`${b}${g.toFixed(2)}px)`),x.fontSize=`${b}${(m(qe,Ja)*h).toFixed(2)}px)`,x.fontFamily=u,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,m(this,Lf)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),a!==0&&(i.angle=a*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const R=Math.abs(t.transform[0]),w=Math.abs(t.transform[3]);R!==w&&Math.max(R,w)/Math.min(R,w)>1.5&&(E=!0)}if(E&&(i.canvasWidth=o.vertical?t.height:t.width),m(this,Bf).set(e,i),m(this,Fs).div=e,m(this,Fs).properties=i,N(this,sa,fb).call(this,m(this,Fs)),i.hasText&&m(this,ui).append(e),i.hasEOL){const R=document.createElement("br");R.setAttribute("role","presentation"),m(this,ui).append(R)}},fb=function(t){var u;const{div:e,properties:i,ctx:s}=t,{style:a}=e;let o="";if(m(qe,Ja)>1&&(o=`scale(${1/m(qe,Ja)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:h}=a,{canvasWidth:d,fontSize:f}=i;N(u=qe,Ni,pb).call(u,s,f*m(this,Za),h);const{width:g}=s.measureText(e.textContent);g>0&&(o=`scaleX(${d*m(this,Za)/g}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(a.transform=o)},Ni=new WeakSet,qm=function(t=null){let e=m(this,Rl).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,Rl).set(t,e),m(this,Ff).set(e,{size:0,family:""})}return e},pb=function(t,e,i){const s=m(this,Ff).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},SA=function(){if(m(this,Ja)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),D(this,Ja,t.getBoundingClientRect().height),t.remove()},wA=function(t,e,i){const s=m(this,qc).get(t);if(s)return s;const a=N(this,Ni,qm).call(this,i);a.canvas.width=a.canvas.height=DEFAULT_FONT_SIZE,N(this,Ni,pb).call(this,a,DEFAULT_FONT_SIZE,t);const o=a.measureText(""),u=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let d=.8;return u?d=u/(u+h):(util_FeatureTest.platform.isFirefox&&warn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),m(this,qc).set(t,d),d},$(qe,Ni),$(qe,qc,new Map),$(qe,Rl,new Map),$(qe,Ff,new WeakMap),$(qe,Ja,null),$(qe,Gc,new Set),qe);const RENDERING_CANCELLED_TIMEOUT=100;function getDocument(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new PDFDocumentLoadingTask,{docId:e}=t,i=n.url?getUrlProp(n.url):null,s=n.data?getDataProp(n.data):null,a=n.httpHeaders||null,o=n.withCredentials===!0,u=n.password??null,h=n.range instanceof PDFDataRangeTransport$1?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof PDFWorker?n.worker:null;const g=n.verbosity,b=typeof n.docBaseUrl=="string"&&!isDataScheme(n.docBaseUrl)?n.docBaseUrl:null,x=getFactoryUrlProp(n.cMapUrl),E=n.cMapPacked!==!1,S=n.CMapReaderFactory||(isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory),R=getFactoryUrlProp(n.iccUrl),w=getFactoryUrlProp(n.standardFontDataUrl),L=n.StandardFontDataFactory||(isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory),P=getFactoryUrlProp(n.wasmUrl),V=n.WasmFactory||(isNodeJS?NodeWasmFactory:DOMWasmFactory),B=n.stopAtErrors!==!0,F=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,H=n.isEvalSupported!==!1,K=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!isNodeJS,J=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!isNodeJS&&(util_FeatureTest.platform.isFirefox||!globalThis.chrome),G=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,et=typeof n.disableFontFace=="boolean"?n.disableFontFace:isNodeJS,ut=n.fontExtraProperties===!0,Et=n.enableXfa===!0,ot=n.ownerDocument||globalThis.document,dt=n.disableRange===!0,Q=n.disableStream===!0,Z=n.disableAutoFetch===!0,it=n.pdfBug===!0,Ct=n.CanvasFactory||(isNodeJS?NodeCanvasFactory:DOMCanvasFactory),I=n.FilterFactory||(isNodeJS?NodeFilterFactory:DOMFilterFactory),at=n.enableHWA===!0,pt=n.useWasm!==!1,z=h?h.length:n.length??NaN,St=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!isNodeJS&&!et,Tt=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(S===DOMCMapReaderFactory&&L===DOMStandardFontDataFactory&&V===DOMWasmFactory&&x&&w&&P&&isValidFetchUrl(x,document.baseURI)&&isValidFetchUrl(w,document.baseURI)&&isValidFetchUrl(P,document.baseURI)),wt=null;setVerbosityLevel(g);const Lt={canvasFactory:new Ct({ownerDocument:ot,enableHWA:at}),filterFactory:new I({docId:e,ownerDocument:ot}),cMapReaderFactory:Tt?null:new S({baseUrl:x,isCompressed:E}),standardFontDataFactory:Tt?null:new L({baseUrl:w}),wasmFactory:Tt?null:new V({baseUrl:P})};f||(f=PDFWorker.create({verbosity:g,port:GlobalWorkerOptions.workerPort}),t._worker=f);const Ot={docId:e,apiVersion:"5.4.296",data:s,password:u,disableAutoFetch:Z,rangeChunkSize:d,length:z,docBaseUrl:b,enableXfa:Et,evaluatorOptions:{maxImageSize:F,disableFontFace:et,ignoreErrors:B,isEvalSupported:H,isOffscreenCanvasSupported:K,isImageDecoderSupported:J,canvasMaxAreaInBytes:G,fontExtraProperties:ut,useSystemFonts:St,useWasm:pt,useWorkerFetch:Tt,cMapUrl:x,iccUrl:R,standardFontDataUrl:w,wasmUrl:P}},Xt={ownerDocument:ot,pdfBug:it,styleElement:wt,loadingParams:{disableAutoFetch:Z,enableXfa:Et}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const jt=f.messageHandler.sendWithPromise("GetDocRequest",Ot,s?[s.buffer]:null);let ue;if(h)ue=new PDFDataTransportStream(h,{disableRange:dt,disableStream:Q});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Me=isValidFetchUrl(i)?PDFFetchStream:isNodeJS?PDFNodeStream:PDFNetworkStream;ue=new Me({url:i,length:z,httpHeaders:a,withCredentials:o,rangeChunkSize:d,disableRange:dt,disableStream:Q})}return jt.then(Me=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ft=new MessageHandler(e,Me,f.port),Yt=new WorkerTransport(Ft,t,ue,Xt,Lt,at);t._transport=Yt,Ft.send("Ready",null)})}).catch(t._capability.reject),t}var Ag;const Sg=class Sg{constructor(){At(this,"_capability",Promise.withResolvers());At(this,"_transport",null);At(this,"_worker",null);At(this,"docId",`d${on(Sg,Ag)._++}`);At(this,"destroyed",!1);At(this,"onPassword",null);At(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Ag=new WeakMap,$(Sg,Ag,0);let PDFDocumentLoadingTask=Sg;var _l,Vf,jf,Uf,zf,jE;let PDFDataRangeTransport$1=(jE=class{constructor(t,e,i=!1,s=null){$(this,_l,Promise.withResolvers());$(this,Vf,[]);$(this,jf,[]);$(this,Uf,[]);$(this,zf,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(t){m(this,zf).push(t)}addProgressListener(t){m(this,Uf).push(t)}addProgressiveReadListener(t){m(this,jf).push(t)}addProgressiveDoneListener(t){m(this,Vf).push(t)}onDataRange(t,e){for(const i of m(this,zf))i(t,e)}onDataProgress(t,e){m(this,_l).promise.then(()=>{for(const i of m(this,Uf))i(t,e)})}onDataProgressiveRead(t){m(this,_l).promise.then(()=>{for(const e of m(this,jf))e(t)})}onDataProgressiveDone(){m(this,_l).promise.then(()=>{for(const t of m(this,Vf))t()})}transportReady(){m(this,_l).resolve()}requestDataRange(t,e){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},_l=new WeakMap,Vf=new WeakMap,jf=new WeakMap,Uf=new WeakMap,zf=new WeakMap,jE);class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Vs,kl,Id;class PDFPageProxy{constructor(t,e,i,s=!1){$(this,kl);$(this,Vs,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new StatTimer:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}={}){return new PageViewport({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:s="display",annotationMode:a=AnnotationMode.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:g=null,isEditing:b=!1,recordOperations:x=!1,operationsFilter:E=null}){var J,G,et;(J=this._stats)==null||J.time("Overall");const S=this._transport.getRenderingIntent(s,a,g,b),{renderingIntent:R,cacheKey:w}=S;D(this,Vs,!1),h||(h=this._transport.getOptionalContentConfig(R));let L=this._intentStates.get(w);L||(L=Object.create(null),this._intentStates.set(w,L)),L.streamReaderCancelTimeout&&(clearTimeout(L.streamReaderCancelTimeout),L.streamReaderCancelTimeout=null);const P=!!(R&RenderingIntentFlag.PRINT);L.displayReadyCapability||(L.displayReadyCapability=Promise.withResolvers(),L.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(S));const V=!!(this._pdfBug&&((et=globalThis.StepperManager)!=null&&et.enabled)),B=!this.recordedBBoxes&&(x||V),F=ut=>{var Et,ot;if(L.renderTasks.delete(H),B){const dt=(Et=H.gfx)==null?void 0:Et.dependencyTracker.take();dt&&(H.stepper&&H.stepper.setOperatorBBoxes(dt,H.gfx.dependencyTracker.takeDebugMetadata()),x&&(this.recordedBBoxes=dt))}P&&D(this,Vs,!0),N(this,kl,Id).call(this),ut?(H.capability.reject(ut),this._abortOperatorList({intentState:L,reason:ut instanceof Error?ut:new Error(ut)})):H.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ot=globalThis.Stats)!=null&&ot.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},H=new InternalRenderTask({callback:F,params:{canvas:e,canvasContext:t,dependencyTracker:B?new CanvasDependencyTracker(e,L.operatorList.length,V):null,viewport:i,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:L.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!P,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:E});(L.renderTasks||(L.renderTasks=new Set)).add(H);const K=H.task;return Promise.all([L.displayReadyCapability.promise,h]).then(([ut,Et])=>{var ot;if(this.destroyed){F();return}if((ot=this._stats)==null||ot.time("Rendering"),!(Et.renderingIntent&R))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");H.initializeGraphics({transparency:ut,optionalContentConfig:Et}),H.operatorListChanged()}).catch(F),K}getOperatorList({intent:t="display",annotationMode:e=AnnotationMode.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var d;function a(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const o=this._transport.getRenderingIntent(t,e,i,s,!0);let u=this._intentStates.get(o.cacheKey);u||(u=Object.create(null),this._intentStates.set(o.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(o)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>XfaText.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function a(){o.read().then(function({value:h,done:d}){if(d){i(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),a()},s)}const o=e.getReader(),u={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),D(this,Vs,!1),Promise.all(t)}cleanup(t=!1){D(this,Vs,!0);const e=N(this,kl,Id).call(this);return t&&e&&this._stats&&(this._stats=new StatTimer),e}_startRenderPage(t,e){var s,a;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=i.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&N(this,kl,Id).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:a,transfer:o}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},o).getReader(),d=this._intentStates.get(e);d.streamReader=h;const f=()=>{h.read().then(({value:g,done:b})=>{if(b){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,d),f())},g=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const b of d.renderTasks)b.operatorListChanged();N(this,kl,Id).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(g);else if(d.opListReadCapability)d.opListReadCapability.reject(g);else throw g}})};f()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof RenderingCancelledException){let s=RENDERING_CANCELLED_TIMEOUT;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new AbortException(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Vs=new WeakMap,kl=new WeakSet,Id=function(){if(!m(this,Vs)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),D(this,Vs,!1),!0};var to,br,js,Dl,wg,Ml,Pl,Wn,Gm,TA,CA,Bd,Yc,Ym;const $e=class $e{constructor({name:t=null,port:e=null,verbosity:i=getVerbosityLevel()}={}){$(this,Wn);$(this,to,Promise.withResolvers());$(this,br,null);$(this,js,null);$(this,Dl,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(m($e,Pl).has(e))throw new Error("Cannot use more than one PDFWorker per port.");m($e,Pl).set(e,this),N(this,Wn,TA).call(this,e)}else N(this,Wn,CA).call(this)}get promise(){return m(this,to).promise}get port(){return m(this,js)}get messageHandler(){return m(this,br)}destroy(){var t,e;this.destroyed=!0,(t=m(this,Dl))==null||t.terminate(),D(this,Dl,null),m($e,Pl).delete(m(this,js)),D(this,js,null),(e=m(this,br))==null||e.destroy(),D(this,br,null)}static create(t){const e=m(this,Pl).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new $e(t)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>m(this,Yc,Ym)?m(this,Yc,Ym):(await import(this.workerSrc)).WorkerMessageHandler)())}};to=new WeakMap,br=new WeakMap,js=new WeakMap,Dl=new WeakMap,wg=new WeakMap,Ml=new WeakMap,Pl=new WeakMap,Wn=new WeakSet,Gm=function(){m(this,to).resolve(),m(this,br).send("configure",{verbosity:this.verbosity})},TA=function(t){D(this,js,t),D(this,br,new MessageHandler("main","worker",t)),m(this,br).on("ready",()=>{}),N(this,Wn,Gm).call(this)},CA=function(){if(m($e,Ml)||m($e,Yc,Ym)){N(this,Wn,Bd).call(this);return}let{workerSrc:t}=$e;try{$e._isSameOrigin(window.location,t)||(t=$e._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new MessageHandler("main","worker",e),s=()=>{a.abort(),i.destroy(),e.terminate(),this.destroyed?m(this,to).reject(new Error("Worker was destroyed")):N(this,Wn,Bd).call(this)},a=new AbortController;e.addEventListener("error",()=>{m(this,Dl)||s()},{signal:a.signal}),i.on("test",u=>{if(a.abort(),this.destroyed||!u){s();return}D(this,br,i),D(this,js,e),D(this,Dl,e),N(this,Wn,Gm).call(this)}),i.on("ready",u=>{if(a.abort(),this.destroyed){s();return}try{o()}catch{N(this,Wn,Bd).call(this)}});const o=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};o();return}catch{info("The worker has been disabled.")}N(this,Wn,Bd).call(this)},Bd=function(){m($e,Ml)||(warn("Setting up fake worker."),D($e,Ml,!0)),$e._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){m(this,to).reject(new Error("Worker was destroyed"));return}const e=new LoopbackPort;D(this,js,e);const i=`fake${on($e,wg)._++}`,s=new MessageHandler(i+"_worker",i,e);t.setup(s,e),D(this,br,new MessageHandler(i,i+"_worker",e)),N(this,Wn,Gm).call(this)}).catch(t=>{m(this,to).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Yc=new WeakSet,Ym=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},$($e,Yc),$($e,wg,0),$($e,Ml,!1),$($e,Pl,new WeakMap),isNodeJS&&(D($e,Ml,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),$e._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(e,i);return i.origin===s.origin},$e._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},$e.fromPort=t=>{if(deprecated("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return $e.create(t)};let PDFWorker=$e;var Us,Gr,Kc,Xc,zs,Ll,Nd;class WorkerTransport{constructor(t,e,i,s,a,o){$(this,Ll);$(this,Us,new Map);$(this,Gr,new Map);$(this,Kc,new Map);$(this,Xc,new Map);$(this,zs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(t,e=AnnotationMode.ENABLE,i=null,s=!1,a=!1){let o=RenderingIntentFlag.DISPLAY,u=SerializableEmpty;switch(t){case"any":o=RenderingIntentFlag.ANY;break;case"display":break;case"print":o=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${t}`)}const h=o&RenderingIntentFlag.PRINT&&i instanceof PrintAnnotationStorage?i:this.annotationStorage;switch(e){case AnnotationMode.DISABLE:o+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:o+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:o+=RenderingIntentFlag.ANNOTATIONS_STORAGE,u=h.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(o+=RenderingIntentFlag.IS_EDITING),a&&(o+=RenderingIntentFlag.OPLIST);const{ids:d,hash:f}=h.modifiedIds,g=[o,u.hash,f];return{renderingIntent:o,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=m(this,zs))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of m(this,Gr).values())t.push(s._destroy());m(this,Gr).clear(),m(this,Kc).clear(),m(this,Xc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s,a;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Us).clear(),this.filterFactory.destroy(),TextLayer$1.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new AbortException("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){s.close();return}assert(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:o}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((u=e.onProgress)==null||u.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:o}}),t.on("GetRangeReader",(i,s)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:o,done:u}){if(u){s.close();return}assert(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{a.cancel(o),s.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(i,this))}),t.on("DocException",i=>{e._capability.reject(wrapReason(i))}),t.on("PasswordRequest",i=>{D(this,zs,Promise.withResolvers());try{if(!e.onPassword)throw wrapReason(i);const s=a=>{a instanceof Error?m(this,zs).reject(a):m(this,zs).resolve({password:a})};e.onPassword(s,i.code)}catch(s){m(this,zs).reject(s)}return m(this,zs).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;m(this,Gr).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,a])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in a){const g=a.error;warn(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const u=new FontInfo(a),h=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(g,b)=>globalThis.FontInspector.fontAdded(g,b):null,d=new FontFaceObject(u,h,a.extra,a.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=a;assert(f,"The imageRef must be defined.");for(const g of m(this,Gr).values())for(const[,b]of g.objs)if((b==null?void 0:b.ref)===f)return b.dataLen?(this.commonObjs.resolve(i,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,a,o])=>{var h;if(this.destroyed)return;const u=m(this,Gr).get(s);if(!u.objs.has(i)){if(u._intentStates.size===0){(h=o==null?void 0:o.bitmap)==null||h.close();return}switch(a){case"Image":case"Pattern":u.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=m(this,Kc).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&m(this,Xc).set(a.refStr,t);const o=new PDFPageProxy(e,a,this,this._params.pdfBug);return m(this,Gr).set(e,o),o});return m(this,Kc).set(e,s),s}getPageIndex(t){return isRefProxy(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return N(this,Ll,Nd).call(this,"GetFieldObjects")}hasJSActions(){return N(this,Ll,Nd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return N(this,Ll,Nd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return N(this,Ll,Nd).call(this,"GetOptionalContentConfig").then(e=>new OptionalContentConfig(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=m(this,Us).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var a,o;return{info:s[0],metadata:s[1]?new Metadata(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,Us).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of m(this,Gr).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),m(this,Us).clear(),this.filterFactory.destroy(!0),TextLayer$1.cleanup()}}cachedPageNumber(t){if(!isRefProxy(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return m(this,Xc).get(e)??null}}Us=new WeakMap,Gr=new WeakMap,Kc=new WeakMap,Xc=new WeakMap,zs=new WeakMap,Ll=new WeakSet,Nd=function(t,e=null){const i=m(this,Us).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return m(this,Us).set(t,s),s};var eo;class RenderTask{constructor(t){$(this,eo,null);At(this,"onContinue",null);At(this,"onError",null);D(this,eo,t)}get promise(){return m(this,eo).capability.promise}cancel(t=0){m(this,eo).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=m(this,eo).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=m(this,eo);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}eo=new WeakMap;var no,$l;const Ko=class Ko{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:a,operatorList:o,pageIndex:u,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:g=!1,pageColors:b=null,enableHWA:x=!1,operationsFilter:E=null}){$(this,no,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=g,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=x,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=E}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,d;if(this.cancelled)return;if(this._canvas){if(m(Ko,$l).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(Ko,$l).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:s,background:a,dependencyTracker:o}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new CanvasGraphics(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,e=0){var i,s,a;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),m(this,no)&&(window.cancelAnimationFrame(m(this,no)),D(this,no,null)),m(Ko,$l).delete(this._canvas),t||(t=new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(a=(s=this.task).onError)==null||a.call(s,t)}operatorListChanged(){var t,e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.gfx.dependencyTracker)==null||t.growOperationsCount(this.operatorList.fnArray.length),(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?D(this,no,window.requestAnimationFrame(()=>{D(this,no,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(Ko,$l).delete(this._canvas),this.callback())))}};no=new WeakMap,$l=new WeakMap,$(Ko,$l,new WeakSet);let InternalRenderTask=Ko;const version="5.4.296",build="f56dc8601";var Ti,Ol,Wc,cn,Hf,Qc,Hs,qf,io,xr,Gf,we,mb,gb,yb,Ho,RA,ka;const ri=class ri{constructor({editor:t=null,uiManager:e=null}){$(this,we);$(this,Ti,null);$(this,Ol,null);$(this,Wc);$(this,cn,null);$(this,Hf,!1);$(this,Qc,!1);$(this,Hs,null);$(this,qf);$(this,io,null);$(this,xr,null);var i,s;t?(D(this,Qc,!1),D(this,Hs,t)):D(this,Qc,!0),D(this,xr,(t==null?void 0:t._uiManager)||e),D(this,qf,m(this,xr)._eventBus),D(this,Wc,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((s=m(this,xr))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),m(ri,Gf)||D(ri,Gf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],ri.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ri.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ri.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ri.prototype._moveToPrevious],[["Home","mac+Home"],ri.prototype._moveToBeginning],[["End","mac+End"],ri.prototype._moveToEnd]]))}renderButton(){const t=D(this,Ti,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",m(this,Hs)&&(t.ariaControls=`${m(this,Hs).id}_colorpicker_dropdown`);const e=m(this,xr)._signal;t.addEventListener("click",N(this,we,Ho).bind(this),{signal:e}),t.addEventListener("keydown",N(this,we,yb).bind(this),{signal:e});const i=D(this,Ol,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=m(this,Wc),t.append(i),t}renderMainDropdown(){const t=D(this,cn,N(this,we,mb).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===m(this,Ti)){N(this,we,Ho).call(this,t);return}const e=t.target.getAttribute("data-color");e&&N(this,we,gb).call(this,e,t)}_moveToNext(t){var e,i;if(!m(this,we,ka)){N(this,we,Ho).call(this,t);return}if(t.target===m(this,Ti)){(e=m(this,cn).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=m(this,cn))==null?void 0:e.firstChild)||t.target===m(this,Ti)){m(this,we,ka)&&this._hideDropdownFromKeyboard();return}m(this,we,ka)||N(this,we,Ho).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!m(this,we,ka)){N(this,we,Ho).call(this,t);return}(e=m(this,cn).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!m(this,we,ka)){N(this,we,Ho).call(this,t);return}(e=m(this,cn).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=m(this,cn))==null||t.classList.add("hidden"),m(this,Ti).ariaExpanded="false",(e=m(this,io))==null||e.abort(),D(this,io,null)}_hideDropdownFromKeyboard(){var t;if(!m(this,Qc)){if(!m(this,we,ka)){(t=m(this,Hs))==null||t.unselect();return}this.hideDropdown(),m(this,Ti).focus({preventScroll:!0,focusVisible:m(this,Hf)})}}updateColor(t){if(m(this,Ol)&&(m(this,Ol).style.backgroundColor=t),!m(this,cn))return;const e=m(this,xr).highlightColors.values();for(const i of m(this,cn).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=m(this,Ti))==null||t.remove(),D(this,Ti,null),D(this,Ol,null),(e=m(this,cn))==null||e.remove(),D(this,cn,null)}};Ti=new WeakMap,Ol=new WeakMap,Wc=new WeakMap,cn=new WeakMap,Hf=new WeakMap,Qc=new WeakMap,Hs=new WeakMap,qf=new WeakMap,io=new WeakMap,xr=new WeakMap,Gf=new WeakMap,we=new WeakSet,mb=function(){const t=document.createElement("div"),e=m(this,xr)._signal;t.addEventListener("contextmenu",noContextMenu,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),m(this,Hs)&&(t.id=`${m(this,Hs).id}_colorpicker_dropdown`);for(const[i,s]of m(this,xr).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=i,a.setAttribute("data-l10n-id",m(ri,Gf)[i]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=s,a.ariaSelected=s===m(this,Wc),a.addEventListener("click",N(this,we,gb).bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",N(this,we,yb).bind(this),{signal:e}),t},gb=function(t,e){e.stopPropagation(),m(this,qf).dispatch("switchannotationeditorparams",{source:this,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},yb=function(t){ri._keyboardManager.exec(this,t)},Ho=function(t){if(m(this,we,ka)){this.hideDropdown();return}if(D(this,Hf,t.detail===0),m(this,io)||(D(this,io,new AbortController),window.addEventListener("pointerdown",N(this,we,RA).bind(this),{signal:m(this,xr).combinedSignal(m(this,io))})),m(this,Ti).ariaExpanded="true",m(this,cn)){m(this,cn).classList.remove("hidden");return}const e=D(this,cn,N(this,we,mb).call(this));m(this,Ti).append(e)},RA=function(t){var e;(e=m(this,cn))!=null&&e.contains(t.target)||this.hideDropdown()},ka=function(){return m(this,cn)&&!m(this,cn).classList.contains("hidden")},$(ri,Gf,null);let ColorPicker=ri;var Yr,Yf,Zc,Kf;const Xo=class Xo{constructor(t){$(this,Yr,null);$(this,Yf,null);$(this,Zc,null);D(this,Yf,t),D(this,Zc,t._uiManager),m(Xo,Kf)||D(Xo,Kf,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(m(this,Yr))return m(this,Yr);const{editorType:t,colorType:e,colorValue:i}=m(this,Yf),s=D(this,Yr,document.createElement("input"));return s.type="color",s.value=i||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",m(Xo,Kf)[t]),s.addEventListener("input",()=>{m(this,Zc).updateParams(e,s.value)},{signal:m(this,Zc)._signal}),s}update(t){m(this,Yr)&&(m(this,Yr).value=t)}destroy(){var t;(t=m(this,Yr))==null||t.remove(),D(this,Yr,null)}hideDropdown(){}};Yr=new WeakMap,Yf=new WeakMap,Zc=new WeakMap,Kf=new WeakMap,$(Xo,Kf,null);let BasicColorPicker=Xo;function makeColorComp(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function scaleAndClamp(n){return Math.max(0,Math.min(255,255*n))}class ColorConverters{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=scaleAndClamp(t),[t,t,t]}static G_HTML([t]){const e=makeColorComp(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(scaleAndClamp)}static RGB_HTML(t){return`#${t.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[scaleAndClamp(1-Math.min(1,t+s)),scaleAndClamp(1-Math.min(1,i+s)),scaleAndClamp(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,a=1-e,o=1-i,u=Math.min(s,a,o);return["CMYK",s,a,o,u]}}class BaseSVGFactory{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(t){return document.createElementNS(SVG_NS,t)}}const annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet,TIMEZONE_OFFSET=new Date().getTimezoneOffset()*60*1e3;class AnnotationElementFactory{static create(t){switch(t.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(t);case AnnotationType.TEXT:return new TextAnnotationElement(t);case AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(t);case"Btn":return t.data.radioButton?new RadioButtonWidgetAnnotationElement(t):t.data.checkBox?new CheckboxWidgetAnnotationElement(t):new PushButtonWidgetAnnotationElement(t);case"Ch":return new ChoiceWidgetAnnotationElement(t);case"Sig":return new SignatureWidgetAnnotationElement(t)}return new WidgetAnnotationElement(t);case AnnotationType.POPUP:return new PopupAnnotationElement(t);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(t);case AnnotationType.LINE:return new LineAnnotationElement(t);case AnnotationType.SQUARE:return new SquareAnnotationElement(t);case AnnotationType.CIRCLE:return new CircleAnnotationElement(t);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(t);case AnnotationType.CARET:return new CaretAnnotationElement(t);case AnnotationType.INK:return new InkAnnotationElement(t);case AnnotationType.POLYGON:return new PolygonAnnotationElement(t);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(t);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(t);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(t);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(t);case AnnotationType.STAMP:return new StampAnnotationElement(t);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(t);default:return new AnnotationElement(t)}}}var Il,Jc,ir,Xf,bb;const Wb=class Wb{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){$(this,Xf);$(this,Il,null);$(this,Jc,!1);$(this,ir,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Wb._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:t}=this,e=(i=this.annotationStorage)==null?void 0:i.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var u;const t=(u=this.annotationStorage)==null?void 0:u.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:s}=this.data;let a=-1/0,o=-1/0;if((e==null?void 0:e.length)>=8){for(let h=0;h<e.length;h+=8)e[h+1]>o?(o=e[h+1],a=e[h+2]):e[h+1]===o&&(a=Math.max(a,e[h+2]));return[a,o]}if((i==null?void 0:i.length)>=1){for(const h of i)for(let d=0,f=h.length;d<f;d+=2)h[d+1]>o?(o=h[d+1],a=h[d]):h[d+1]===o&&(a=Math.max(a,h[d]));if(a!==1/0)return[a,o]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-a)/i,t[1]=100*(t[1]-o)/s,t}get commentText(){var e,i,s;const{data:t}=this;return((i=(e=this.annotationStorage.getRawValue(`${AnnotationEditorPrefix}${t.id}`))==null?void 0:e.popup)==null?void 0:i.contents)||((s=t.contentsObj)==null?void 0:s.str)||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${AnnotationEditorPrefix}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;(e=((t=m(this,ir))==null?void 0:t.popup)||this.popup)==null||e.remove(),D(this,ir,this.popup=null)}updateEdited(t){var a;if(!this.container)return;t.rect&&(m(this,Il)||D(this,Il,{rect:this.data.rect.slice(0)}));const{rect:e,popup:i}=t;e&&N(this,Xf,bb).call(this,e);let s=((a=m(this,ir))==null?void 0:a.popup)||this.popup;!s&&(i!=null&&i.text)&&(this._createPopup(i),s=m(this,ir).popup),s&&(s.updateEdited(t),i!=null&&i.deleted&&(s.remove(),D(this,ir,null),this.popup=null))}resetEdited(){var t;m(this,Il)&&(N(this,Xf,bb).call(this,m(this,Il).rect),(t=m(this,ir))==null||t.popup.resetEdited(),D(this,Il,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),!(this instanceof WidgetAnnotationElement)&&!(this instanceof LinkAnnotationElement)&&(a.tabIndex=0);const{style:o}=a;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof PopupAnnotationElement){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,a),a}const{width:u,height:h}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,R=e.borderStyle.verticalCornerRadius;if(S>0||R>0){const L=`calc(${S}px * var(--total-scale-factor)) / calc(${R}px * var(--total-scale-factor))`;o.borderRadius=L}else if(this instanceof RadioButtonWidgetAnnotationElement){const L=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;o.borderRadius=L}switch(e.borderStyle.style){case AnnotationBorderStyleType.SOLID:o.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:o.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:o.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(D(this,Jc,!0),o.borderColor=Util.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):o.borderWidth=0}const d=Util.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:g,pageX:b,pageY:x}=s.rawDims;o.left=`${100*(d[0]-b)/f}%`,o.top=`${100*(d[1]-x)/g}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(o.width=`${100*u/f}%`,o.height=`${100*h/g}%`):this.setRotation(E,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:a,height:o}=this;t%180!==0&&([a,o]=[o,a]),e.style.width=`${100*a/i}%`,e.style.height=`${100*o/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const a=s.detail[e],o=a[0],u=a.slice(1);s.target.style[i]=ColorConverters[`${o}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:ColorConverters[`${o}_rgb`](u)})};return shadow(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const a=t[s]||i[s];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,a]of Object.entries(e)){const o=i[s];if(o){const u={detail:{[s]:a},target:t};o(u),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,a]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,R,w,L]=t.subarray(2,6);if(s===S&&a===R&&e===w&&i===L)return}const{style:o}=this.container;let u;if(m(this,Jc)){const{borderColor:S,borderWidth:R}=o;o.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${R}">`],this.container.classList.add("hasBorder")}const h=s-e,d=a-i,{svgFactory:f}=this,g=f.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const b=f.createElement("defs");g.append(b);const x=f.createElement("clipPath"),E=`clippath_${this.data.id}`;x.setAttribute("id",E),x.setAttribute("clipPathUnits","objectBoundingBox"),b.append(x);for(let S=2,R=t.length;S<R;S+=8){const w=t[S],L=t[S+1],P=t[S+2],V=t[S+3],B=f.createElement("rect"),F=(P-e)/h,H=(a-L)/d,K=(w-P)/h,J=(L-V)/d;B.setAttribute("x",F),B.setAttribute("y",H),B.setAttribute("width",K),B.setAttribute("height",J),x.append(B),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${F}" y="${H}" width="${K}" height="${J}"/>`)}m(this,Jc)&&(u.push("</g></svg>')"),o.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${E})`}_createPopup(t=null){const{data:e}=this;let i,s;t?(i={str:t.text},s=t.date):(i=e.contentsObj,s=e.modificationDate);const a=D(this,ir,new PopupAnnotationElement({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(m(this,ir)||this.popup||this.data.popupRef)}get extraPopupElement(){return m(this,ir)}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:o,exportValues:u}of s){if(a===-1||o===e)continue;const h=typeof u=="string"?u:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!GetElementsByNameSet.has(d)){warn(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:h,domElement:d})}return i}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,o=s.getAttribute("data-element-id");o!==e&&GetElementsByNameSet.has(s)&&i.push({id:o,exportValue:a,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Il=new WeakMap,Jc=new WeakMap,ir=new WeakMap,Xf=new WeakSet,bb=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:u,pageY:h}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-u)/a}%`,e.top=`${100*(o-t[3]+h)/o}%`,s===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(s)};let AnnotationElement=Wb;class EditorAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Bi,qo,_A,kA;class LinkAnnotationElement extends AnnotationElement{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});$(this,Bi);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),a=!0):e.attachment?(N(this,Bi,_A).call(this,s,e.attachment,e.overlaidText,e.attachmentDest),a=!0):e.setOCGState?(N(this,Bi,kA).call(this,s,e.setOCGState,e.overlaidText),a=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(e,i,s=""){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&N(this,Bi,qo).call(this),s&&(e.title=s)}_bindNamedAction(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),s&&(e.title=s),N(this,Bi,qo).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(i.actions)){const o=s.get(a);o&&(e[o]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:a}}),!1})}i.overlaidText&&(e.title=i.overlaidText),e.onclick||(e.onclick=()=>!1),N(this,Bi,qo).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),N(this,Bi,qo).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var g;s==null||s();const{fields:a,refs:o,include:u}=i,h=[];if(a.length!==0||o.length!==0){const b=new Set(o);for(const x of a){const E=this._fieldObjects[x]||[];for(const{id:S}of E)b.add(S)}for(const x of Object.values(this._fieldObjects))for(const E of x)b.has(E.id)===u&&h.push(E)}else for(const b of Object.values(this._fieldObjects))h.push(...b);const d=this.annotationStorage,f=[];for(const b of h){const{id:x}=b;switch(f.push(x),b.type){case"text":{const S=b.defaultValue||"";d.setValue(x,{value:S});break}case"checkbox":case"radiobutton":{const S=b.defaultValue===b.exportValues;d.setValue(x,{value:S});break}case"combobox":case"listbox":{const S=b.defaultValue||"";d.setValue(x,{value:S});break}default:continue}const E=document.querySelector(`[data-element-id="${x}"]`);if(E){if(!GetElementsByNameSet.has(E)){warn(`_bindResetFormAction - element not allowed: ${x}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Bi=new WeakSet,qo=function(){this.container.setAttribute("data-internal-link","")},_A=function(e,i,s="",a=null){e.href=this.linkService.getAnchorUrl(""),i.description?e.title=i.description:s&&(e.title=s),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,a),!1},N(this,Bi,qo).call(this)},kA=function(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),s&&(e.title=s),N(this,Bi,qo).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return util_FeatureTest.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,a){i.includes("mouse")?t.addEventListener(i,o=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var u;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}a&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(o)}}))})}_setEventListeners(t,e,i,s){var a,o,u;for(const[h,d]of i)(d==="Action"||(a=this.data.actions)!=null&&a[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,d,s),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Util.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,a=t.style;let o;const u=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-u),f=Math.round(d/(LINE_FACTOR*s))||1,g=d/f;o=Math.min(s,h(g/LINE_FACTOR))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-u);o=Math.min(s,h(d/LINE_FACTOR))}a.fontSize=`calc(${o}px * var(--total-scale-factor))`,a.color=Util.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const a=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),a.setValue(o.id,{[s]:i})}render(){var s,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let u=o.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let d=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const f={userValue:u,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??u,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",d??u),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),GetElementsByNameSet.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:g,datetimeType:b,timeStep:x}=this.data,E=!!b&&this.enableScripting;g&&(i.title=g),this._setRequired(i,this.data.required),h&&(i.maxLength=h),i.addEventListener("input",R=>{t.setValue(e,{value:R.target.value}),this.setPropertyOnSiblings(i,"value",R.target.value,"value"),f.formattedValue=null}),i.addEventListener("resetform",R=>{const w=this.data.defaultFieldValue??"";i.value=f.userValue=w,f.formattedValue=null});let S=R=>{const{formattedValue:w}=f;w!=null&&(R.target.value=w),R.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",w=>{var P;if(f.focused)return;const{target:L}=w;if(E&&(L.type=b,x&&(L.step=x)),f.userValue){const V=f.userValue;if(E)if(b==="time"){const B=new Date(V),F=[B.getHours(),B.getMinutes(),B.getSeconds()];L.value=F.map(H=>H.toString().padStart(2,"0")).join(":")}else L.value=new Date(V-TIMEZONE_OFFSET).toISOString().split(b==="date"?"T":".",1)[0];else L.value=V}f.lastCommittedValue=L.value,f.commitKey=1,(P=this.data.actions)!=null&&P.Focus||(f.focused=!0)}),i.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const L={value(P){f.userValue=P.detail.value??"",E||t.setValue(e,{value:f.userValue.toString()}),P.target.value=f.userValue},formattedValue(P){const{formattedValue:V}=P.detail;f.formattedValue=V,V!=null&&P.target!==document.activeElement&&(P.target.value=V);const B={formattedValue:V};E&&(B.value=V),t.setValue(e,B)},selRange(P){P.target.setSelectionRange(...P.detail.selRange)},charLimit:P=>{var H;const{charLimit:V}=P.detail,{target:B}=P;if(V===0){B.removeAttribute("maxLength");return}B.setAttribute("maxLength",V);let F=f.userValue;!F||F.length<=V||(F=F.slice(0,V),B.value=f.userValue=F,t.setValue(e,{value:F}),(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:F,willCommit:!0,commitKey:1,selStart:B.selectionStart,selEnd:B.selectionEnd}}))}};this._dispatchEventFromSandbox(L,w)}),i.addEventListener("keydown",w=>{var V;f.commitKey=1;let L=-1;if(w.key==="Escape"?L=0:w.key==="Enter"&&!this.data.multiLine?L=2:w.key==="Tab"&&(f.commitKey=3),L===-1)return;const{value:P}=w.target;f.lastCommittedValue!==P&&(f.lastCommittedValue=P,f.userValue=P,(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:L,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const R=S;S=null,i.addEventListener("blur",w=>{var V,B;if(!f.focused||!w.relatedTarget)return;(V=this.data.actions)!=null&&V.Blur||(f.focused=!1);const{target:L}=w;let{value:P}=L;if(E){if(P&&b==="time"){const F=P.split(":").map(H=>parseInt(H,10));P=new Date(2e3,0,1,F[0],F[1],F[2]||0).valueOf(),L.step=""}else P.includes("T")||(P=`${P}T00:00`),P=new Date(P).valueOf();L.type="text"}f.userValue=P,f.lastCommittedValue!==P&&((B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:f.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),R(w)}),(a=this.data.actions)!=null&&a.Keystroke&&i.addEventListener("beforeinput",w=>{var J;f.lastCommittedValue=null;const{data:L,target:P}=w,{value:V,selectionStart:B,selectionEnd:F}=P;let H=B,K=F;switch(w.inputType){case"deleteWordBackward":{const G=V.substring(0,B).match(/\w*[^\w]*$/);G&&(H-=G[0].length);break}case"deleteWordForward":{const G=V.substring(B).match(/^[^\w]*\w*/);G&&(K+=G[0].length);break}case"deleteContentBackward":B===F&&(H-=1);break;case"deleteContentForward":B===F&&(K+=1);break}w.preventDefault(),(J=this.linkService.eventBus)==null||J.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:V,change:L||"",willCommit:!1,selStart:H,selEnd:K}})}),this._setEventListeners(i,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(S&&i.addEventListener("blur",S),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/h;i.classList.add("comb"),i.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return GetElementsByNameSet.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",o=>{const{name:u,checked:h}=o.target;for(const d of this._getElementsByName(u,i)){const f=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(i,{value:h})}),a.addEventListener("resetform",o=>{const u=e.defaultFieldValue||"Off";o.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const u={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const a=document.createElement("input");if(GetElementsByNameSet.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",o=>{const{name:u,checked:h}=o.target;for(const d of this._getElementsByName(u,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:h})}),a.addEventListener("resetform",o=>{const u=e.defaultFieldValue;o.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;a.addEventListener("updatefromsandbox",u=>{const h={value:d=>{const f=o===d.detail.value;for(const g of this._getElementsByName(d.target.name)){const b=f&&g.id===i;g.domElement&&(g.domElement.checked=b),t.setValue(g.id,{value:b})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");GetElementsByNameSet.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue;for(const b of s.options)b.selected=b.value===g});for(const f of this.data.options){const g=document.createElement("option");g.textContent=f.displayValue,g.value=f.exportValue,i.value.includes(f.exportValue)&&(g.setAttribute("selected",!0),a=!1),s.append(g)}let o=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),s.prepend(f),o=()=>{f.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const u=f=>{const g=f?"value":"textContent",{options:b,multiple:x}=s;return x?Array.prototype.filter.call(b,E=>E.selected).map(E=>E[g]):b.selectedIndex===-1?null:b[b.selectedIndex][g]};let h=u(!1);const d=f=>{const g=f.target.options;return Array.prototype.map.call(g,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",f=>{const g={value(b){o==null||o();const x=b.detail.value,E=new Set(Array.isArray(x)?x:[x]);for(const S of s.options)S.selected=E.has(S.value);t.setValue(e,{value:u(!0)}),h=u(!1)},multipleSelection(b){s.multiple=!0},remove(b){const x=s.options,E=b.detail.remove;x[E].selected=!1,s.remove(E),x.length>0&&Array.prototype.findIndex.call(x,R=>R.selected)===-1&&(x[0].selected=!0),t.setValue(e,{value:u(!0),items:d(b)}),h=u(!1)},clear(b){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=u(!1)},insert(b){const{index:x,displayValue:E,exportValue:S}=b.detail.insert,R=s.children[x],w=document.createElement("option");w.textContent=E,w.value=S,R?R.before(w):s.append(w),t.setValue(e,{value:u(!0),items:d(b)}),h=u(!1)},items(b){const{items:x}=b.detail;for(;s.length!==0;)s.remove(0);for(const E of x){const{displayValue:S,exportValue:R}=E,w=document.createElement("option");w.textContent=S,w.value=R,s.append(w)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:u(!0),items:d(b)}),h=u(!1)},indices(b){const x=new Set(b.detail.indices);for(const E of b.target.options)E.selected=x.has(E.index);t.setValue(e,{value:u(!0)}),h=u(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(g,f)}),s.addEventListener("input",f=>{var x;const g=u(!0),b=u(!1);t.setValue(e,{value:g}),f.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:b,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):s.addEventListener("input",function(f){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}var Wf,xb;class PopupAnnotationElement extends AnnotationElement{constructor(e){const{data:i,elements:s,parent:a}=e,o=!!a._commentManager;super(e,{isRenderable:!o&&AnnotationElement._hasPopupData(i)});$(this,Wf);if(this.elements=s,o&&AnnotationElement._hasPopupData(i)){const u=this.popup=N(this,Wf,xb).call(this);for(const h of s)h.popup=u}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const i=this.popup=N(this,Wf,xb).call(this),s=[];for(const a of this.elements)a.popup=i,a.container.ariaHasPopup="dialog",s.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(a=>`${AnnotationPrefix}${a}`).join(",")),this.container}}Wf=new WeakSet,xb=function(){return new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ci,ro,Tg,Cg,th,eh,He,Kr,so,Bl,nh,ih,Xr,Ri,qs,Gs,yn,Ys,ao,Qf,Ks,rh,Nl,oo,Vn,lo,Gt,Km,vb,Eb,Ab,Xm,Sb,DA,MA,PA,LA,Wm,Qm,wb;class PopupElement{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:a,contentsObj:o,richText:u,parent:h,rect:d,parentRect:f,open:g,commentManager:b=null}){$(this,Gt);$(this,Ci,null);$(this,ro,N(this,Gt,PA).bind(this));$(this,Tg,N(this,Gt,wb).bind(this));$(this,Cg,N(this,Gt,Qm).bind(this));$(this,th,N(this,Gt,Wm).bind(this));$(this,eh,null);$(this,He,null);$(this,Kr,null);$(this,so,null);$(this,Bl,null);$(this,nh,null);$(this,ih,null);$(this,Xr,!1);$(this,Ri,null);$(this,qs,null);$(this,Gs,null);$(this,yn,null);$(this,Ys,null);$(this,ao,null);$(this,Qf,null);$(this,Ks,null);$(this,rh,null);$(this,Nl,null);$(this,oo,!1);$(this,Vn,null);$(this,lo,null);D(this,He,t),D(this,rh,s),D(this,Kr,o),D(this,Ks,u),D(this,nh,h),D(this,eh,e),D(this,Qf,d),D(this,ih,f),D(this,Bl,i),D(this,Ci,b),D(this,Vn,i[0]),D(this,so,PDFDateString.toDateObject(a)),this.trigger=i.flatMap(x=>x.getElementsToTriggerPopup()),b?this.renderCommentButton():(N(this,Gt,Km).call(this),m(this,He).hidden=!0,g&&N(this,Gt,Wm).call(this))}renderCommentButton(){if(m(this,yn)||(m(this,Ys)||N(this,Gt,vb).call(this),!m(this,Ys)))return;const{signal:t}=D(this,qs,new AbortController),e=!!m(this,Vn).extraPopupElement,i=()=>{m(this,Ci).toggleCommentPopup(this,!0,void 0,!e)},s=()=>{m(this,Ci).toggleCommentPopup(this,!1,!0,!e)},a=()=>{m(this,Ci).toggleCommentPopup(this,!1,!1)};if(e){D(this,yn,m(this,Vn).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",m(this,ro),{signal:t}),o.addEventListener("click",i,{signal:t}),o.addEventListener("pointerenter",s,{signal:t}),o.addEventListener("pointerleave",a,{signal:t}),o.classList.add("popupTriggerArea")}else{const o=D(this,yn,document.createElement("button"));o.className="annotationCommentButton";const u=m(this,Vn).container;o.style.zIndex=u.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),N(this,Gt,Ab).call(this),N(this,Gt,Eb).call(this),o.addEventListener("keydown",m(this,ro),{signal:t}),o.addEventListener("click",i,{signal:t}),o.addEventListener("pointerenter",s,{signal:t}),o.addEventListener("pointerleave",a,{signal:t}),u.after(o)}}get commentButtonColor(){const{color:t,opacity:e}=m(this,Vn).commentData;return t?m(this,nh)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{var t;(t=m(this,yn))==null||t.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:s,modificationDate:a}=m(this,Vn).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:s,modificationDate:a}}get elementBeforePopup(){return m(this,yn)}get comment(){return m(this,lo)||D(this,lo,m(this,Vn).commentText),m(this,lo)}set comment(t){t!==this.comment&&(m(this,Vn).commentText=D(this,lo,t))}get parentBoundingClientRect(){return m(this,Vn).layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){m(this,yn)&&(m(this,yn).classList.toggle("selected",t),m(this,yn).ariaExpanded=e)}setSelectedCommentButton(t){m(this,yn).classList.toggle("selected",t)}get commentPopupPosition(){if(m(this,ao))return m(this,ao);const{x:t,y:e,height:i}=m(this,yn).getBoundingClientRect(),{x:s,y:a,width:o,height:u}=m(this,Vn).layer.getBoundingClientRect();return[(t-s)/o,(e+i-a)/u]}set commentPopupPosition(t){D(this,ao,t)}hasDefaultPopupPosition(){return m(this,ao)===null}get commentButtonPosition(){return m(this,Ys)}get commentButtonWidth(){return m(this,yn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=m(this,ao)||this.commentButtonPosition.map(d=>d/100),s=this.parentBoundingClientRect,{x:a,y:o,width:u,height:h}=s;m(this,Ci).showDialog(null,this,a+e*u,o+i*h,{...t,parentDimensions:s})}render(){var i,s;if(m(this,Ri))return;const t=D(this,Ri,document.createElement("div"));if(t.className="popup",m(this,eh)){const a=t.style.outlineColor=Util.makeHexColor(...m(this,eh));t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const e=document.createElement("span");if(e.className="header",(i=m(this,rh))!=null&&i.str){const a=document.createElement("span");a.className="title",e.append(a),{dir:a.dir,str:a.textContent}=m(this,rh)}if(t.append(e),m(this,so)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,so).valueOf()})),a.dateTime=m(this,so).toISOString(),e.append(a)}renderRichText({html:m(this,Gt,Xm)||m(this,Kr).str,dir:(s=m(this,Kr))==null?void 0:s.dir,className:"popupContent"},t),m(this,He).append(t)}updateEdited({rect:t,popup:e,deleted:i}){var s;if(m(this,Ci)){i?(this.remove(),D(this,lo,null)):e&&(e.deleted?this.remove():(N(this,Gt,Ab).call(this),D(this,lo,e.text))),t&&(D(this,Ys,null),N(this,Gt,vb).call(this),N(this,Gt,Eb).call(this));return}if(i||e!=null&&e.deleted){this.remove();return}N(this,Gt,Km).call(this),m(this,Nl)||D(this,Nl,{contentsObj:m(this,Kr),richText:m(this,Ks)}),t&&D(this,Gs,null),e&&e.text&&(D(this,Ks,N(this,Gt,MA).call(this,e.text)),D(this,so,PDFDateString.toDateObject(e.date)),D(this,Kr,null)),(s=m(this,Ri))==null||s.remove(),D(this,Ri,null)}resetEdited(){var t;m(this,Nl)&&({contentsObj:on(this,Kr)._,richText:on(this,Ks)._}=m(this,Nl),D(this,Nl,null),(t=m(this,Ri))==null||t.remove(),D(this,Ri,null),D(this,Gs,null))}remove(){var t,e,i;if((t=m(this,qs))==null||t.abort(),D(this,qs,null),(e=m(this,Ri))==null||e.remove(),D(this,Ri,null),D(this,oo,!1),D(this,Xr,!1),(i=m(this,yn))==null||i.remove(),D(this,yn,null),this.trigger)for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){D(this,oo,this.isVisible),m(this,oo)&&(m(this,He).hidden=!0)}maybeShow(){m(this,Ci)||(N(this,Gt,Km).call(this),m(this,oo)&&(m(this,Ri)||N(this,Gt,Qm).call(this),D(this,oo,!1),m(this,He).hidden=!1))}get isVisible(){return m(this,Ci)?!1:m(this,He).hidden===!1}}Ci=new WeakMap,ro=new WeakMap,Tg=new WeakMap,Cg=new WeakMap,th=new WeakMap,eh=new WeakMap,He=new WeakMap,Kr=new WeakMap,so=new WeakMap,Bl=new WeakMap,nh=new WeakMap,ih=new WeakMap,Xr=new WeakMap,Ri=new WeakMap,qs=new WeakMap,Gs=new WeakMap,yn=new WeakMap,Ys=new WeakMap,ao=new WeakMap,Qf=new WeakMap,Ks=new WeakMap,rh=new WeakMap,Nl=new WeakMap,oo=new WeakMap,Vn=new WeakMap,lo=new WeakMap,Gt=new WeakSet,Km=function(){var e;if(m(this,qs))return;D(this,qs,new AbortController);const{signal:t}=m(this,qs);for(const i of this.trigger)i.addEventListener("click",m(this,th),{signal:t}),i.addEventListener("pointerenter",m(this,Cg),{signal:t}),i.addEventListener("pointerleave",m(this,Tg),{signal:t}),i.classList.add("popupTriggerArea");for(const i of m(this,Bl))(e=i.container)==null||e.addEventListener("keydown",m(this,ro),{signal:t})},vb=function(){const t=m(this,Bl).find(e=>e.hasCommentButton);t&&D(this,Ys,t._normalizePoint(t.commentButtonPosition))},Eb=function(){if(m(this,Vn).extraPopupElement&&!m(this,Vn).editor)return;this.renderCommentButton();const[t,e]=m(this,Ys),{style:i}=m(this,yn);i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`},Ab=function(){m(this,Vn).extraPopupElement||(this.renderCommentButton(),m(this,yn).style.backgroundColor=this.commentButtonColor||"")},Xm=function(){const t=m(this,Ks),e=m(this,Kr);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&m(this,Ks).html||null},Sb=function(){var t,e,i;return((i=(e=(t=m(this,Gt,Xm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},DA=function(){var t,e,i;return((i=(e=(t=m(this,Gt,Xm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},MA=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:m(this,Gt,DA),fontSize:m(this,Gt,Sb)?`calc(${m(this,Gt,Sb)}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return i},PA=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&m(this,Xr))&&N(this,Gt,Wm).call(this)},LA=function(){if(m(this,Gs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:a}}}=m(this,nh);let o=!!m(this,ih),u=o?m(this,ih):m(this,Qf);for(const E of m(this,Bl))if(!u||Util.intersect(E.data.rect,u)!==null){u=E.data.rect,o=!0;break}const h=Util.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),f=o?u[2]-u[0]+5:0,g=h[0]+f,b=h[1];D(this,Gs,[100*(g-s)/e,100*(b-a)/i]);const{style:x}=m(this,He);x.left=`${m(this,Gs)[0]}%`,x.top=`${m(this,Gs)[1]}%`},Wm=function(){if(m(this,Ci)){m(this,Ci).toggleCommentPopup(this,!1);return}D(this,Xr,!m(this,Xr)),m(this,Xr)?(N(this,Gt,Qm).call(this),m(this,He).addEventListener("click",m(this,th)),m(this,He).addEventListener("keydown",m(this,ro))):(N(this,Gt,wb).call(this),m(this,He).removeEventListener("click",m(this,th)),m(this,He).removeEventListener("keydown",m(this,ro)))},Qm=function(){m(this,Ri)||this.render(),this.isVisible?m(this,Xr)&&m(this,He).classList.add("focused"):(N(this,Gt,LA).call(this),m(this,He).hidden=!1,m(this,He).style.zIndex=parseInt(m(this,He).style.zIndex)+1e3)},wb=function(){m(this,He).classList.remove("focused"),!(m(this,Xr)||!this.isVisible)&&(m(this,He).hidden=!0,m(this,He).style.zIndex=parseInt(m(this,He).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Zf;class LineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,Zf,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),o=D(this,Zf,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Zf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zf=new WeakMap;var Jf;class SquareAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,Jf,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),o=e.borderStyle.width,u=D(this,Jf,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",o/2),u.setAttribute("y",o/2),u.setAttribute("width",i-o),u.setAttribute("height",s-o),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Jf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jf=new WeakMap;var tp;class CircleAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,tp,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:s}=this,a=this.svgFactory.create(i,s,!0),o=e.borderStyle.width,u=D(this,tp,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",i/2),u.setAttribute("cy",s/2),u.setAttribute("rx",i/2-o/2),u.setAttribute("ry",s/2-o/2),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,tp)}addHighlightArea(){this.container.classList.add("highlightArea")}}tp=new WeakMap;var ep;class PolylineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,ep,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:a},width:o,height:u}=this;if(!i)return this.container;const h=this.svgFactory.create(o,u,!0);let d=[];for(let g=0,b=i.length;g<b;g+=2){const x=i[g]-e[0],E=e[3]-i[g+1];d.push(`${x},${E}`)}d=d.join(" ");const f=D(this,ep,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",d),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),h.append(f),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,ep)}addHighlightArea(){this.container.classList.add("highlightArea")}}ep=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var np,Fl,ip,Tb;class InkAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,ip);$(this,np,null);$(this,Fl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:s,borderStyle:a,popupRef:o}}=this,{transform:u,width:h,height:d}=N(this,ip,Tb).call(this,i,e),f=this.svgFactory.create(h,d,!0),g=D(this,np,this.svgFactory.createElement("svg:g"));f.append(g),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",u);for(let b=0,x=s.length;b<x;b++){const E=this.svgFactory.createElement(this.svgElementName);m(this,Fl).push(E),E.setAttribute("points",s[b].join(",")),g.append(E)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:s,rect:a}=e,o=m(this,np);if(i>=0&&o.setAttribute("stroke-width",i||1),s)for(let u=0,h=m(this,Fl).length;u<h;u++)m(this,Fl)[u].setAttribute("points",s[u].join(","));if(a){const{transform:u,width:h,height:d}=N(this,ip,Tb).call(this,this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${d}`),o.setAttribute("transform",u)}}getElementsToTriggerPopup(){return m(this,Fl)}addHighlightArea(){this.container.classList.add("highlightArea")}}np=new WeakMap,Fl=new WeakMap,ip=new WeakSet,Tb=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class HighlightAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class StampAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var rp,sp,Cb;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(e){var s;super(e,{isRenderable:!0});$(this,sp);$(this,rp,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",N(this,sp,Cb).bind(this)),D(this,rp,s);const{isMac:a}=util_FeatureTest.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&N(this,sp,Cb).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return m(this,rp)}addHighlightArea(){this.container.classList.add("highlightArea")}}rp=new WeakMap,sp=new WeakSet,Cb=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var sh,Vl,ah,uo,ap,jl,Co,Rb,_b,oh;let AnnotationLayer$1=(oh=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:a,viewport:o,structTreeLayer:u,commentManager:h,linkService:d,annotationStorage:f}){$(this,Co);$(this,sh,null);$(this,Vl,null);$(this,ah,null);$(this,uo,new Map);$(this,ap,null);$(this,jl,null);this.div=t,D(this,sh,e),D(this,Vl,i),D(this,ap,u||null),D(this,jl,d||null),D(this,ah,f||new AnnotationStorage),this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=h||null}hasEditableAnnotations(){return m(this,uo).size>0}async render(t){var o,u,h;const{annotations:e}=t,i=this.div;setLayerDimensions(i,this.viewport);const s=new Map,a={data:null,layer:i,linkService:m(this,jl),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:m(this,ah),enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===AnnotationType.POPUP;if(f){const x=s.get(d.id);if(!x)continue;a.elements=x}else if(d.rect[2]===d.rect[0]||d.rect[3]===d.rect[1])continue;a.data=d;const g=AnnotationElementFactory.create(a);if(!g.isRenderable)continue;if(!f&&d.popupRef){const x=s.get(d.popupRef);x?x.push(g):s.set(d.popupRef,[g])}const b=g.render();d.hidden&&(b.style.visibility="hidden"),await N(this,Co,Rb).call(this,b,d.id,a.elements),(u=(o=g.extraPopupElement)==null?void 0:o.popup)==null||u.renderCommentButton(),g._isEditable&&(m(this,uo).set(g.data.id,g),(h=this._annotationEditorUIManager)==null||h.renderAnnotationElement(g))}N(this,Co,_b).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:m(this,jl),svgFactory:new DOMSVGFactory,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=oh._defaultBorderStyle),e.data=i;const s=AnnotationElementFactory.create(e);if(!s.isRenderable)continue;const a=s.render();await N(this,Co,Rb).call(this,a,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,setLayerDimensions(e,{rotation:t.rotation}),N(this,Co,_b).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(m(this,uo).values())}getEditableAnnotation(t){return m(this,uo).get(t)}addFakeAnnotation(t){var u;const{div:e}=this,{id:i,rotation:s}=t,a=new EditorAnnotationElement({data:{id:i,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:m(this,jl),annotationStorage:m(this,ah)}),o=a.render();return e.append(o),(u=m(this,sh))==null||u.moveElementInDOM(e,o,o,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return shadow(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:AnnotationBorderStyleType.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},sh=new WeakMap,Vl=new WeakMap,ah=new WeakMap,uo=new WeakMap,ap=new WeakMap,jl=new WeakMap,Co=new WeakSet,Rb=async function(t,e,i){var u,h;const s=t.firstChild||t,a=s.id=`${AnnotationPrefix}${e}`,o=await((u=m(this,ap))==null?void 0:u.getAriaAttributes(a));if(o)for(const[d,f]of o)s.setAttribute(d,f);i?i.at(-1).container.after(t):(this.div.append(t),(h=m(this,sh))==null||h.moveElementInDOM(this.div,t,s,!1))},_b=function(){var e;if(!m(this,Vl))return;const t=this.div;for(const[i,s]of m(this,Vl)){const a=t.querySelector(`[data-annotation-id="${i}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):a.append(s);const u=m(this,uo).get(i);u&&(u._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,a.id,s),u._hasNoCanvas=!1):u.canvas=s)}m(this,Vl).clear()},oh);const EOL_PATTERN=/\r\n?|\n/g;var _i,op,Ul,ki,rn,$A,OA,IA,Zm,ia,Jm,tg,BA,kb,NA;const Pe=class Pe extends AnnotationEditor{constructor(e){super({...e,name:"freeTextEditor"});$(this,rn);$(this,_i,"");$(this,op,`${this.id}-editor`);$(this,Ul,null);$(this,ki);At(this,"_colorPicker",null);this.color=e.color||Pe._defaultColor||AnnotationEditor._defaultLineColor,D(this,ki,e.fontSize||Pe._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=Pe.prototype,i=o=>o.isEmpty(),s=AnnotationEditorUIManager.TRANSLATE_SMALL,a=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}]]))}static initialize(e,i){AnnotationEditor.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case AnnotationEditorParamsType.FREETEXT_SIZE:Pe._defaultFontSize=i;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Pe._defaultColor=i;break}}updateParams(e,i){switch(e){case AnnotationEditorParamsType.FREETEXT_SIZE:N(this,rn,$A).call(this,i);break;case AnnotationEditorParamsType.FREETEXT_COLOR:N(this,rn,OA).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Pe._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Pe._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,m(this,ki)],[AnnotationEditorParamsType.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new BasicColorPicker(this)),[["colorPicker",this._colorPicker]]}get colorType(){return AnnotationEditorParamsType.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Pe._internalPadding*e,-(Pe._internalPadding+m(this,ki))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),D(this,Ul,new AbortController);const e=this._uiManager.combinedSignal(m(this,Ul));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,op)),this._isDraggable=!0,(e=m(this,Ul))==null||e.abort(),D(this,Ul,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=m(this,_i),i=D(this,_i,N(this,rn,IA).call(this).trimEnd());if(e===i)return;const s=a=>{if(D(this,_i,a),!a){this.remove();return}N(this,rn,tg).call(this),this._uiManager.rebuild(this),N(this,rn,Zm).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),N(this,rn,Zm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Pe._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,op)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${m(this,ki)}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[f,g]=this.pageDimensions,[b,x]=this.pageTranslation;let E,S;switch(this.rotation){case 0:E=e+(u[0]-b)/f,S=i+this.height-(u[1]-x)/g;break;case 90:E=e+(u[0]-b)/f,S=i-(u[1]-x)/g,[h,d]=[d,-h];break;case 180:E=e-this.width+(u[0]-b)/f,S=i-(u[1]-x)/g,[h,d]=[-h,-d];break;case 270:E=e+(u[0]-b-this.height*g)/f,S=i+(u[1]-x-this.width*f)/g,[h,d]=[-d,h];break}this.setAt(E*a,S*o,h,d)}else this._moveAfterPaste(e,i);N(this,rn,tg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,S,R;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=N(E=Pe,ia,kb).call(E,i.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const u=o.getRangeAt(0);if(!a.includes(`
`)){u.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:d}=u,f=[],g=[];if(h.nodeType===Node.TEXT_NODE){const w=h.parentElement;if(g.push(h.nodeValue.slice(d).replaceAll(EOL_PATTERN,"")),w!==this.editorDiv){let L=f;for(const P of this.editorDiv.childNodes){if(P===w){L=g;continue}L.push(N(S=Pe,ia,Jm).call(S,P))}}f.push(h.nodeValue.slice(0,d).replaceAll(EOL_PATTERN,""))}else if(h===this.editorDiv){let w=f,L=0;for(const P of this.editorDiv.childNodes)L++===d&&(w=g),w.push(N(R=Pe,ia,Jm).call(R,P))}D(this,_i,`${f.join(`
`)}${a}${g.join(`
`)}`),N(this,rn,tg).call(this);const b=new Range;let x=Math.sumPrecise(f.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const L=w.nodeValue.length;if(x<=L){b.setStart(w,x),b.setEnd(w,x);break}x-=L}o.removeAllRanges(),o.addRange(b)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Pe._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,i,s){var u;let a=null;if(e instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:h,fontColor:d},rect:f,rotation:g,id:b,popupRef:x,richText:E,contentsObj:S,creationDate:R,modificationDate:w},textContent:L,textPosition:P,parent:{page:{pageNumber:V}}}=e;if(!L||L.length===0)return null;a=e={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(d),fontSize:h,value:L.join(`
`),position:P,pageIndex:V-1,rect:f.slice(0),rotation:g,annotationElementId:b,id:b,deleted:!1,popupRef:x,comment:(S==null?void 0:S.str)||null,richText:E,creationDate:R,modificationDate:w}}const o=await super.deserialize(e,i,s);return D(o,ki,e.fontSize),o.color=Util.makeHexColor(...e.color),D(o,_i,N(u=Pe,ia,kb).call(u,e.value)),o._initialData=a,e.comment&&o.setCommentData(e),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:i,fontSize:m(this,ki),value:N(this,rn,BA).call(this)});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!N(this,rn,NA).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(!i)return null;const{style:s}=i;s.fontSize=`calc(${m(this,ki)}px * var(--total-scale-factor))`,s.color=this.color,i.replaceChildren();for(const a of m(this,_i).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),i.append(o)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:m(this,_i)}}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};_i=new WeakMap,op=new WeakMap,Ul=new WeakMap,ki=new WeakMap,rn=new WeakSet,$A=function(e){const i=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-m(this,ki))*this.parentScale),D(this,ki,a),N(this,rn,Zm).call(this)},s=m(this,ki);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},OA=function(e){const i=a=>{this.color=a,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},IA=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const a of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(N(s=Pe,ia,Jm).call(s,a)),i=a);return e.join(`
`)},Zm=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,u=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=u,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},ia=new WeakSet,Jm=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(EOL_PATTERN,"")},tg=function(){if(this.editorDiv.replaceChildren(),!!m(this,_i))for(const e of m(this,_i).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},BA=function(){return m(this,_i).replaceAll(""," ")},kb=function(e){return e.replaceAll(" ","")},NA=function(e){const{value:i,fontSize:s,color:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((u,h)=>u!==a[h])||e.pageIndex!==o},$(Pe,ia),At(Pe,"_freeTextDefaultContent",""),At(Pe,"_internalPadding",0),At(Pe,"_defaultColor",null),At(Pe,"_defaultFontSize",10),At(Pe,"_type","freetext"),At(Pe,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Pe;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(t,e){unreachable("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,s,a,o){o||(o=new Float32Array(t.length));for(let u=0,h=t.length;u<h;u+=2)o[u]=e+t[u]*s,o[u+1]=i+t[u+1]*a;return o}static _rescaleAndSwap(t,e,i,s,a,o){o||(o=new Float32Array(t.length));for(let u=0,h=t.length;u<h;u+=2)o[u]=e+t[u+1]*s,o[u+1]=i+t[u]*a;return o}static _translate(t,e,i,s){s||(s=new Float32Array(t.length));for(let a=0,o=t.length;a<o;a+=2)s[a]=e+t[a],s[a+1]=i+t[a+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,s,a){switch(a){case 90:return[1-e/i,t/s];case 180:return[1-t/i,1-e/s];case 270:return[e/i,1-t/s];default:return[t/i,e/s]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,s,a,o){return[(t+5*i)/6,(e+5*s)/6,(5*i+a)/6,(5*s+o)/6,(i+a)/2,(s+o)/2]}}At(Outline,"PRECISION",1e-4);var Di,vr,lh,uh,Wr,Qt,zl,Hl,lp,up,ch,hh,co,cp,Rg,_g,hn,Fd,FA,VA,jA,UA,zA,HA;const Es=class Es{constructor({x:t,y:e},i,s,a,o,u=0){$(this,hn);$(this,Di);$(this,vr,[]);$(this,lh);$(this,uh);$(this,Wr,[]);$(this,Qt,new Float32Array(18));$(this,zl);$(this,Hl);$(this,lp);$(this,up);$(this,ch);$(this,hh);$(this,co,[]);D(this,Di,i),D(this,hh,a*s),D(this,uh,o),m(this,Qt).set([NaN,NaN,NaN,NaN,t,e],6),D(this,lh,u),D(this,up,m(Es,cp)*s),D(this,lp,m(Es,_g)*s),D(this,ch,s),m(this,co).push(t,e)}isEmpty(){return isNaN(m(this,Qt)[8])}add({x:t,y:e}){var J;D(this,zl,t),D(this,Hl,e);const[i,s,a,o]=m(this,Di);let[u,h,d,f]=m(this,Qt).subarray(8,12);const g=t-d,b=e-f,x=Math.hypot(g,b);if(x<m(this,lp))return!1;const E=x-m(this,up),S=E/x,R=S*g,w=S*b;let L=u,P=h;u=d,h=f,d+=R,f+=w,(J=m(this,co))==null||J.push(t,e);const V=-w/E,B=R/E,F=V*m(this,hh),H=B*m(this,hh);return m(this,Qt).set(m(this,Qt).subarray(2,8),0),m(this,Qt).set([d+F,f+H],4),m(this,Qt).set(m(this,Qt).subarray(14,18),12),m(this,Qt).set([d-F,f-H],16),isNaN(m(this,Qt)[6])?(m(this,Wr).length===0&&(m(this,Qt).set([u+F,h+H],2),m(this,Wr).push(NaN,NaN,NaN,NaN,(u+F-i)/a,(h+H-s)/o),m(this,Qt).set([u-F,h-H],14),m(this,vr).push(NaN,NaN,NaN,NaN,(u-F-i)/a,(h-H-s)/o)),m(this,Qt).set([L,P,u,h,d,f],6),!this.isEmpty()):(m(this,Qt).set([L,P,u,h,d,f],6),Math.abs(Math.atan2(P-h,L-u)-Math.atan2(w,R))<Math.PI/2?([u,h,d,f]=m(this,Qt).subarray(2,6),m(this,Wr).push(NaN,NaN,NaN,NaN,((u+d)/2-i)/a,((h+f)/2-s)/o),[u,h,L,P]=m(this,Qt).subarray(14,18),m(this,vr).push(NaN,NaN,NaN,NaN,((L+u)/2-i)/a,((P+h)/2-s)/o),!0):([L,P,u,h,d,f]=m(this,Qt).subarray(0,6),m(this,Wr).push(((L+5*u)/6-i)/a,((P+5*h)/6-s)/o,((5*u+d)/6-i)/a,((5*h+f)/6-s)/o,((u+d)/2-i)/a,((h+f)/2-s)/o),[d,f,u,h,L,P]=m(this,Qt).subarray(12,18),m(this,vr).push(((L+5*u)/6-i)/a,((P+5*h)/6-s)/o,((5*u+d)/6-i)/a,((5*h+f)/6-s)/o,((u+d)/2-i)/a,((h+f)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=m(this,Wr),e=m(this,vr);if(isNaN(m(this,Qt)[6])&&!this.isEmpty())return N(this,hn,FA).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);N(this,hn,jA).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return N(this,hn,VA).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,a,o){return new FreeDrawOutline(t,e,i,s,a,o)}getOutlines(){var g;const t=m(this,Wr),e=m(this,vr),i=m(this,Qt),[s,a,o,u]=m(this,Di),h=new Float32Array((((g=m(this,co))==null?void 0:g.length)??0)+2);for(let b=0,x=h.length-2;b<x;b+=2)h[b]=(m(this,co)[b]-s)/o,h[b+1]=(m(this,co)[b+1]-a)/u;if(h[h.length-2]=(m(this,zl)-s)/o,h[h.length-1]=(m(this,Hl)-a)/u,isNaN(i[6])&&!this.isEmpty())return N(this,hn,UA).call(this,h);const d=new Float32Array(m(this,Wr).length+24+m(this,vr).length);let f=t.length;for(let b=0;b<f;b+=2){if(isNaN(t[b])){d[b]=d[b+1]=NaN;continue}d[b]=t[b],d[b+1]=t[b+1]}f=N(this,hn,HA).call(this,d,f);for(let b=e.length-6;b>=6;b-=6)for(let x=0;x<6;x+=2){if(isNaN(e[b+x])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=e[b+x],d[f+1]=e[b+x+1],f+=2}return N(this,hn,zA).call(this,d,f),this.newFreeDrawOutline(d,h,m(this,Di),m(this,ch),m(this,lh),m(this,uh))}};Di=new WeakMap,vr=new WeakMap,lh=new WeakMap,uh=new WeakMap,Wr=new WeakMap,Qt=new WeakMap,zl=new WeakMap,Hl=new WeakMap,lp=new WeakMap,up=new WeakMap,ch=new WeakMap,hh=new WeakMap,co=new WeakMap,cp=new WeakMap,Rg=new WeakMap,_g=new WeakMap,hn=new WeakSet,Fd=function(){const t=m(this,Qt).subarray(4,6),e=m(this,Qt).subarray(16,18),[i,s,a,o]=m(this,Di);return[(m(this,zl)+(t[0]-e[0])/2-i)/a,(m(this,Hl)+(t[1]-e[1])/2-s)/o,(m(this,zl)+(e[0]-t[0])/2-i)/a,(m(this,Hl)+(e[1]-t[1])/2-s)/o]},FA=function(){const[t,e,i,s]=m(this,Di),[a,o,u,h]=N(this,hn,Fd).call(this);return`M${(m(this,Qt)[2]-t)/i} ${(m(this,Qt)[3]-e)/s} L${(m(this,Qt)[4]-t)/i} ${(m(this,Qt)[5]-e)/s} L${a} ${o} L${u} ${h} L${(m(this,Qt)[16]-t)/i} ${(m(this,Qt)[17]-e)/s} L${(m(this,Qt)[14]-t)/i} ${(m(this,Qt)[15]-e)/s} Z`},VA=function(t){const e=m(this,vr);t.push(`L${e[4]} ${e[5]} Z`)},jA=function(t){const[e,i,s,a]=m(this,Di),o=m(this,Qt).subarray(4,6),u=m(this,Qt).subarray(16,18),[h,d,f,g]=N(this,hn,Fd).call(this);t.push(`L${(o[0]-e)/s} ${(o[1]-i)/a} L${h} ${d} L${f} ${g} L${(u[0]-e)/s} ${(u[1]-i)/a}`)},UA=function(t){const e=m(this,Qt),[i,s,a,o]=m(this,Di),[u,h,d,f]=N(this,hn,Fd).call(this),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-i)/a,(e[3]-s)/o,NaN,NaN,NaN,NaN,(e[4]-i)/a,(e[5]-s)/o,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(e[16]-i)/a,(e[17]-s)/o,NaN,NaN,NaN,NaN,(e[14]-i)/a,(e[15]-s)/o],0),this.newFreeDrawOutline(g,t,m(this,Di),m(this,ch),m(this,lh),m(this,uh))},zA=function(t,e){const i=m(this,vr);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},HA=function(t,e){const i=m(this,Qt).subarray(4,6),s=m(this,Qt).subarray(16,18),[a,o,u,h]=m(this,Di),[d,f,g,b]=N(this,hn,Fd).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-a)/u,(i[1]-o)/h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(s[0]-a)/u,(s[1]-o)/h],e),e+=24},$(Es,cp,8),$(Es,Rg,2),$(Es,_g,m(Es,cp)+m(Es,Rg));let FreeDrawOutliner=Es;var dh,ql,Xs,hp,Mi,dp,Je,kg,qA;class FreeDrawOutline extends Outline{constructor(e,i,s,a,o,u){super();$(this,kg);$(this,dh);$(this,ql,new Float32Array(4));$(this,Xs);$(this,hp);$(this,Mi);$(this,dp);$(this,Je);D(this,Je,e),D(this,Mi,i),D(this,dh,s),D(this,dp,a),D(this,Xs,o),D(this,hp,u),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],N(this,kg,qA).call(this,u);const[h,d,f,g]=m(this,ql);for(let b=0,x=e.length;b<x;b+=2)e[b]=(e[b]-h)/f,e[b+1]=(e[b+1]-d)/g;for(let b=0,x=i.length;b<x;b+=2)i[b]=(i[b]-h)/f,i[b+1]=(i[b+1]-d)/g}toSVGPath(){const e=[`M${m(this,Je)[4]} ${m(this,Je)[5]}`];for(let i=6,s=m(this,Je).length;i<s;i+=6){if(isNaN(m(this,Je)[i])){e.push(`L${m(this,Je)[i+4]} ${m(this,Je)[i+5]}`);continue}e.push(`C${m(this,Je)[i]} ${m(this,Je)[i+1]} ${m(this,Je)[i+2]} ${m(this,Je)[i+3]} ${m(this,Je)[i+4]} ${m(this,Je)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,a],o){const u=s-e,h=a-i;let d,f;switch(o){case 0:d=Outline._rescale(m(this,Je),e,a,u,-h),f=Outline._rescale(m(this,Mi),e,a,u,-h);break;case 90:d=Outline._rescaleAndSwap(m(this,Je),e,i,u,h),f=Outline._rescaleAndSwap(m(this,Mi),e,i,u,h);break;case 180:d=Outline._rescale(m(this,Je),s,i,-u,h),f=Outline._rescale(m(this,Mi),s,i,-u,h);break;case 270:d=Outline._rescaleAndSwap(m(this,Je),s,a,-u,-h),f=Outline._rescaleAndSwap(m(this,Mi),s,a,-u,-h);break}return{outline:Array.from(d),points:[Array.from(f)]}}get box(){return m(this,ql)}newOutliner(e,i,s,a,o,u=0){return new FreeDrawOutliner(e,i,s,a,o,u)}getNewOutline(e,i){const[s,a,o,u]=m(this,ql),[h,d,f,g]=m(this,dh),b=o*f,x=u*g,E=s*f+h,S=a*g+d,R=this.newOutliner({x:m(this,Mi)[0]*b+E,y:m(this,Mi)[1]*x+S},m(this,dh),m(this,dp),e,m(this,hp),i??m(this,Xs));for(let w=2;w<m(this,Mi).length;w+=2)R.add({x:m(this,Mi)[w]*b+E,y:m(this,Mi)[w+1]*x+S});return R.getOutlines()}}dh=new WeakMap,ql=new WeakMap,Xs=new WeakMap,hp=new WeakMap,Mi=new WeakMap,dp=new WeakMap,Je=new WeakMap,kg=new WeakSet,qA=function(e){const i=m(this,Je);let s=i[4],a=i[5];const o=[s,a,s,a];let u=s,h=a,d=s,f=a;const g=e?Math.max:Math.min,b=new Float32Array(4);for(let E=6,S=i.length;E<S;E+=6){const R=i[E+4],w=i[E+5];isNaN(i[E])?(Util.pointBoundingBox(R,w,o),h>w?(u=R,h=w):h===w&&(u=g(u,R)),f<w?(d=R,f=w):f===w&&(d=g(d,R))):(b[0]=b[1]=1/0,b[2]=b[3]=-1/0,Util.bezierBoundingBox(s,a,...i.slice(E,E+6),b),Util.rectBoundingBox(b[0],b[1],b[2],b[3],o),h>b[1]?(u=b[0],h=b[1]):h===b[1]&&(u=g(u,b[0])),f<b[3]?(d=b[2],f=b[3]):f===b[3]&&(d=g(d,b[2]))),s=R,a=w}const x=m(this,ql);x[0]=o[0]-m(this,Xs),x[1]=o[1]-m(this,Xs),x[2]=o[2]-o[0]+2*m(this,Xs),x[3]=o[3]-o[1]+2*m(this,Xs),this.firstPoint=[u,h],this.lastPoint=[d,f]};var fp,pp,mp,ho,Er,Qn,GA,eg,YA,KA,Db;class HighlightOutliner{constructor(t,e=0,i=0,s=!0){$(this,Qn);$(this,fp);$(this,pp);$(this,mp);$(this,ho,[]);$(this,Er,[]);const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:S,y:R,width:w,height:L}of t){const P=Math.floor((S-e)/o)*o,V=Math.ceil((S+w+e)/o)*o,B=Math.floor((R-e)/o)*o,F=Math.ceil((R+L+e)/o)*o,H=[P,B,F,!0],K=[V,B,F,!1];m(this,ho).push(H,K),Util.rectBoundingBox(P,B,V,F,a)}const u=a[2]-a[0]+2*i,h=a[3]-a[1]+2*i,d=a[0]-i,f=a[1]-i;let g=s?-1/0:1/0,b=1/0;const x=m(this,ho).at(s?-1:-2),E=[x[0],x[2]];for(const S of m(this,ho)){const[R,w,L,P]=S;!P&&s?w<b?(b=w,g=R):w===b&&(g=Math.max(g,R)):P&&!s&&(w<b?(b=w,g=R):w===b&&(g=Math.min(g,R))),S[0]=(R-d)/u,S[1]=(w-f)/h,S[2]=(L-f)/h}D(this,fp,new Float32Array([d,f,u,h])),D(this,pp,[g,b]),D(this,mp,E)}getOutlines(){m(this,ho).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of m(this,ho))e[3]?(t.push(...N(this,Qn,Db).call(this,e)),N(this,Qn,YA).call(this,e)):(N(this,Qn,KA).call(this,e),t.push(...N(this,Qn,Db).call(this,e)));return N(this,Qn,GA).call(this,t)}}fp=new WeakMap,pp=new WeakMap,mp=new WeakMap,ho=new WeakMap,Er=new WeakMap,Qn=new WeakSet,GA=function(t){const e=[],i=new Set;for(const o of t){const[u,h,d]=o;e.push([u,h,o],[u,d,o])}e.sort((o,u)=>o[1]-u[1]||o[0]-u[0]);for(let o=0,u=e.length;o<u;o+=2){const h=e[o][2],d=e[o+1][2];h.push(d),d.push(h),i.add(h),i.add(d)}const s=[];let a;for(;i.size>0;){const o=i.values().next().value;let[u,h,d,f,g]=o;i.delete(o);let b=u,x=h;for(a=[u,d],s.push(a);;){let E;if(i.has(f))E=f;else if(i.has(g))E=g;else break;i.delete(E),[u,h,d,f,g]=E,b!==u&&(a.push(b,x,u,x===h?h:d),b=u),x=x===h?d:h}a.push(b,x)}return new HighlightOutline(s,m(this,fp),m(this,pp),m(this,mp))},eg=function(t){const e=m(this,Er);let i=0,s=e.length-1;for(;i<=s;){const a=i+s>>1,o=e[a][0];if(o===t)return a;o<t?i=a+1:s=a-1}return s+1},YA=function([,t,e]){const i=N(this,Qn,eg).call(this,t);m(this,Er).splice(i,0,[t,e])},KA=function([,t,e]){const i=N(this,Qn,eg).call(this,t);for(let s=i;s<m(this,Er).length;s++){const[a,o]=m(this,Er)[s];if(a!==t)break;if(a===t&&o===e){m(this,Er).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[a,o]=m(this,Er)[s];if(a!==t)break;if(a===t&&o===e){m(this,Er).splice(s,1);return}}},Db=function(t){const[e,i,s]=t,a=[[e,i,s]],o=N(this,Qn,eg).call(this,s);for(let u=0;u<o;u++){const[h,d]=m(this,Er)[u];for(let f=0,g=a.length;f<g;f++){const[,b,x]=a[f];if(!(d<=b||x<=h)){if(b>=h){if(x>d)a[f][1]=d;else{if(g===1)return[];a.splice(f,1),f--,g--}continue}a[f][2]=h,x>d&&a.push([e,d,x])}}}return a};var gp,fh;class HighlightOutline extends Outline{constructor(e,i,s,a){super();$(this,gp);$(this,fh);D(this,fh,e),D(this,gp,i),this.firstPoint=s,this.lastPoint=a}toSVGPath(){const e=[];for(const i of m(this,fh)){let[s,a]=i;e.push(`M${s} ${a}`);for(let o=2;o<i.length;o+=2){const u=i[o],h=i[o+1];u===s?(e.push(`V${h}`),a=h):h===a&&(e.push(`H${u}`),s=u)}e.push("Z")}return e.join(" ")}serialize([e,i,s,a],o){const u=[],h=s-e,d=a-i;for(const f of m(this,fh)){const g=new Array(f.length);for(let b=0;b<f.length;b+=2)g[b]=e+f[b]*h,g[b+1]=a-f[b+1]*d;u.push(g)}return u}get box(){return m(this,gp)}get classNamesForOutlining(){return["highlightOutline"]}}gp=new WeakMap,fh=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(t,e,i,s,a,o){return new FreeHighlightOutline(t,e,i,s,a,o)}}class FreeHighlightOutline extends FreeDrawOutline{newOutliner(t,e,i,s,a,o=0){return new FreeHighlightOutliner(t,e,i,s,a,o)}}var ph,yp,Ws,Gl,bp,ci,xp,vp,Yl,Pi,Li,kn,mh,gh,jn,yh,rr,Ep,qt,Mb,ng,XA,WA,QA,Pb,Go,ar,Qu,ZA,ig,rg,JA,tS,eS,nS,iS;const le=class le extends AnnotationEditor{constructor(e){super({...e,name:"highlightEditor"});$(this,qt);$(this,ph,null);$(this,yp,0);$(this,Ws);$(this,Gl,null);$(this,bp,null);$(this,ci,null);$(this,xp,null);$(this,vp,0);$(this,Yl,null);$(this,Pi,null);$(this,Li,null);$(this,kn,!1);$(this,mh,null);$(this,gh,null);$(this,jn,null);$(this,yh,"");$(this,rr);$(this,Ep,"");this.color=e.color||le._defaultColor,D(this,rr,e.thickness||le._defaultThickness),this.opacity=e.opacity||le._defaultOpacity,D(this,Ws,e.boxes||null),D(this,Ep,e.methodOfCreation||""),D(this,yh,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(D(this,kn,!0),N(this,qt,ng).call(this,e),N(this,qt,Go).call(this)):m(this,Ws)&&(D(this,ph,e.anchorNode),D(this,yp,e.anchorOffset),D(this,xp,e.focusNode),D(this,vp,e.focusOffset),N(this,qt,Mb).call(this),N(this,qt,Go).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=le.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,kn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:m(this,rr),methodOfCreation:m(this,Ep)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;AnnotationEditor.initialize(e,i),le._defaultColor||(le._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:le._defaultColor=i;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:le._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return m(this,gh)}get commentButtonPosition(){return m(this,mh)}updateParams(e,i){switch(e){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:N(this,qt,XA).call(this,i);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:N(this,qt,WA).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,le._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,le._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||le._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,m(this,rr)||le._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,m(this,kn)]]}onUpdatedColor(){var e,i;(e=this.parent)==null||e.drawLayer.updateProperties(m(this,Li),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=m(this,bp))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",D(this,bp,new ColorPicker({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,qt,rg).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,N(this,qt,rg).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){N(this,qt,Pb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,qt,Go).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?N(this,qt,Pb).call(this):e&&(N(this,qt,Go).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var a,o,u;const{drawLayer:i}=this.parent;let s;m(this,kn)?(e=(e-this.rotation+360)%360,s=N(a=le,ar,Qu).call(a,m(this,Pi).box,e)):s=N(o=le,ar,Qu).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(m(this,Li),{bbox:s,root:{"data-main-rotation":e}}),i.updateProperties(m(this,jn),{bbox:N(u=le,ar,Qu).call(u,m(this,ci).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();m(this,yh)&&(e.setAttribute("aria-label",m(this,yh)),e.setAttribute("role","mark")),m(this,kn)?e.classList.add("free"):this.div.addEventListener("keydown",N(this,qt,ZA).bind(this),{signal:this._uiManager._signal});const i=D(this,Yl,document.createElement("div"));return e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=m(this,Gl),this.setDims(this.width,this.height),bindEvents(this,m(this,Yl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(m(this,jn),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(m(this,jn),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:N(this,qt,ig).call(this,!0);break;case 1:case 3:N(this,qt,ig).call(this,!1);break}}select(){var e;super.select(),m(this,jn)&&((e=this.parent)==null||e.drawLayer.updateProperties(m(this,jn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),m(this,jn)&&((e=this.parent)==null||e.drawLayer.updateProperties(m(this,jn),{rootClass:{selected:!1}}),m(this,kn)||N(this,qt,ig).call(this,!1))}get _mustFixPosition(){return!m(this,kn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(m(this,Li),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(m(this,jn),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:s,x:a,y:o}){const{x:u,y:h,width:d,height:f}=s.getBoundingClientRect(),g=new AbortController,b=e.combinedSignal(g),x=E=>{g.abort(),N(this,ar,nS).call(this,e,E)};window.addEventListener("blur",x,{signal:b}),window.addEventListener("pointerup",x,{signal:b}),window.addEventListener("pointerdown",stopEvent,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",noContextMenu,{signal:b}),s.addEventListener("pointermove",N(this,ar,eS).bind(this,e),{signal:b}),this._freeHighlight=new FreeHighlightOutliner({x:a,y:o},[u,h,d,f],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,s){var S,R,w,L;let a=null;if(e instanceof HighlightAnnotationElement){const{data:{quadPoints:P,rect:V,rotation:B,id:F,color:H,opacity:K,popupRef:J,richText:G,contentsObj:et,creationDate:ut,modificationDate:Et},parent:{page:{pageNumber:ot}}}=e;a=e={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(H),opacity:K,quadPoints:P,boxes:null,pageIndex:ot-1,rect:V.slice(0),rotation:B,annotationElementId:F,id:F,deleted:!1,popupRef:J,richText:G,comment:(et==null?void 0:et.str)||null,creationDate:ut,modificationDate:Et}}else if(e instanceof InkAnnotationElement){const{data:{inkLists:P,rect:V,rotation:B,id:F,color:H,borderStyle:{rawWidth:K},popupRef:J,richText:G,contentsObj:et,creationDate:ut,modificationDate:Et},parent:{page:{pageNumber:ot}}}=e;a=e={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(H),thickness:K,inkLists:P,boxes:null,pageIndex:ot-1,rect:V.slice(0),rotation:B,annotationElementId:F,id:F,deleted:!1,popupRef:J,richText:G,comment:(et==null?void 0:et.str)||null,creationDate:ut,modificationDate:Et}}const{color:o,quadPoints:u,inkLists:h,opacity:d}=e,f=await super.deserialize(e,i,s);f.color=Util.makeHexColor(...o),f.opacity=d||1,h&&D(f,rr,e.thickness),f._initialData=a,e.comment&&f.setCommentData(e);const[g,b]=f.pageDimensions,[x,E]=f.pageTranslation;if(u){const P=D(f,Ws,[]);for(let V=0;V<u.length;V+=8)P.push({x:(u[V]-x)/g,y:1-(u[V+1]-E)/b,width:(u[V+2]-u[V])/g,height:(u[V+1]-u[V+5])/b});N(S=f,qt,Mb).call(S),N(R=f,qt,Go).call(R),f.rotate(f.rotation)}else if(h){D(f,kn,!0);const P=h[0],V={x:P[0]-x,y:b-(P[1]-E)},B=new FreeHighlightOutliner(V,[0,0,g,b],1,m(f,rr)/2,!0,.001);for(let K=0,J=P.length;K<J;K+=2)V.x=P[K]-x,V.y=b-(P[K+1]-E),B.add(V);const{id:F,clipPathId:H}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:B.toSVGPath()}},!0,!0);N(w=f,qt,ng).call(w,{highlightOutlines:B.getOutlines(),highlightId:F,clipPathId:H}),N(L=f,qt,Go).call(L),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:i,opacity:this.opacity,thickness:m(this,rr),quadPoints:N(this,qt,JA).call(this),outlines:N(this,qt,tS).call(this,s.rect)}),this.addComment(s),this.annotationElementId&&!N(this,qt,iS).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};ph=new WeakMap,yp=new WeakMap,Ws=new WeakMap,Gl=new WeakMap,bp=new WeakMap,ci=new WeakMap,xp=new WeakMap,vp=new WeakMap,Yl=new WeakMap,Pi=new WeakMap,Li=new WeakMap,kn=new WeakMap,mh=new WeakMap,gh=new WeakMap,jn=new WeakMap,yh=new WeakMap,rr=new WeakMap,Ep=new WeakMap,qt=new WeakSet,Mb=function(){const e=new HighlightOutliner(m(this,Ws),.001);D(this,Pi,e.getOutlines()),[this.x,this.y,this.width,this.height]=m(this,Pi).box;const i=new HighlightOutliner(m(this,Ws),.0025,.001,this._uiManager.direction==="ltr");D(this,ci,i.getOutlines());const{firstPoint:s}=m(this,Pi);D(this,mh,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]);const{lastPoint:a}=m(this,ci);D(this,gh,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},ng=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var b,x;if(D(this,Pi,e),D(this,ci,e.getNewOutline(m(this,rr)/2+1.5,.0025)),i>=0)D(this,Li,i),D(this,Gl,s),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),D(this,jn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:m(this,ci).box,path:{d:m(this,ci).toSVGPath()}},!0));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(m(this,Li),{bbox:N(b=le,ar,Qu).call(b,m(this,Pi).box,(E-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(m(this,jn),{bbox:N(x=le,ar,Qu).call(x,m(this,ci).box,E),path:{d:m(this,ci).toSVGPath()}})}const[o,u,h,d]=e.box;switch(this.rotation){case 0:this.x=o,this.y=u,this.width=h,this.height=d;break;case 90:{const[E,S]=this.parentDimensions;this.x=u,this.y=1-o,this.width=h*S/E,this.height=d*E/S;break}case 180:this.x=1-o,this.y=1-u,this.width=h,this.height=d;break;case 270:{const[E,S]=this.parentDimensions;this.x=1-u,this.y=o,this.width=h*S/E,this.height=d*E/S;break}}const{firstPoint:f}=e;D(this,mh,[(f[0]-o)/h,(f[1]-u)/d]);const{lastPoint:g}=m(this,ci);D(this,gh,[(g[0]-o)/h,(g[1]-u)/d])},XA=function(e){const i=(o,u)=>{this.color=o,this.opacity=u,this.onUpdatedColor()},s=this.color,a=this.opacity;this.addCommands({cmd:i.bind(this,e,le._defaultOpacity),undo:i.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},WA=function(e){const i=m(this,rr),s=a=>{D(this,rr,a),N(this,qt,QA).call(this,a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},QA=function(e){m(this,kn)&&(N(this,qt,ng).call(this,{highlightOutlines:m(this,Pi).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},Pb=function(){m(this,Li)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Li)),D(this,Li,null),this.parent.drawLayer.remove(m(this,jn)),D(this,jn,null))},Go=function(e=this.parent){m(this,Li)===null&&({id:on(this,Li)._,clipPathId:on(this,Gl)._}=e.drawLayer.draw({bbox:m(this,Pi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:m(this,kn)},path:{d:m(this,Pi).toSVGPath()}},!1,!0),D(this,jn,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:m(this,kn)},bbox:m(this,ci).box,path:{d:m(this,ci).toSVGPath()}},m(this,kn))),m(this,Yl)&&(m(this,Yl).style.clipPath=m(this,Gl)))},ar=new WeakSet,Qu=function([e,i,s,a],o){switch(o){case 90:return[1-i-a,e,a,s];case 180:return[1-e-s,1-i-a,s,a];case 270:return[i,1-e-s,a,s]}return[e,i,s,a]},ZA=function(e){le._keyboardManager.exec(this,e)},ig=function(e){if(!m(this,ph))return;const i=window.getSelection();e?i.setPosition(m(this,ph),m(this,yp)):i.setPosition(m(this,xp),m(this,vp))},rg=function(){return m(this,kn)?this.rotation:0},JA=function(){if(m(this,kn))return null;const[e,i]=this.pageDimensions,[s,a]=this.pageTranslation,o=m(this,Ws),u=new Float32Array(o.length*8);let h=0;for(const{x:d,y:f,width:g,height:b}of o){const x=d*e+s,E=(1-f)*i+a;u[h]=u[h+4]=x,u[h+1]=u[h+3]=E,u[h+2]=u[h+6]=x+g*e,u[h+5]=u[h+7]=E-b*i,h+=8}return u},tS=function(e){return m(this,Pi).serialize(e,N(this,qt,rg).call(this))},eS=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},nS=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},iS=function(e){const{color:i}=this._initialData;return this.hasEditedComment||e.color.some((s,a)=>s!==i[a])},$(le,ar),At(le,"_defaultColor",null),At(le,"_defaultOpacity",1),At(le,"_defaultThickness",12),At(le,"_type","highlight"),At(le,"_editorType",AnnotationEditorType.HIGHLIGHT),At(le,"_freeHighlightId",-1),At(le,"_freeHighlight",null),At(le,"_freeHighlightClipId","");let HighlightEditor=le;var Kl;class DrawingOptions{constructor(){$(this,Kl,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){m(this,Kl)[t]=e}toSVGProperties(){const t=m(this,Kl);return D(this,Kl,Object.create(null)),{root:t}}reset(){D(this,Kl,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){unreachable("Not implemented")}}Kl=new WeakMap;var $i,bh,bn,Xl,Wl,fo,po,mo,Ql,ne,Lb,$b,Ob,Vd,rS,sg,jd,Zu;const kt=class kt extends AnnotationEditor{constructor(e){super(e);$(this,ne);$(this,$i,null);$(this,bh);At(this,"_colorPicker",null);At(this,"_drawId",null);D(this,bh,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(N(this,ne,Lb).call(this,e),N(this,ne,Vd).call(this))}static _mergeSVGProperties(e,i){const s=new Set(Object.keys(e));for(const[a,o]of Object.entries(i))s.has(a)?Object.assign(e[a],o):e[a]=o;return e}static getDefaultDrawingOptions(e){unreachable("Not implemented")}static get typesMap(){unreachable("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(m(kt,bn).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)e.push([s,i[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[s,a]of this.constructor.typesMap)e.push([s,i[a]]);return e}_updateProperty(e,i,s){const a=this._drawingOptions,o=a[i],u=h=>{var f;a.updateProperty(i,h);const d=m(this,$i).updateProperty(i,h);d&&N(this,ne,jd).call(this,d),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:u.bind(this,s),undo:u.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(m(this,$i).getPathResizingSVGProperties(N(this,ne,sg).call(this)),{bbox:N(this,ne,Zu).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(m(this,$i).getPathResizedSVGProperties(N(this,ne,sg).call(this)),{bbox:N(this,ne,Zu).call(this)}))}_onTranslating(e,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:N(this,ne,Zu).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(m(this,$i).getPathTranslatedSVGProperties(N(this,ne,sg).call(this),this.parentDimensions),{bbox:N(this,ne,Zu).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,m(this,bh)&&(D(this,bh,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){N(this,ne,Ob).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,ne,Vd).call(this),N(this,ne,jd).call(this,m(this,$i).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),N(this,ne,Ob).call(this)):e&&(this._uiManager.addShouldRescale(this),N(this,ne,Vd).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties({bbox:N(this,ne,Zu).call(this)},m(this,$i).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&N(this,ne,jd).call(this,m(this,$i).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");return s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),s}static createDrawerInstance(e,i,s,a,o){unreachable("Not implemented")}static startDrawing(e,i,s,a){var R;const{target:o,offsetX:u,offsetY:h,pointerId:d,pointerType:f}=a;if(m(kt,po)&&m(kt,po)!==f)return;const{viewport:{rotation:g}}=e,{width:b,height:x}=o.getBoundingClientRect(),E=D(kt,Xl,new AbortController),S=e.combinedSignal(E);if(m(kt,fo)||D(kt,fo,d),m(kt,po)??D(kt,po,f),window.addEventListener("pointerup",w=>{var L;m(kt,fo)===w.pointerId?this._endDraw(w):(L=m(kt,mo))==null||L.delete(w.pointerId)},{signal:S}),window.addEventListener("pointercancel",w=>{var L;m(kt,fo)===w.pointerId?this._currentParent.endDrawingSession():(L=m(kt,mo))==null||L.delete(w.pointerId)},{signal:S}),window.addEventListener("pointerdown",w=>{m(kt,po)===w.pointerType&&((m(kt,mo)||D(kt,mo,new Set)).add(w.pointerId),m(kt,bn).isCancellable()&&(m(kt,bn).removeLastElement(),m(kt,bn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",noContextMenu,{signal:S}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),o.addEventListener("touchmove",w=>{w.timeStamp===m(kt,Ql)&&stopEvent(w)},{signal:S}),e.toggleDrawing(),(R=i._editorUndoBar)==null||R.hide(),m(kt,bn)){e.drawLayer.updateProperties(this._currentDrawId,m(kt,bn).startNew(u,h,b,x,g));return}i.updateUIForDefaultProperties(this),D(kt,bn,this.createDrawerInstance(u,h,b,x,g)),D(kt,Wl,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(m(kt,Wl).toSVGProperties(),m(kt,bn).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(D(kt,Ql,-1),!m(kt,bn))return;const{offsetX:i,offsetY:s,pointerId:a}=e;if(m(kt,fo)===a){if(((o=m(kt,mo))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,m(kt,bn).add(i,s)),D(kt,Ql,e.timeStamp),stopEvent(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,D(kt,bn,null),D(kt,Wl,null),D(kt,po,null),D(kt,Ql,NaN)),m(kt,Xl)&&(m(kt,Xl).abort(),D(kt,Xl,null),D(kt,fo,NaN),D(kt,mo,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,m(kt,bn).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=m(kt,bn),a=this._currentDrawId,o=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(a,s.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:AnnotationEditorParamsType.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP),!m(kt,bn).isEmpty()){const{pageDimensions:[s,a],scale:o}=i,u=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:m(kt,bn).getOutlines(s*o,a*o,o,this._INNER_MARGIN),drawingOptions:m(kt,Wl),mustBeCommitted:!e});return this._cleanup(!0),u}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,s,a,o,u){unreachable("Not implemented")}static async deserialize(e,i,s){var g,b;const{rawDims:{pageWidth:a,pageHeight:o,pageX:u,pageY:h}}=i.viewport,d=this.deserializeDraw(u,h,a,o,this._INNER_MARGIN,e),f=await super.deserialize(e,i,s);return f.createDrawingOptions(e),N(g=f,ne,Lb).call(g,{drawOutlines:d}),N(b=f,ne,Vd).call(b),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[i,s]=this.pageTranslation,[a,o]=this.pageDimensions;return m(this,$i).serialize([i,s,a,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};$i=new WeakMap,bh=new WeakMap,bn=new WeakMap,Xl=new WeakMap,Wl=new WeakMap,fo=new WeakMap,po=new WeakMap,mo=new WeakMap,Ql=new WeakMap,ne=new WeakSet,Lb=function({drawOutlines:e,drawId:i,drawingOptions:s}){D(this,$i,e),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=N(this,ne,$b).call(this,e,this.parent),N(this,ne,jd).call(this,e.box)},$b=function(e,i){const{id:s}=i.drawLayer.draw(kt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s},Ob=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Vd=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=N(this,ne,$b).call(this,m(this,$i),e)}},rS=function([e,i,s,a]){const{parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[i,1-e,s*(u/o),a*(o/u)];case 180:return[1-e,1-i,s,a];case 270:return[1-i,e,s*(u/o),a*(o/u)];default:return[e,i,s,a]}},sg=function(){const{x:e,y:i,width:s,height:a,parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[1-i,e,s*(o/u),a*(u/o)];case 180:return[1-e,1-i,s,a];case 270:return[i,1-e,s*(o/u),a*(u/o)];default:return[e,i,s,a]}},jd=function(e){[this.x,this.y,this.width,this.height]=N(this,ne,rS).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Zu=function(){const{x:e,y:i,width:s,height:a,rotation:o,parentRotation:u,parentDimensions:[h,d]}=this;switch((o*4+u)/90){case 1:return[1-i-a,e,a,s];case 2:return[1-e-s,1-i-a,s,a];case 3:return[i,1-e-s,a,s];case 4:return[e,i-s*(h/d),a*(d/h),s*(h/d)];case 5:return[1-i,e,s*(h/d),a*(d/h)];case 6:return[1-e-a*(d/h),1-i,a*(d/h),s*(h/d)];case 7:return[i-s*(h/d),1-e-a*(d/h),s*(h/d),a*(d/h)];case 8:return[e-s,i-a,s,a];case 9:return[1-i,e-s,a,s];case 10:return[1-e,1-i,s,a];case 11:return[i-a,1-e,a,s];case 12:return[e-a*(d/h),i,a*(d/h),s*(h/d)];case 13:return[1-i-s*(h/d),e-a*(d/h),s*(h/d),a*(d/h)];case 14:return[1-e,1-i-s*(h/d),a*(d/h),s*(h/d)];case 15:return[i,1-e,s*(h/d),a*(d/h)];default:return[e,i,s,a]}},At(kt,"_currentDrawId",-1),At(kt,"_currentParent",null),$(kt,bn,null),$(kt,Xl,null),$(kt,Wl,null),$(kt,fo,NaN),$(kt,po,null),$(kt,mo,null),$(kt,Ql,NaN),At(kt,"_INNER_MARGIN",3);let DrawingEditor=kt;var Qr,xn,vn,Zl,xh,Yn,Dn,sr,Jl,tu,eu,Eh,ag;class InkDrawOutliner{constructor(t,e,i,s,a,o){$(this,Eh);$(this,Qr,new Float64Array(6));$(this,xn);$(this,vn);$(this,Zl);$(this,xh);$(this,Yn);$(this,Dn,"");$(this,sr,0);$(this,Jl,new InkDrawOutline);$(this,tu);$(this,eu);D(this,tu,i),D(this,eu,s),D(this,Zl,a),D(this,xh,o),[t,e]=N(this,Eh,ag).call(this,t,e);const u=D(this,xn,[NaN,NaN,NaN,NaN,t,e]);D(this,Yn,[t,e]),D(this,vn,[{line:u,points:m(this,Yn)}]),m(this,Qr).set(u,0)}updateProperty(t,e){t==="stroke-width"&&D(this,xh,e)}isEmpty(){return!m(this,vn)||m(this,vn).length===0}isCancellable(){return m(this,Yn).length<=10}add(t,e){[t,e]=N(this,Eh,ag).call(this,t,e);const[i,s,a,o]=m(this,Qr).subarray(2,6),u=t-a,h=e-o;return Math.hypot(m(this,tu)*u,m(this,eu)*h)<=2?null:(m(this,Yn).push(t,e),isNaN(i)?(m(this,Qr).set([a,o,t,e],2),m(this,xn).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(m(this,Qr)[0])&&m(this,xn).splice(6,6),m(this,Qr).set([i,s,a,o,t,e],0),m(this,xn).push(...Outline.createBezierPoints(i,s,a,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(m(this,Yn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,s,a){D(this,tu,i),D(this,eu,s),D(this,Zl,a),[t,e]=N(this,Eh,ag).call(this,t,e);const o=D(this,xn,[NaN,NaN,NaN,NaN,t,e]);D(this,Yn,[t,e]);const u=m(this,vn).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),m(this,vn).push({line:o,points:m(this,Yn)}),m(this,Qr).set(o,0),D(this,sr,0),this.toSVGPath(),null}getLastElement(){return m(this,vn).at(-1)}setLastElement(t){return m(this,vn)?(m(this,vn).push(t),D(this,xn,t.line),D(this,Yn,t.points),D(this,sr,0),{path:{d:this.toSVGPath()}}):m(this,Jl).setLastElement(t)}removeLastElement(){if(!m(this,vn))return m(this,Jl).removeLastElement();m(this,vn).pop(),D(this,Dn,"");for(let t=0,e=m(this,vn).length;t<e;t++){const{line:i,points:s}=m(this,vn)[t];D(this,xn,i),D(this,Yn,s),D(this,sr,0),this.toSVGPath()}return{path:{d:m(this,Dn)}}}toSVGPath(){const t=Outline.svgRound(m(this,xn)[4]),e=Outline.svgRound(m(this,xn)[5]);if(m(this,Yn).length===2)return D(this,Dn,`${m(this,Dn)} M ${t} ${e} Z`),m(this,Dn);if(m(this,Yn).length<=6){const s=m(this,Dn).lastIndexOf("M");D(this,Dn,`${m(this,Dn).slice(0,s)} M ${t} ${e}`),D(this,sr,6)}if(m(this,Yn).length===4){const s=Outline.svgRound(m(this,xn)[10]),a=Outline.svgRound(m(this,xn)[11]);return D(this,Dn,`${m(this,Dn)} L ${s} ${a}`),D(this,sr,12),m(this,Dn)}const i=[];m(this,sr)===0&&(i.push(`M ${t} ${e}`),D(this,sr,6));for(let s=m(this,sr),a=m(this,xn).length;s<a;s+=6){const[o,u,h,d,f,g]=m(this,xn).slice(s,s+6).map(Outline.svgRound);i.push(`C${o} ${u} ${h} ${d} ${f} ${g}`)}return D(this,Dn,m(this,Dn)+i.join(" ")),D(this,sr,m(this,xn).length),m(this,Dn)}getOutlines(t,e,i,s){const a=m(this,vn).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),m(this,Jl).build(m(this,vn),t,e,i,m(this,Zl),m(this,xh),s),D(this,Qr,null),D(this,xn,null),D(this,vn,null),D(this,Dn,null),m(this,Jl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Qr=new WeakMap,xn=new WeakMap,vn=new WeakMap,Zl=new WeakMap,xh=new WeakMap,Yn=new WeakMap,Dn=new WeakMap,sr=new WeakMap,Jl=new WeakMap,tu=new WeakMap,eu=new WeakMap,Eh=new WeakSet,ag=function(t,e){return Outline._normalizePoint(t,e,m(this,tu),m(this,eu),m(this,Zl))};var Kn,Ap,Sp,Oi,Zr,Jr,Ah,Sh,nu,Mn,xs,sS,aS,oS;class InkDrawOutline extends Outline{constructor(){super(...arguments);$(this,Mn);$(this,Kn);$(this,Ap,0);$(this,Sp);$(this,Oi);$(this,Zr);$(this,Jr);$(this,Ah);$(this,Sh);$(this,nu)}build(e,i,s,a,o,u,h){D(this,Zr,i),D(this,Jr,s),D(this,Ah,a),D(this,Sh,o),D(this,nu,u),D(this,Sp,h??0),D(this,Oi,e),N(this,Mn,aS).call(this)}get thickness(){return m(this,nu)}setLastElement(e){return m(this,Oi).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return m(this,Oi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of m(this,Oi)){if(e.push(`M${Outline.svgRound(i[4])} ${Outline.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${Outline.svgRound(i[10])} ${Outline.svgRound(i[11])}`);continue}for(let s=6,a=i.length;s<a;s+=6){const[o,u,h,d,f,g]=i.subarray(s,s+6).map(Outline.svgRound);e.push(`C${o} ${u} ${h} ${d} ${f} ${g}`)}}return e.join("")}serialize([e,i,s,a],o){const u=[],h=[],[d,f,g,b]=N(this,Mn,sS).call(this);let x,E,S,R,w,L,P,V,B;switch(m(this,Sh)){case 0:B=Outline._rescale,x=e,E=i+a,S=s,R=-a,w=e+d*s,L=i+(1-f-b)*a,P=e+(d+g)*s,V=i+(1-f)*a;break;case 90:B=Outline._rescaleAndSwap,x=e,E=i,S=s,R=a,w=e+f*s,L=i+d*a,P=e+(f+b)*s,V=i+(d+g)*a;break;case 180:B=Outline._rescale,x=e+s,E=i,S=-s,R=a,w=e+(1-d-g)*s,L=i+f*a,P=e+(1-d)*s,V=i+(f+b)*a;break;case 270:B=Outline._rescaleAndSwap,x=e+s,E=i+a,S=-s,R=-a,w=e+(1-f-b)*s,L=i+(1-d-g)*a,P=e+(1-f)*s,V=i+(1-d)*a;break}for(const{line:F,points:H}of m(this,Oi))u.push(B(F,x,E,S,R,o?new Array(F.length):null)),h.push(B(H,x,E,S,R,o?new Array(H.length):null));return{lines:u,points:h,rect:[w,L,P,V]}}static deserialize(e,i,s,a,o,{paths:{lines:u,points:h},rotation:d,thickness:f}){const g=[];let b,x,E,S,R;switch(d){case 0:R=Outline._rescale,b=-e/s,x=i/a+1,E=1/s,S=-1/a;break;case 90:R=Outline._rescaleAndSwap,b=-i/a,x=-e/s,E=1/a,S=1/s;break;case 180:R=Outline._rescale,b=e/s+1,x=-i/a,E=-1/s,S=1/a;break;case 270:R=Outline._rescaleAndSwap,b=i/a+1,x=e/s+1,E=-1/a,S=-1/s;break}if(!u){u=[];for(const L of h){const P=L.length;if(P===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1]]));continue}if(P===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1],NaN,NaN,NaN,NaN,L[2],L[3]]));continue}const V=new Float32Array(3*(P-2));u.push(V);let[B,F,H,K]=L.subarray(0,4);V.set([NaN,NaN,NaN,NaN,B,F],0);for(let J=4;J<P;J+=2){const G=L[J],et=L[J+1];V.set(Outline.createBezierPoints(B,F,H,K,G,et),(J-2)*3),[B,F,H,K]=[H,K,G,et]}}}for(let L=0,P=u.length;L<P;L++)g.push({line:R(u[L].map(V=>V??NaN),b,x,E,S),points:R(h[L].map(V=>V??NaN),b,x,E,S)});const w=new this.prototype.constructor;return w.build(g,s,a,1,d,f,o),w}get box(){return m(this,Kn)}updateProperty(e,i){return e==="stroke-width"?N(this,Mn,oS).call(this,i):null}updateParentDimensions([e,i],s){const[a,o]=N(this,Mn,xs).call(this);D(this,Zr,e),D(this,Jr,i),D(this,Ah,s);const[u,h]=N(this,Mn,xs).call(this),d=u-a,f=h-o,g=m(this,Kn);return g[0]-=d,g[1]-=f,g[2]+=2*d,g[3]+=2*f,g}updateRotation(e){return D(this,Ap,e),{path:{transform:this.rotationTransform}}}get viewBox(){return m(this,Kn).map(Outline.svgRound).join(" ")}get defaultProperties(){const[e,i]=m(this,Kn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(e)} ${Outline.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=m(this,Kn);let s=0,a=0,o=0,u=0,h=0,d=0;switch(m(this,Ap)){case 90:a=i/e,o=-e/i,h=e;break;case 180:s=-1,u=-1,h=e,d=i;break;case 270:a=-i/e,o=e/i,d=i;break;default:return""}return`matrix(${s} ${a} ${o} ${u} ${Outline.svgRound(h)} ${Outline.svgRound(d)})`}getPathResizingSVGProperties([e,i,s,a]){const[o,u]=N(this,Mn,xs).call(this),[h,d,f,g]=m(this,Kn);if(Math.abs(f-o)<=Outline.PRECISION||Math.abs(g-u)<=Outline.PRECISION){const R=e+s/2-(h+f/2),w=i+a/2-(d+g/2);return{path:{"transform-origin":`${Outline.svgRound(e)} ${Outline.svgRound(i)}`,transform:`${this.rotationTransform} translate(${R} ${w})`}}}const b=(s-2*o)/(f-2*o),x=(a-2*u)/(g-2*u),E=f/s,S=g/a;return{path:{"transform-origin":`${Outline.svgRound(h)} ${Outline.svgRound(d)}`,transform:`${this.rotationTransform} scale(${E} ${S}) translate(${Outline.svgRound(o)} ${Outline.svgRound(u)}) scale(${b} ${x}) translate(${Outline.svgRound(-o)} ${Outline.svgRound(-u)})`}}}getPathResizedSVGProperties([e,i,s,a]){const[o,u]=N(this,Mn,xs).call(this),h=m(this,Kn),[d,f,g,b]=h;if(h[0]=e,h[1]=i,h[2]=s,h[3]=a,Math.abs(g-o)<=Outline.PRECISION||Math.abs(b-u)<=Outline.PRECISION){const w=e+s/2-(d+g/2),L=i+a/2-(f+b/2);for(const{line:P,points:V}of m(this,Oi))Outline._translate(P,w,L,P),Outline._translate(V,w,L,V);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(e)} ${Outline.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const x=(s-2*o)/(g-2*o),E=(a-2*u)/(b-2*u),S=-x*(d+o)+e+o,R=-E*(f+u)+i+u;if(x!==1||E!==1||S!==0||R!==0)for(const{line:w,points:L}of m(this,Oi))Outline._rescale(w,S,R,x,E,w),Outline._rescale(L,S,R,x,E,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(e)} ${Outline.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],s){const[a,o]=s,u=m(this,Kn),h=e-u[0],d=i-u[1];if(m(this,Zr)===a&&m(this,Jr)===o)for(const{line:f,points:g}of m(this,Oi))Outline._translate(f,h,d,f),Outline._translate(g,h,d,g);else{const f=m(this,Zr)/a,g=m(this,Jr)/o;D(this,Zr,a),D(this,Jr,o);for(const{line:b,points:x}of m(this,Oi))Outline._rescale(b,h,d,f,g,b),Outline._rescale(x,h,d,f,g,x);u[2]*=f,u[3]*=g}return u[0]=e,u[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(e)} ${Outline.svgRound(i)}`}}}get defaultSVGProperties(){const e=m(this,Kn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(e[0])} ${Outline.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}Kn=new WeakMap,Ap=new WeakMap,Sp=new WeakMap,Oi=new WeakMap,Zr=new WeakMap,Jr=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,nu=new WeakMap,Mn=new WeakSet,xs=function(e=m(this,nu)){const i=m(this,Sp)+e/2*m(this,Ah);return m(this,Sh)%180===0?[i/m(this,Zr),i/m(this,Jr)]:[i/m(this,Jr),i/m(this,Zr)]},sS=function(){const[e,i,s,a]=m(this,Kn),[o,u]=N(this,Mn,xs).call(this,0);return[e+o,i+u,s-2*o,a-2*u]},aS=function(){const e=D(this,Kn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of m(this,Oi)){if(a.length<=12){for(let h=4,d=a.length;h<d;h+=6)Util.pointBoundingBox(a[h],a[h+1],e);continue}let o=a[4],u=a[5];for(let h=6,d=a.length;h<d;h+=6){const[f,g,b,x,E,S]=a.subarray(h,h+6);Util.bezierBoundingBox(o,u,f,g,b,x,E,S,e),o=E,u=S}}const[i,s]=N(this,Mn,xs).call(this);e[0]=MathClamp(e[0]-i,0,1),e[1]=MathClamp(e[1]-s,0,1),e[2]=MathClamp(e[2]+i,0,1),e[3]=MathClamp(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]},oS=function(e){const[i,s]=N(this,Mn,xs).call(this);D(this,nu,e);const[a,o]=N(this,Mn,xs).call(this),[u,h]=[a-i,o-s],d=m(this,Kn);return d[0]-=u,d[1]-=h,d[2]+=2*u,d[3]+=2*h,d};class InkDrawingOptions extends DrawingOptions{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:AnnotationEditor._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new InkDrawingOptions(this._viewParameters);return t.updateAll(this),t}}var Dg,lS;const nc=class nc extends DrawingEditor{constructor(e){super({...e,name:"inkEditor"});$(this,Dg);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){AnnotationEditor.initialize(e,i),this._defaultDrawingOptions=new InkDrawingOptions(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return shadow(this,"typesMap",new Map([[AnnotationEditorParamsType.INK_THICKNESS,"stroke-width"],[AnnotationEditorParamsType.INK_COLOR,"stroke"],[AnnotationEditorParamsType.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,s,a,o){return new InkDrawOutliner(e,i,s,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,s,a,o,u){return InkDrawOutline.deserialize(e,i,s,a,o,u)}static async deserialize(e,i,s){let a=null;if(e instanceof InkAnnotationElement){const{data:{inkLists:u,rect:h,rotation:d,id:f,color:g,opacity:b,borderStyle:{rawWidth:x},popupRef:E,richText:S,contentsObj:R,creationDate:w,modificationDate:L},parent:{page:{pageNumber:P}}}=e;a=e={annotationType:AnnotationEditorType.INK,color:Array.from(g),thickness:x,opacity:b,paths:{points:u},boxes:null,pageIndex:P-1,rect:h.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:E,richText:S,comment:(R==null?void 0:R.str)||null,creationDate:w,modificationDate:L}}const o=await super.deserialize(e,i,s);return o._initialData=a,e.comment&&o.setCommentData(e),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new BasicColorPicker(this)),[["colorPicker",this._colorPicker]]}get colorType(){return AnnotationEditorParamsType.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:s}){this._drawingOptions=nc.getDefaultDrawingOptions({stroke:Util.makeHexColor(...e),"stroke-width":i,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":u}}=this,h=Object.assign(super.serialize(e),{color:AnnotationEditor._colorManager.convert(a),opacity:o,thickness:u,paths:{lines:i,points:s}});return this.addComment(h),e?(h.isCopy=!0,h):this.annotationElementId&&!N(this,Dg,lS).call(this,h)?null:(h.id=this.annotationElementId,h)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:i,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};Dg=new WeakSet,lS=function(e){const{color:i,thickness:s,opacity:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((u,h)=>u!==i[h])||e.thickness!==s||e.opacity!==a||e.pageIndex!==o},At(nc,"_type","ink"),At(nc,"_editorType",AnnotationEditorType.INK),At(nc,"_defaultDrawingOptions",null);let InkEditor=nc;class ContourDrawOutline extends InkDrawOutline{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const BASE_HEADER_LENGTH=8,POINTS_PROPERTIES_NUMBER=3;var iu,he,Ib,Ar,uS,cS,Bb,og,hS,dS,fS,Nb,Fb,pS;class SignatureExtractor{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:s},a,o,u,h){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const g=200,b=f.font=`${i} ${s} ${g}px ${e}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:E,actualBoundingBoxAscent:S,actualBoundingBoxDescent:R,fontBoundingBoxAscent:w,fontBoundingBoxDescent:L,width:P}=f.measureText(t),V=1.5,B=Math.ceil(Math.max(Math.abs(x)+Math.abs(E)||0,P)*V),F=Math.ceil(Math.max(Math.abs(S)+Math.abs(R)||g,Math.abs(w)+Math.abs(L)||g)*V);d=new OffscreenCanvas(B,F),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=b,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,B,F),f.fillStyle="black",f.fillText(t,B*(V-1)/2,F*(3-V)/2);const H=N(this,he,Nb).call(this,f.getImageData(0,0,B,F).data),K=N(this,he,fS).call(this,H),J=N(this,he,Fb).call(this,K),G=N(this,he,Bb).call(this,H,B,F,J);return this.processDrawnLines({lines:{curves:G,width:B,height:F},pageWidth:a,pageHeight:o,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,s,a){const[o,u,h]=N(this,he,pS).call(this,t),[d,f]=N(this,he,dS).call(this,o,u,h,Math.hypot(u,h)*m(this,iu).sigmaSFactor,m(this,iu).sigmaR,m(this,iu).kernelSize),g=N(this,he,Fb).call(this,f),b=N(this,he,Bb).call(this,d,u,h,g);return this.processDrawnLines({lines:{curves:b,width:u,height:h},pageWidth:e,pageHeight:i,rotation:s,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:s,innerMargin:a,mustSmooth:o,areContours:u}){s%180!==0&&([e,i]=[i,e]);const{curves:h,width:d,height:f}=t,g=t.thickness??0,b=[],x=Math.min(e/d,i/f),E=x/e,S=x/i,R=[];for(const{points:L}of h){const P=o?N(this,he,hS).call(this,L):L;if(!P)continue;R.push(P);const V=P.length,B=new Float32Array(V),F=new Float32Array(3*(V===2?2:V-2));if(b.push({line:F,points:B}),V===2){B[0]=P[0]*E,B[1]=P[1]*S,F.set([NaN,NaN,NaN,NaN,B[0],B[1]],0);continue}let[H,K,J,G]=P;H*=E,K*=S,J*=E,G*=S,B.set([H,K,J,G],0),F.set([NaN,NaN,NaN,NaN,H,K],0);for(let et=4;et<V;et+=2){const ut=B[et]=P[et]*E,Et=B[et+1]=P[et+1]*S;F.set(Outline.createBezierPoints(H,K,J,G,ut,Et),(et-2)*3),[H,K,J,G]=[J,G,ut,Et]}}if(b.length===0)return null;const w=u?new ContourDrawOutline:new InkDrawOutline;return w.build(b,e,i,1,s,u?0:g,a),{outline:w,newCurves:R,areContours:u,thickness:g,width:d,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:s,height:a}){let o=1/0,u=-1/0,h=0;for(const P of t){h+=P.length;for(let V=2,B=P.length;V<B;V++){const F=P[V]-P[V-2];o=Math.min(o,F),u=Math.max(u,F)}}let d;o>=-128&&u<=127?d=Int8Array:o>=-32768&&u<=32767?d=Int16Array:d=Int32Array;const f=t.length,g=BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*f,b=new Uint32Array(g);let x=0;b[x++]=g*Uint32Array.BYTES_PER_ELEMENT+(h-2*f)*d.BYTES_PER_ELEMENT,b[x++]=0,b[x++]=s,b[x++]=a,b[x++]=e?0:1,b[x++]=Math.max(0,Math.floor(i??0)),b[x++]=f,b[x++]=d.BYTES_PER_ELEMENT;for(const P of t)b[x++]=P.length-2,b[x++]=P[0],b[x++]=P[1];const E=new CompressionStream("deflate-raw"),S=E.writable.getWriter();await S.ready,S.write(b);const R=d.prototype.constructor;for(const P of t){const V=new R(P.length-2);for(let B=2,F=P.length;B<F;B++)V[B-2]=P[B]-P[B-2];S.write(V)}S.close();const w=await new Response(E.readable).arrayBuffer(),L=new Uint8Array(w);return toBase64Util(L)}static async decompressSignature(t){try{const e=fromBase64Util(t),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),a=s.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,u=0;for await(const P of i)o||(o=new Uint8Array(new Uint32Array(P.buffer,0,4)[0])),o.set(P,u),u+=P.length;const h=new Uint32Array(o.buffer,0,o.length>>2),d=h[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=h[2],g=h[3],b=h[4]===0,x=h[5],E=h[6],S=h[7],R=[],w=(BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*E)*Uint32Array.BYTES_PER_ELEMENT;let L;switch(S){case Int8Array.BYTES_PER_ELEMENT:L=new Int8Array(o.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:L=new Int16Array(o.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:L=new Int32Array(o.buffer,w);break}u=0;for(let P=0;P<E;P++){const V=h[POINTS_PROPERTIES_NUMBER*P+BASE_HEADER_LENGTH],B=new Float32Array(V+2);R.push(B);for(let F=0;F<POINTS_PROPERTIES_NUMBER-1;F++)B[F]=h[POINTS_PROPERTIES_NUMBER*P+BASE_HEADER_LENGTH+F+1];for(let F=0;F<V;F++)B[F+2]=B[F]+L[u++]}return{areContours:b,thickness:x,outlines:R,width:f,height:g}}catch(e){return warn(`decompressSignature: ${e}`),null}}}iu=new WeakMap,he=new WeakSet,Ib=function(t,e,i,s){return i-=t,s-=e,i===0?s>0?0:4:i===1?s+6:2-s},Ar=new WeakMap,uS=function(t,e,i,s,a,o,u){const h=N(this,he,Ib).call(this,i,s,a,o);for(let d=0;d<8;d++){const f=(-d+h-u+16)%8,g=m(this,Ar)[2*f],b=m(this,Ar)[2*f+1];if(t[(i+g)*e+(s+b)]!==0)return f}return-1},cS=function(t,e,i,s,a,o,u){const h=N(this,he,Ib).call(this,i,s,a,o);for(let d=0;d<8;d++){const f=(d+h+u+16)%8,g=m(this,Ar)[2*f],b=m(this,Ar)[2*f+1];if(t[(i+g)*e+(s+b)]!==0)return f}return-1},Bb=function(t,e,i,s){const a=t.length,o=new Int32Array(a);for(let f=0;f<a;f++)o[f]=t[f]<=s?1:0;for(let f=1;f<i-1;f++)o[f*e]=o[f*e+e-1]=0;for(let f=0;f<e;f++)o[f]=o[e*i-1-f]=0;let u=1,h;const d=[];for(let f=1;f<i-1;f++){h=1;for(let g=1;g<e-1;g++){const b=f*e+g,x=o[b];if(x===0)continue;let E=f,S=g;if(x===1&&o[b-1]===0)u+=1,S-=1;else if(x>=1&&o[b+1]===0)u+=1,S+=1,x>1&&(h=x);else{x!==1&&(h=Math.abs(x));continue}const R=[g,f],w=S===g+1,L={isHole:w,points:R,id:u,parent:0};d.push(L);let P;for(const et of d)if(et.id===h){P=et;break}P?P.isHole?L.parent=w?P.parent:h:L.parent=w?h:P.parent:L.parent=w?h:0;const V=N(this,he,uS).call(this,o,e,f,g,E,S,0);if(V===-1){o[b]=-u,o[b]!==1&&(h=Math.abs(o[b]));continue}let B=m(this,Ar)[2*V],F=m(this,Ar)[2*V+1];const H=f+B,K=g+F;E=H,S=K;let J=f,G=g;for(;;){const et=N(this,he,cS).call(this,o,e,J,G,E,S,1);B=m(this,Ar)[2*et],F=m(this,Ar)[2*et+1];const ut=J+B,Et=G+F;R.push(Et,ut);const ot=J*e+G;if(o[ot+1]===0?o[ot]=-u:o[ot]===1&&(o[ot]=u),ut===f&&Et===g&&J===H&&G===K){o[b]!==1&&(h=Math.abs(o[b]));break}else E=J,S=G,J=ut,G=Et}}}return d},og=function(t,e,i,s){if(i-e<=4){for(let H=e;H<i-2;H+=2)s.push(t[H],t[H+1]);return}const a=t[e],o=t[e+1],u=t[i-4]-a,h=t[i-3]-o,d=Math.hypot(u,h),f=u/d,g=h/d,b=f*o-g*a,x=h/u,E=1/d,S=Math.atan(x),R=Math.cos(S),w=Math.sin(S),L=E*(Math.abs(R)+Math.abs(w)),P=E*(1-L+L**2),V=Math.max(Math.atan(Math.abs(w+R)*P),Math.atan(Math.abs(w-R)*P));let B=0,F=e;for(let H=e+2;H<i-2;H+=2){const K=Math.abs(b-f*t[H+1]+g*t[H]);K>B&&(F=H,B=K)}B>(d*V)**2?(N(this,he,og).call(this,t,e,F+2,s),N(this,he,og).call(this,t,F,i,s)):s.push(a,o)},hS=function(t){const e=[],i=t.length;return N(this,he,og).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},dS=function(t,e,i,s,a,o){const u=new Float32Array(o**2),h=-2*s**2,d=o>>1;for(let S=0;S<o;S++){const R=(S-d)**2;for(let w=0;w<o;w++)u[S*o+w]=Math.exp((R+(w-d)**2)/h)}const f=new Float32Array(256),g=-2*a**2;for(let S=0;S<256;S++)f[S]=Math.exp(S**2/g);const b=t.length,x=new Uint8Array(b),E=new Uint32Array(256);for(let S=0;S<i;S++)for(let R=0;R<e;R++){const w=S*e+R,L=t[w];let P=0,V=0;for(let F=0;F<o;F++){const H=S+F-d;if(!(H<0||H>=i))for(let K=0;K<o;K++){const J=R+K-d;if(J<0||J>=e)continue;const G=t[H*e+J],et=u[F*o+K]*f[Math.abs(G-L)];P+=G*et,V+=et}}const B=x[w]=Math.round(P/V);E[B]++}return[x,E]},fS=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},Nb=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let s=-1/0,a=1/0;for(let u=0,h=i.length;u<h;u++){const d=i[u]=t[u<<2];s=Math.max(s,d),a=Math.min(a,d)}const o=255/(s-a);for(let u=0,h=i.length;u<h;u++)i[u]=(i[u]-a)*o;return i},Fb=function(t){let e,i=-1/0,s=-1/0;const a=t.findIndex(h=>h!==0);let o=a,u=a;for(e=a;e<256;e++){const h=t[e];h>i&&(e-o>s&&(s=e-o,u=e-1),i=h,o=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e},pS=function(t){const e=t,{width:i,height:s}=t,{maxDim:a}=m(this,iu);let o=i,u=s;if(i>a||s>a){let b=i,x=s,E=Math.log2(Math.max(i,s)/a);const S=Math.floor(E);E=E===S?S-1:S;for(let w=0;w<E;w++){o=Math.ceil(b/2),u=Math.ceil(x/2);const L=new OffscreenCanvas(o,u);L.getContext("2d").drawImage(t,0,0,b,x,0,0,o,u),b=o,x=u,t!==e&&t.close(),t=L.transferToImageBitmap()}const R=Math.min(a/o,a/u);o=Math.round(o*R),u=Math.round(u*R)}const d=new OffscreenCanvas(o,u).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,o,u),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,o,u);const f=d.getImageData(0,0,o,u).data;return[N(this,he,Nb).call(this,f),o,u]},$(SignatureExtractor,he),$(SignatureExtractor,iu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),$(SignatureExtractor,Ar,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class SignatureOptions extends DrawingOptions{constructor(){super(),super.updateProperties({fill:AnnotationEditor._defaultLineColor,"stroke-width":0})}clone(){const t=new SignatureOptions;return t.updateAll(this),t}}class DrawnSignatureOptions extends InkDrawingOptions{constructor(t){super(t),super.updateProperties({stroke:AnnotationEditor._defaultLineColor,"stroke-width":1})}clone(){const t=new DrawnSignatureOptions(this._viewParameters);return t.updateAll(this),t}}var go,ts,yo,ru;const xi=class xi extends DrawingEditor{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});$(this,go,!1);$(this,ts,null);$(this,yo,null);$(this,ru,null);this._willKeepAspectRatio=!0,D(this,yo,e.signatureData||null),D(this,ts,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){AnnotationEditor.initialize(e,i),this._defaultDrawingOptions=new SignatureOptions,this._defaultDrawnSignatureOptions=new DrawnSignatureOptions(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return shadow(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!m(this,ts)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(m(this,yo)){const{lines:a,mustSmooth:o,areContours:u,description:h,uuid:d,heightInPage:f}=m(this,yo),{rawDims:{pageWidth:g,pageHeight:b},rotation:x}=this.parent.viewport,E=SignatureExtractor.processDrawnLines({lines:a,pageWidth:g,pageHeight:b,rotation:x,innerMargin:xi._INNER_MARGIN,mustSmooth:o,areContours:u});this.addSignature(E,f,h,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:m(this,ts)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){D(this,ru,e),this.addEditToolbar()}getUuid(){return m(this,ru)}get description(){return m(this,ts)}set description(e){D(this,ts,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:s,width:a,height:o}=m(this,yo),u=Math.max(a,o),h=SignatureExtractor.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:s,width:a,height:o},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,s,a){const{x:o,y:u}=this,{outline:h}=D(this,yo,e);D(this,go,h instanceof ContourDrawOutline),this.description=s;let d;m(this,go)?d=xi.getDefaultDrawingOptions():(d=xi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:d});const[,f]=this.pageDimensions;let g=i/f;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(),this.x=o,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return SignatureExtractor.process(e,i,s,a,xi._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:s,pageHeight:a},rotation:o}=this.parent.viewport;return SignatureExtractor.extractContoursFromText(e,i,s,a,o,xi._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return SignatureExtractor.processDrawnLines({lines:e,pageWidth:i,pageHeight:s,rotation:a,innerMargin:xi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=xi.getDefaultDrawingOptions():(this._drawingOptions=xi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,o=Object.assign(super.serialize(e),{isSignature:!0,areContours:m(this,go),color:[0,0,0],thickness:m(this,go)?0:a});return this.addComment(o),e?(o.paths={lines:i,points:s},o.uuid=m(this,ru),o.isCopy=!0):o.lines=i,m(this,ts)&&(o.accessibilityData={type:"Figure",alt:m(this,ts)}),o}static deserializeDraw(e,i,s,a,o,u){return u.areContours?ContourDrawOutline.deserialize(e,i,s,a,o,u):InkDrawOutline.deserialize(e,i,s,a,o,u)}static async deserialize(e,i,s){var o;const a=await super.deserialize(e,i,s);return D(a,go,e.areContours),a.description=((o=e.accessibilityData)==null?void 0:o.alt)||"",D(a,ru,e.uuid),a}};go=new WeakMap,ts=new WeakMap,yo=new WeakMap,ru=new WeakMap,At(xi,"_type","signature"),At(xi,"_editorType",AnnotationEditorType.SIGNATURE),At(xi,"_defaultDrawingOptions",null);let SignatureEditor=xi;var Ie,En,bo,Qs,xo,wh,Zs,su,es,Ii,Th,ie,Ud,zd,lg,ug,cg,Vb,hg,mS;class StampEditor extends AnnotationEditor{constructor(e){super({...e,name:"stampEditor"});$(this,ie);$(this,Ie,null);$(this,En,null);$(this,bo,null);$(this,Qs,null);$(this,xo,null);$(this,wh,"");$(this,Zs,null);$(this,su,!1);$(this,es,null);$(this,Ii,!1);$(this,Th,!1);D(this,Qs,e.bitmapUrl),D(this,xo,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){AnnotationEditor.initialize(e,i)}static isHandlingMimeForPasting(e){return SupportedImageMimeTypes.includes(e)}static paste(e,i){i.pasteEditor({mode:AnnotationEditorType.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:u}=e||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:o,height:u,channels:a.length/(o*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e;m(this,En)&&(D(this,Ie,null),this._uiManager.imageManager.deleteId(m(this,En)),(e=m(this,Zs))==null||e.remove(),D(this,Zs,null),m(this,es)&&(clearTimeout(m(this,es)),D(this,es,null))),super.remove()}rebuild(){if(!this.parent){m(this,En)&&N(this,ie,lg).call(this);return}super.rebuild(),this.div!==null&&(m(this,En)&&m(this,Zs)===null&&N(this,ie,lg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(m(this,bo)||m(this,Ie)||m(this,Qs)||m(this,xo)||m(this,En)||m(this,su))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),m(this,su)||(m(this,Ie)?N(this,ie,ug).call(this):N(this,ie,lg).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(D(this,En,s),a&&D(this,Ie,a),D(this,su,!1),N(this,ie,ug).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;m(this,es)!==null&&clearTimeout(m(this,es)),D(this,es,setTimeout(()=>{D(this,es,null),N(this,ie,Vb).call(this)},200))}copyCanvas(e,i,s=!1){e||(e=224);const{width:a,height:o}=m(this,Ie),u=new OutputScale;let h=m(this,Ie),d=a,f=o,g=null;if(i){if(a>i||o>i){const H=Math.min(i/a,i/o);d=Math.floor(a*H),f=Math.floor(o*H)}g=document.createElement("canvas");const x=g.width=Math.ceil(d*u.sx),E=g.height=Math.ceil(f*u.sy);m(this,Ii)||(h=N(this,ie,cg).call(this,x,E));const S=g.getContext("2d");S.filter=this._uiManager.hcmFilter;let R="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":ColorScheme.isDarkMode&&(R="#8f8f9d",w="#42414d");const L=15,P=L*u.sx,V=L*u.sy,B=new OffscreenCanvas(P*2,V*2),F=B.getContext("2d");F.fillStyle=R,F.fillRect(0,0,P*2,V*2),F.fillStyle=w,F.fillRect(0,0,P,V),F.fillRect(P,V,P,V),S.fillStyle=S.createPattern(B,"repeat"),S.fillRect(0,0,x,E),S.drawImage(h,0,0,h.width,h.height,0,0,x,E)}let b=null;if(s){let x,E;if(u.symmetric&&h.width<e&&h.height<e)x=h.width,E=h.height;else if(h=m(this,Ie),a>e||o>e){const w=Math.min(e/a,e/o);x=Math.floor(a*w),E=Math.floor(o*w),m(this,Ii)||(h=N(this,ie,cg).call(this,x,E))}const R=new OffscreenCanvas(x,E).getContext("2d",{willReadFrequently:!0});R.drawImage(h,0,0,h.width,h.height,0,0,x,E),b={width:x,height:E,data:R.getImageData(0,0,x,E).data}}return{canvas:g,width:d,height:f,imageData:b}}static async deserialize(e,i,s){var R;let a=null,o=!1;if(e instanceof StampAnnotationElement){const{data:{rect:w,rotation:L,id:P,structParent:V,popupRef:B,richText:F,contentsObj:H,creationDate:K,modificationDate:J},container:G,parent:{page:{pageNumber:et}},canvas:ut}=e;let Et,ot;ut?(delete e.canvas,{id:Et,bitmap:ot}=s.imageManager.getFromCanvas(G.id,ut),ut.remove()):(o=!0,e._hasNoCanvas=!0);const dt=((R=await i._structTree.getAriaAttributes(`${AnnotationPrefix}${P}`))==null?void 0:R.get("aria-label"))||"";a=e={annotationType:AnnotationEditorType.STAMP,bitmapId:Et,bitmap:ot,pageIndex:et-1,rect:w.slice(0),rotation:L,annotationElementId:P,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:dt},isSvg:!1,structParent:V,popupRef:B,richText:F,comment:(H==null?void 0:H.str)||null,creationDate:K,modificationDate:J}}const u=await super.deserialize(e,i,s),{rect:h,bitmap:d,bitmapUrl:f,bitmapId:g,isSvg:b,accessibilityData:x}=e;o?(s.addMissingCanvas(e.id,u),D(u,su,!0)):g&&s.imageManager.isValidId(g)?(D(u,En,g),d&&D(u,Ie,d)):D(u,Qs,f),D(u,Ii,b);const[E,S]=u.pageDimensions;return u.width=(h[2]-h[0])/E,u.height=(h[3]-h[1])/S,x&&(u.altTextData=x),u._initialData=a,e.comment&&u.setCommentData(e),D(u,Th,!!a),u}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:m(this,En),isSvg:m(this,Ii)});if(this.addComment(s),e)return s.bitmapUrl=N(this,ie,hg).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=N(this,ie,mS).call(this,s);return h.isSame?null:(h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(i===null)return s;i.stamps||(i.stamps=new Map);const u=m(this,Ii)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(m(this,En)))i.stamps.set(m(this,En),{area:u,serialized:s}),s.bitmap=N(this,ie,hg).call(this,!1);else if(m(this,Ii)){const h=i.stamps.get(m(this,En));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=N(this,ie,hg).call(this,!1))}return s}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ie=new WeakMap,En=new WeakMap,bo=new WeakMap,Qs=new WeakMap,xo=new WeakMap,wh=new WeakMap,Zs=new WeakMap,su=new WeakMap,es=new WeakMap,Ii=new WeakMap,Th=new WeakMap,ie=new WeakSet,Ud=function(e,i=!1){if(!e){this.remove();return}D(this,Ie,e.bitmap),i||(D(this,En,e.id),D(this,Ii,e.isSvg)),e.file&&D(this,wh,e.file.name),N(this,ie,ug).call(this)},zd=function(){if(D(this,bo,null),this._uiManager.enableWaiting(!1),!!m(this,Zs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ie)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ie)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},lg=function(){if(m(this,En)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,En)).then(s=>N(this,ie,Ud).call(this,s,!0)).finally(()=>N(this,ie,zd).call(this));return}if(m(this,Qs)){const s=m(this,Qs);D(this,Qs,null),this._uiManager.enableWaiting(!0),D(this,bo,this._uiManager.imageManager.getFromUrl(s).then(a=>N(this,ie,Ud).call(this,a)).finally(()=>N(this,ie,zd).call(this)));return}if(m(this,xo)){const s=m(this,xo);D(this,xo,null),this._uiManager.enableWaiting(!0),D(this,bo,this._uiManager.imageManager.getFromFile(s).then(a=>N(this,ie,Ud).call(this,a)).finally(()=>N(this,ie,zd).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=SupportedImageMimeTypes.join(",");const i=this._uiManager._signal;D(this,bo,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,ie,Ud).call(this,a)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>N(this,ie,zd).call(this))),e.click()},ug=function(){var d;const{div:e}=this;let{width:i,height:s}=m(this,Ie);const[a,o]=this.pageDimensions,u=.75;if(this.width)i=this.width*a,s=this.height*o;else if(i>u*a||s>u*o){const f=Math.min(u*a/i,u*o/s);i*=f,s*=f}this._uiManager.enableWaiting(!1);const h=D(this,Zs,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=i/a,this.height=s/o,this.setDims(),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),N(this,ie,Vb).call(this),m(this,Th)||(this.parent.addUndoableEditor(this),D(this,Th,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,wh)&&this.div.setAttribute("aria-description",m(this,wh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},cg=function(e,i){const{width:s,height:a}=m(this,Ie);let o=s,u=a,h=m(this,Ie);for(;o>2*e||u>2*i;){const d=o,f=u;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),u>2*i&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const g=new OffscreenCanvas(o,u);g.getContext("2d").drawImage(h,0,0,d,f,0,0,o,u),h=g.transferToImageBitmap()}return h},Vb=function(){const[e,i]=this.parentDimensions,{width:s,height:a}=this,o=new OutputScale,u=Math.ceil(s*e*o.sx),h=Math.ceil(a*i*o.sy),d=m(this,Zs);if(!d||d.width===u&&d.height===h)return;d.width=u,d.height=h;const f=m(this,Ii)?m(this,Ie):N(this,ie,cg).call(this,u,h),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,u,h)},hg=function(e){if(e){if(m(this,Ii)){const a=this._uiManager.imageManager.getSvgUrl(m(this,En));if(a)return a}const i=document.createElement("canvas");return{width:i.width,height:i.height}=m(this,Ie),i.getContext("2d").drawImage(m(this,Ie),0,0),i.toDataURL()}if(m(this,Ii)){const[i,s]=this.pageDimensions,a=Math.round(this.width*i*PixelsPerInch.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*PixelsPerInch.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(a,o);return u.getContext("2d").drawImage(m(this,Ie),0,0,m(this,Ie).width,m(this,Ie).height,0,0,a,o),u.transferToImageBitmap()}return structuredClone(m(this,Ie))},mS=function(e){var u;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,a=e.pageIndex===i,o=(((u=e.accessibilityData)==null?void 0:u.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}},At(StampEditor,"_type","stamp"),At(StampEditor,"_editorType",AnnotationEditorType.STAMP);var au,Ch,vo,Eo,Js,hi,Ao,Rh,_h,Sr,ta,An,ea,So,kh,Mt,wo,_e,jb,gS,Pr,Ub,zb,dg;const dr=class dr{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:a,annotationLayer:o,drawLayer:u,textLayer:h,viewport:d,l10n:f}){$(this,_e);$(this,au);$(this,Ch,!1);$(this,vo,null);$(this,Eo,null);$(this,Js,null);$(this,hi,new Map);$(this,Ao,!1);$(this,Rh,!1);$(this,_h,!1);$(this,Sr,null);$(this,ta,null);$(this,An,null);$(this,ea,null);$(this,So,null);$(this,kh,-1);$(this,Mt);const g=[...m(dr,wo).values()];if(!dr._initialized){dr._initialized=!0;for(const b of g)b.initialize(f,t)}t.registerEditorTypes(g),D(this,Mt,t),this.pageIndex=e,this.div=i,D(this,au,a),D(this,vo,o),this.viewport=d,D(this,An,h),this.drawLayer=u,this._structTree=s,m(this,Mt).addLayer(this)}get isEmpty(){return m(this,hi).size===0}get isInvisible(){return this.isEmpty&&m(this,Mt).getMode()===AnnotationEditorType.NONE}updateToolbar(t){m(this,Mt).updateToolbar(t)}updateMode(t=m(this,Mt).getMode()){switch(N(this,_e,dg).call(this),t){case AnnotationEditorType.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===AnnotationEditorType.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of m(dr,wo).values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=m(this,An))==null?void 0:e.div)}setEditingState(t){m(this,Mt).setEditingState(t)}addCommands(t){m(this,Mt).addCommands(t)}cleanUndoStack(t){m(this,Mt).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=m(this,vo))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;D(this,_h,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=m(this,So))==null||i.abort(),D(this,So,null);const t=new Set;for(const s of m(this,_e,jb))s.enableEditing(),s.show(!0),s.annotationElementId&&(m(this,Mt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));const e=m(this,vo);if(e)for(const s of e.getEditableAnnotations()){if(s.hide(),m(this,Mt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const a=await this.deserialize(s);a&&(this.addOrRebuild(a),a.enableEditing())}D(this,_h,!1),m(this,Mt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(D(this,Rh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),m(this,An)&&!m(this,So)){D(this,So,new AbortController);const s=m(this,Mt).combinedSignal(m(this,So));m(this,An).div.addEventListener("pointerdown",a=>{const{clientX:u,clientY:h,timeStamp:d}=a,f=m(this,kh);if(d-f>500){D(this,kh,d);return}D(this,kh,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const b=document.elementsFromPoint(u,h);if(g.toggle("getElements",!1),!this.div.contains(b[0]))return;let x;const E=new RegExp(`^${AnnotationEditorPrefix}[0-9]+$`);for(const R of b)if(E.test(R.id)){x=R.id;break}if(!x)return;const S=m(this,hi).get(x);(S==null?void 0:S.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),S.dblclick(a))},{signal:s,capture:!0})}const t=m(this,vo);if(t){const s=new Map,a=new Map;for(const u of m(this,_e,jb)){if(u.disableEditing(),!u.annotationElementId){u.updateFakeAnnotationElement(t);continue}if(u.serialize()!==null){s.set(u.annotationElementId,u);continue}else a.set(u.annotationElementId,u);(i=this.getEditableAnnotation(u.annotationElementId))==null||i.show(),u.remove()}const o=t.getEditableAnnotations();for(const u of o){const{id:h}=u.data;if(m(this,Mt).isDeletedAnnotationElement(h)){u.updateEdited({deleted:!0});continue}let d=a.get(h);if(d){d.resetAnnotationElement(u),d.show(!1),u.show();continue}d=s.get(h),d&&(m(this,Mt).addChangedExistingAnnotation(d),d.renderAnnotationElement(u)&&d.show(!1)),u.show()}}N(this,_e,dg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const s of m(dr,wo).values())e.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),D(this,Rh,!1)}getEditableAnnotation(t){var e;return((e=m(this,vo))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){m(this,Mt).getActive()!==t&&m(this,Mt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=m(this,An))!=null&&t.div&&!m(this,ea)){D(this,ea,new AbortController);const e=m(this,Mt).combinedSignal(m(this,ea));m(this,An).div.addEventListener("pointerdown",N(this,_e,gS).bind(this),{signal:e}),m(this,An).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=m(this,An))!=null&&t.div&&m(this,ea)&&(m(this,ea).abort(),D(this,ea,null),m(this,An).div.classList.remove("highlighting"))}enableClick(){if(m(this,Eo))return;D(this,Eo,new AbortController);const t=m(this,Mt).combinedSignal(m(this,Eo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=m(this,Eo))==null||t.abort(),D(this,Eo,null)}attach(t){m(this,hi).set(t.id,t);const{annotationElementId:e}=t;e&&m(this,Mt).isDeletedAnnotationElement(e)&&m(this,Mt).removeDeletedAnnotationElement(t)}detach(t){var e;m(this,hi).delete(t.id),(e=m(this,au))==null||e.removePointerInTextLayer(t.contentDiv),!m(this,Rh)&&t.annotationElementId&&m(this,Mt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),m(this,Mt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(m(this,Mt).addDeletedAnnotationElement(t.annotationElementId),AnnotationEditor.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),m(this,Mt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!m(this,_h)),m(this,Mt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!m(this,Js)&&(t._focusEventsAllowed=!1,D(this,Js,setTimeout(()=>{D(this,Js,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:m(this,Mt)._signal}),e.focus())},0))),t._structTreeParentId=(i=m(this,au))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of m(this,hi).values())if(e.uid===t)return e;return null}getNextId(){return m(this,Mt).getId()}combinedSignal(t){return m(this,Mt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=m(this,_e,Pr))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await m(this,Mt).updateMode(t.mode);const{offsetX:i,offsetY:s}=N(this,_e,zb).call(this),a=this.getNextId(),o=N(this,_e,Ub).call(this,{parent:this,id:a,x:i,y:s,uiManager:m(this,Mt),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=m(dr,wo).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,m(this,Mt)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),a=N(this,_e,Ub).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:m(this,Mt),isCentered:e,...i});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(t={}){this.createAndAddNewEditor(N(this,_e,zb).call(this),!0,t)}setSelected(t){m(this,Mt).setSelected(t)}toggleSelected(t){m(this,Mt).toggleSelected(t)}unselect(t){m(this,Mt).unselect(t)}pointerup(t){var s;const{isMac:e}=util_FeatureTest.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!m(this,Ao)||(D(this,Ao,!1),(s=m(this,_e,Pr))!=null&&s.isDrawer&&m(this,_e,Pr).supportMultipleDrawings))return;if(!m(this,Ch)){D(this,Ch,!0);return}const i=m(this,Mt).getMode();if(i===AnnotationEditorType.STAMP||i===AnnotationEditorType.SIGNATURE){m(this,Mt).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var s;if(m(this,Mt).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),m(this,Ao)){D(this,Ao,!1);return}const{isMac:e}=util_FeatureTest.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(D(this,Ao,!0),(s=m(this,_e,Pr))!=null&&s.isDrawer){this.startDrawingSession(t);return}const i=m(this,Mt).getActive();D(this,Ch,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),m(this,Sr)){m(this,_e,Pr).startDrawing(this,m(this,Mt),!1,t);return}m(this,Mt).setCurrentDrawingSession(this),D(this,Sr,new AbortController);const e=m(this,Mt).combinedSignal(m(this,Sr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(D(this,ta,null),this.commitOrRemove())},{signal:e}),m(this,_e,Pr).startDrawing(this,m(this,Mt),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&D(this,ta,e);return}m(this,ta)&&setTimeout(()=>{var e;(e=m(this,ta))==null||e.focus(),D(this,ta,null)},0)}endDrawingSession(t=!1){return m(this,Sr)?(m(this,Mt).setCurrentDrawingSession(null),m(this,Sr).abort(),D(this,Sr,null),D(this,ta,null),m(this,_e,Pr).endDrawing(t)):null}findNewParent(t,e,i){const s=m(this,Mt).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return m(this,Sr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){m(this,Sr)&&m(this,_e,Pr).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=m(this,Mt).getActive())==null?void 0:t.parent)===this&&(m(this,Mt).commitOrRemove(),m(this,Mt).setActiveEditor(null)),m(this,Js)&&(clearTimeout(m(this,Js)),D(this,Js,null));for(const i of m(this,hi).values())(e=m(this,au))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,m(this,hi).clear(),m(this,Mt).removeLayer(this)}render({viewport:t}){this.viewport=t,setLayerDimensions(this.div,t);for(const e of m(this,Mt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){m(this,Mt).commitOrRemove(),N(this,_e,dg).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,setLayerDimensions(this.div,{rotation:i}),e!==i)for(const s of m(this,hi).values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return m(this,Mt).viewParameters.realScale}};au=new WeakMap,Ch=new WeakMap,vo=new WeakMap,Eo=new WeakMap,Js=new WeakMap,hi=new WeakMap,Ao=new WeakMap,Rh=new WeakMap,_h=new WeakMap,Sr=new WeakMap,ta=new WeakMap,An=new WeakMap,ea=new WeakMap,So=new WeakMap,kh=new WeakMap,Mt=new WeakMap,wo=new WeakMap,_e=new WeakSet,jb=function(){return m(this,hi).size!==0?m(this,hi).values():m(this,Mt).getEditors(this.pageIndex)},gS=function(t){m(this,Mt).unselectAll();const{target:e}=t;if(e===m(this,An).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&m(this,An).div.contains(e)){const{isMac:i}=util_FeatureTest.platform;if(t.button!==0||t.ctrlKey&&i)return;m(this,Mt).showAllEditors("highlight",!0,!0),m(this,An).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,m(this,Mt).direction==="ltr",{target:m(this,An).div,x:t.x,y:t.y}),m(this,An).div.addEventListener("pointerup",()=>{m(this,An).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,Mt)._signal}),t.preventDefault()}},Pr=function(){return m(dr,wo).get(m(this,Mt).getMode())},Ub=function(t){const e=m(this,_e,Pr);return e?new e.prototype.constructor(t):null},zb=function(){const{x:t,y:e,width:i,height:s}=this.boundingClientRect,a=Math.max(0,t),o=Math.max(0,e),u=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+s),d=(a+u)/2-t,f=(o+h)/2-e,[g,b]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:g,offsetY:b}},dg=function(){for(const t of m(this,hi).values())t.isEmpty()&&t.remove()},At(dr,"_initialized",!1),$(dr,wo,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor,SignatureEditor].map(t=>[t._editorType,t])));let AnnotationEditorLayer=dr;var wr,Xn,ou,wp,Mg,yS,ns,Hb,bS,qb;const ln=class ln{constructor({pageIndex:t}){$(this,ns);$(this,wr,null);$(this,Xn,new Map);$(this,ou,new Map);this.pageIndex=t}setParent(t){if(!m(this,wr)){D(this,wr,t);return}if(m(this,wr)!==t){if(m(this,Xn).size>0)for(const e of m(this,Xn).values())e.remove(),t.append(e);D(this,wr,t)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(t,e=!1,i=!1){const s=on(ln,wp)._++,a=N(this,ns,Hb).call(this),o=ln._svgFactory.createElement("defs");a.append(o);const u=ln._svgFactory.createElement("path");o.append(u);const h=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),e&&m(this,ou).set(s,u);const d=i?N(this,ns,bS).call(this,o,h):null,f=ln._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${h}`),this.updateProperties(a,t),m(this,Xn).set(s,a),{id:s,clipPathId:`url(#${d})`}}drawOutline(t,e){const i=on(ln,wp)._++,s=N(this,ns,Hb).call(this),a=ln._svgFactory.createElement("defs");s.append(a);const o=ln._svgFactory.createElement("path");a.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const g=ln._svgFactory.createElement("mask");a.append(g),h=`mask_p${this.pageIndex}_${i}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const b=ln._svgFactory.createElement("rect");g.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const x=ln._svgFactory.createElement("use");g.append(x),x.setAttribute("href",`#${u}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const d=ln._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${u}`),h&&d.setAttribute("mask",`url(#${h})`);const f=d.cloneNode();return s.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(s,t),m(this,Xn).set(i,s),i}finalizeDraw(t,e){m(this,ou).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var h;if(!e)return;const{root:i,bbox:s,rootClass:a,path:o}=e,u=typeof t=="number"?m(this,Xn).get(t):t;if(u){if(i&&N(this,ns,qb).call(this,u,i),s&&N(h=ln,Mg,yS).call(h,u,s),a){const{classList:d}=u;for(const[f,g]of Object.entries(a))d.toggle(f,g)}if(o){const f=u.firstChild.firstChild;N(this,ns,qb).call(this,f,o)}}}updateParent(t,e){if(e===this)return;const i=m(this,Xn).get(t);i&&(m(e,wr).append(i),m(this,Xn).delete(t),m(e,Xn).set(t,i))}remove(t){m(this,ou).delete(t),m(this,wr)!==null&&(m(this,Xn).get(t).remove(),m(this,Xn).delete(t))}destroy(){D(this,wr,null);for(const t of m(this,Xn).values())t.remove();m(this,Xn).clear(),m(this,ou).clear()}};wr=new WeakMap,Xn=new WeakMap,ou=new WeakMap,wp=new WeakMap,Mg=new WeakSet,yS=function(t,[e,i,s,a]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*s}%`,o.height=`${100*a}%`},ns=new WeakSet,Hb=function(){const t=ln._svgFactory.create(1,1,!0);return m(this,wr).append(t),t.setAttribute("aria-hidden",!0),t},bS=function(t,e){const i=ln._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const a=ln._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s},qb=function(t,e){for(const[i,s]of Object.entries(e))s===null?t.removeAttribute(i):t.setAttribute(i,s)},$(ln,Mg),$(ln,wp,0);let DrawLayer=ln;globalThis._pdfjsTestingUtils={HighlightOutliner};globalThis.pdfjsLib={AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,applyOpacity,build,ColorPicker,createValidAbsoluteUrl,CSSConstants,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,fetchData,findContrastColor,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getRGB,getUuid,getXfaPageViewport,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,isDataScheme,isPdfFile,isValidExplicitDest,MathClamp,noContextMenu,normalizeUnicode,OPS,OutputScale,PasswordResponses:PasswordResponses$1,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PermissionFlag,PixelsPerInch,RenderingCancelledException,renderRichText,ResponseException,setLayerDimensions,shadow,SignatureExtractor,stopEvent,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,updateUrlHash,Util,VerbosityLevel,version,XfaLayer};const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,CSSConstants,ColorPicker,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,MathClamp,OPS,OutputScale,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PasswordResponses:PasswordResponses$1,PermissionFlag,PixelsPerInch,RenderingCancelledException,ResponseException,SignatureExtractor,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,Util,VerbosityLevel,XfaLayer,applyOpacity,build,createValidAbsoluteUrl,fetchData,findContrastColor,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getRGB,getUuid,getXfaPageViewport,isDataScheme,isPdfFile,isValidExplicitDest,noContextMenu,normalizeUnicode,renderRichText,setLayerDimensions,shadow,stopEvent,updateUrlHash,version},Symbol.toStringTag,{value:"Module"}));function r(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=r(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function clsx(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=r(n))&&(i&&(i+=" "),i+=t);return i}var has=Object.prototype.hasOwnProperty;function find(n,t,e){for(e of n.keys())if(dequal(e,t))return e}function dequal(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&dequal(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=find(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=find(t,s),!s)||!dequal(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(has.call(n,e)&&++i&&!has.call(t,e)||!(e in t)||!dequal(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function makeCancellablePromise(n){let t=!1;return{promise:new Promise((i,s)=>{n.then(a=>!t&&i(a)).catch(a=>!t&&s(a))}),cancel(){t=!0}}}const clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=[...clipboardEvents,...compositionEvents,...focusEvents,...formEvents,...imageEvents,...keyboardEvents,...mediaEvents,...mouseEvents,...dragEvents,...selectionEvents,...touchEvents,...pointerEvents,...uiEvents,...wheelEvents,...animationEvents,...transitionEvents,...changeEvents,...otherEvents];function makeEventProps(n,t){const e={};for(const i of allEvents){const s=n[i];s&&(t?e[i]=a=>s(a,t(i)):e[i]=s)}return e}var prefix="Invariant failed";function invariant(n,t){if(!n)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var n=function(){};return warning_1=n,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports),documentContext=reactExports.createContext(null),DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||DEFAULT_LINK_REL,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{invariant(this.pdfDocument),invariant(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{invariant(Array.isArray(e));const i=e[0];new Promise(s=>{invariant(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(a=>{s(a)}).catch(()=>{invariant(!1)}):typeof i=="number"?s(i):invariant(!1)}).then(s=>{const a=s+1;invariant(this.pdfViewer),invariant(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:a})})})}goToPage(t){const e=t-1;invariant(this.pdfViewer),invariant(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Message({children:n,type:t}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function reducer(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(n){return typeof n<"u"}function isProvided(n){return isDefined(n)&&n!==null}function isString(n){return typeof n=="string"}function isArrayBuffer(n){return n instanceof ArrayBuffer}function isBlob(n){return invariant(isBrowser),n instanceof Blob}function isDataURI(n){return isString(n)&&/^data:/.test(n)}function dataURItoByteString(n){invariant(isDataURI(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(n){n!=null&&n.cancel&&n.cancel()}function makePageCallback(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function isCancelException(n){return n.name==="RenderingCancelledException"}function loadFromFile(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(n,t)=>{switch(t){case PasswordResponses.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case PasswordResponses.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function isParameterObject(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Document=reactExports.forwardRef(function n({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:a,file:o,inputRef:u,imageResourcesPath:h,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:g,onLoadError:b,onLoadProgress:x,onLoadSuccess:E,onPassword:S=defaultOnPassword,onSourceError:R,onSourceSuccess:w,options:L,renderMode:P,rotate:V,scale:B,...F},H){const[K,J]=useResolver(),{value:G,error:et}=K,[ut,Et]=useResolver(),{value:ot,error:dt}=ut,Q=reactExports.useRef(new LinkService),Z=reactExports.useRef([]),it=reactExports.useRef(void 0),Ct=reactExports.useRef(void 0);o&&o!==it.current&&isParameterObject(o)&&(warning(!dequal(o,it.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),it.current=o),L&&L!==Ct.current&&(warning(!dequal(L,Ct.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Ct.current=L);const I=reactExports.useRef({scrollPageIntoView:Ft=>{const{dest:Yt,pageNumber:ae,pageIndex:ce=ae-1}=Ft;if(g){g({dest:Yt,pageIndex:ce,pageNumber:ae});return}const ge=Z.current[ce];if(ge){ge.scrollIntoView();return}warning(!1,`An internal link leading to page ${ae} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(H,()=>({linkService:Q,pages:Z,viewer:I}),[]);function at(){w&&w()}function pt(){et&&(warning(!1,et.toString()),R&&R(et))}function z(){J({type:"RESET"})}reactExports.useEffect(z,[o,J]);const St=reactExports.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return isDataURI(o)?{data:dataURItoByteString(o)}:(displayCORSWarning(),{url:o});if(o instanceof PDFDataRangeTransport)return{range:o};if(isArrayBuffer(o))return{data:o};if(isBrowser&&isBlob(o))return{data:await loadFromFile(o)};if(invariant(typeof o=="object"),invariant(isParameterObject(o)),"url"in o&&typeof o.url=="string"){if(isDataURI(o.url)){const{url:Ft,...Yt}=o;return{data:dataURItoByteString(Ft),...Yt}}displayCORSWarning()}return o},[o]);reactExports.useEffect(()=>{const Ft=makeCancellablePromise(St());return Ft.promise.then(Yt=>{J({type:"RESOLVE",value:Yt})}).catch(Yt=>{J({type:"REJECT",error:Yt})}),()=>{cancelRunningTask(Ft)}},[St,J]),reactExports.useEffect(()=>{if(!(typeof G>"u")){if(G===!1){pt();return}at()}},[G]);function Tt(){ot&&(E&&E(ot),Z.current=new Array(ot.numPages),Q.current.setDocument(ot))}function wt(){dt&&(warning(!1,dt.toString()),b&&b(dt))}reactExports.useEffect(function(){Et({type:"RESET"})},[Et,G]),reactExports.useEffect(function(){if(!G)return;const Yt=L?{...G,...L}:G,ae=getDocument(Yt);x&&(ae.onProgress=x),S&&(ae.onPassword=S);const ce=ae,ge=ce.promise.then(Ye=>{Et({type:"RESOLVE",value:Ye})}).catch(Ye=>{ce.destroyed||Et({type:"REJECT",error:Ye})});return()=>{ge.finally(()=>ce.destroy())}},[L,Et,G]),reactExports.useEffect(()=>{if(!(typeof ot>"u")){if(ot===!1){wt();return}Tt()}},[ot]),reactExports.useEffect(function(){Q.current.setViewer(I.current),Q.current.setExternalLinkRel(s),Q.current.setExternalLinkTarget(a)},[s,a]);const Lt=reactExports.useCallback((Ft,Yt)=>{Z.current[Ft]=Yt},[]),Ot=reactExports.useCallback(Ft=>{delete Z.current[Ft]},[]),Xt=reactExports.useMemo(()=>({imageResourcesPath:h,linkService:Q.current,onItemClick:g,pdf:ot,registerPage:Lt,renderMode:P,rotate:V,scale:B,unregisterPage:Ot}),[h,g,ot,Lt,P,V,B,Ot]),jt=reactExports.useMemo(()=>makeEventProps(F,()=>ot),[F,ot]);function ue(){function Ft(ae){return!!(ae!=null&&ae.pdf)}if(!Ft(Xt))throw new Error("pdf is undefined");const Yt=typeof t=="function"?t(Xt):t;return jsxRuntimeExports.jsx(documentContext.Provider,{value:Xt,children:Yt})}function Me(){return o?ot==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof d=="function"?d():d}):ot===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof i=="function"?i():i}):ue():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof f=="function"?f():f})}return jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Document",e),ref:u,...jt,children:Me()})});function useDocumentContext(){return reactExports.useContext(documentContext)}function mergeRefs(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(a){for(var o=0,u=e;o<u.length;o++){var h=u[o];typeof h=="function"?h(a):h&&(h.current=a)}}}const pageContext=reactExports.createContext(null);function usePageContext(){return reactExports.useContext(pageContext)}function AnnotationLayer(){const n=useDocumentContext(),t=usePageContext();invariant(t);const e={...n,...t},{imageResourcesPath:i,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:h,page:d,pdf:f,renderForms:g,rotate:b,scale:x=1}=e;invariant(f),invariant(d),invariant(s);const[E,S]=useResolver(),{value:R,error:w}=E,L=reactExports.useRef(null);warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function P(){R&&o&&o(R)}function V(){w&&(warning(!1,w.toString()),a&&a(w))}reactExports.useEffect(function(){S({type:"RESET"})},[S,d]),reactExports.useEffect(function(){if(!d)return;const J=makeCancellablePromise(d.getAnnotations()),G=J;return J.promise.then(et=>{S({type:"RESOLVE",value:et})}).catch(et=>{S({type:"REJECT",error:et})}),()=>{cancelRunningTask(G)}},[S,d]),reactExports.useEffect(()=>{if(R!==void 0){if(R===!1){V();return}P()}},[R]);function B(){h&&h()}function F(K){warning(!1,`${K}`),u&&u(K)}const H=reactExports.useMemo(()=>d.getViewport({scale:x,rotation:b}),[d,b,x]);return reactExports.useEffect(function(){if(!f||!d||!s||!R)return;const{current:J}=L;if(!J)return;const G=H.clone({dontFlip:!0}),et={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:f.annotationStorage,commentManager:null,div:J,l10n:null,linkService:s,page:d,structTreeLayer:null,viewport:G},ut={annotations:R,annotationStorage:f.annotationStorage,div:J,imageResourcesPath:i,linkService:s,page:d,renderForms:g,viewport:G};J.innerHTML="";try{new AnnotationLayer$1(et).render(ut),B()}catch(Et){F(Et)}return()=>{}},[R,i,s,d,f,g,H]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:L})}const PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(n){return n in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(n){return"children"in n}function isStructTreeNodeWithOnlyContentChild(n){return isStructTreeNode(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function getRoleAttributes(n){const t={};if(isStructTreeNode(n)){const{role:e}=n,i=e.match(HEADING_PATTERN);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(isPdfRole(e)){const s=PDF_ROLE_TO_HTML_ROLE[e];s&&(t.role=s)}}return t}function getBaseAttributes(n){const t={};if(isStructTreeNode(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),isStructTreeNodeWithOnlyContentChild(n)){const[e]=n.children;if(e){const i=getBaseAttributes(e);return{...t,...i}}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function getAttributes(n){return n?{...getRoleAttributes(n),...getBaseAttributes(n)}:null}function StructTreeItem({className:n,node:t}){const e=reactExports.useMemo(()=>getAttributes(t),[t]),i=reactExports.useMemo(()=>!isStructTreeNode(t)||isStructTreeNodeWithOnlyContentChild(t)?null:t.children.map((s,a)=>jsxRuntimeExports.jsx(StructTreeItem,{node:s},a)),[t]);return jsxRuntimeExports.jsx("span",{className:n,...e,children:i})}function StructTree(){const n=usePageContext();invariant(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=useResolver(),{value:a,error:o}=i,{customTextRenderer:u,page:h}=n;function d(){a&&e&&e(a)}function f(){o&&(warning(!1,o.toString()),t&&t(o))}return reactExports.useEffect(function(){s({type:"RESET"})},[s,h]),reactExports.useEffect(function(){if(u||!h)return;const b=makeCancellablePromise(h.getStructTree()),x=b;return b.promise.then(E=>{s({type:"RESOLVE",value:E})}).catch(E=>{s({type:"REJECT",error:E})}),()=>cancelRunningTask(x)},[u,h,s]),reactExports.useEffect(()=>{if(a!==void 0){if(a===!1){f();return}d()}},[a]),a?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:a}):null}const ANNOTATION_MODE=AnnotationMode;function Canvas(n){const t=usePageContext();invariant(t);const e={...t,...n},{_className:i,canvasBackground:s,devicePixelRatio:a=getDevicePixelRatio(),onRenderError:o,onRenderSuccess:u,page:h,renderForms:d,renderTextLayer:f,rotate:g,scale:b}=e,{canvasRef:x}=n;invariant(h);const E=reactExports.useRef(null);function S(){h&&u&&u(makePageCallback(h,b))}function R(V){isCancelException(V)||(warning(!1,V.toString()),o&&o(V))}const w=reactExports.useMemo(()=>h.getViewport({scale:b*a,rotation:g}),[a,h,g,b]),L=reactExports.useMemo(()=>h.getViewport({scale:b,rotation:g}),[h,g,b]);reactExports.useEffect(function(){if(!h)return;h.cleanup();const{current:B}=E;if(!B)return;B.width=w.width,B.height=w.height,B.style.width=`${Math.floor(L.width)}px`,B.style.height=`${Math.floor(L.height)}px`,B.style.visibility="hidden";const F={annotationMode:d?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvas:B,canvasContext:B.getContext("2d",{alpha:!1}),viewport:w};s&&(F.background=s);const H=h.render(F),K=H;return H.promise.then(()=>{B.style.visibility="",S()}).catch(R),()=>cancelRunningTask(K)},[s,h,d,w,L]);const P=reactExports.useCallback(()=>{const{current:V}=E;V&&(V.width=0,V.height=0)},[]);return reactExports.useEffect(()=>P,[P]),jsxRuntimeExports.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:mergeRefs(x,E),style:{display:"block",userSelect:"none"},children:f?jsxRuntimeExports.jsx(StructTree,{}):null})}function isTextItem(n){return"str"in n}function TextLayer(){const n=usePageContext();invariant(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:o,pageIndex:u,pageNumber:h,rotate:d,scale:f}=n;invariant(o);const[g,b]=useResolver(),{value:x,error:E}=g,S=reactExports.useRef(null);warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function R(){x&&i&&i(x)}function w(){E&&(warning(!1,E.toString()),e&&e(E))}reactExports.useEffect(function(){b({type:"RESET"})},[o,b]),reactExports.useEffect(function(){if(!o)return;const K=makeCancellablePromise(o.getTextContent()),J=K;return K.promise.then(G=>{b({type:"RESOLVE",value:G})}).catch(G=>{b({type:"REJECT",error:G})}),()=>cancelRunningTask(J)},[o,b]),reactExports.useEffect(()=>{if(x!==void 0){if(x===!1){w();return}R()}},[x]);const L=reactExports.useCallback(()=>{a&&a()},[a]),P=reactExports.useCallback(H=>{warning(!1,H.toString()),s&&s(H)},[s]);function V(){const H=S.current;H&&H.classList.add("selecting")}function B(){const H=S.current;H&&H.classList.remove("selecting")}const F=reactExports.useMemo(()=>o.getViewport({scale:f,rotation:d}),[o,d,f]);return reactExports.useLayoutEffect(function(){if(!o||!x)return;const{current:K}=S;if(!K)return;K.innerHTML="";const J=o.streamTextContent({includeMarkedContent:!0}),G={container:K,textContentSource:J,viewport:F},et=new TextLayer$1(G),ut=et;return et.render().then(()=>{const Et=document.createElement("div");Et.className="endOfContent",K.append(Et);const ot=K.querySelectorAll('[role="presentation"]');if(t){let dt=0;x.items.forEach((Q,Z)=>{if(!isTextItem(Q))return;const it=ot[dt];if(!it)return;const Ct=t({pageIndex:u,pageNumber:h,itemIndex:Z,...Q});it.innerHTML=Ct,dt+=Q.str&&Q.hasEOL?2:1})}L()}).catch(P),()=>cancelRunningTask(ut)},[t,P,L,o,u,h,x,F]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:B,onMouseDown:V,ref:S})}const defaultScale=1;function Page(n){const e={...useDocumentContext(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:o,children:u,className:h,customRenderer:d,customTextRenderer:f,devicePixelRatio:g,error:b="Failed to load the page.",height:x,inputRef:E,loading:S="Loading page",noData:R="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:L,onGetStructTreeError:P,onGetStructTreeSuccess:V,onGetTextError:B,onGetTextSuccess:F,onLoadError:H,onLoadSuccess:K,onRenderAnnotationLayerError:J,onRenderAnnotationLayerSuccess:G,onRenderError:et,onRenderSuccess:ut,onRenderTextLayerError:Et,onRenderTextLayerSuccess:ot,pageIndex:dt,pageNumber:Q,pdf:Z,registerPage:it,renderAnnotationLayer:Ct=!0,renderForms:I=!1,renderMode:at="canvas",renderTextLayer:pt=!0,rotate:z,scale:St=defaultScale,unregisterPage:Tt,width:wt,...Lt}=e,[Ot,Xt]=useResolver(),{value:jt,error:ue}=Ot,Me=reactExports.useRef(null);invariant(Z);const Ft=isProvided(Q)?Q-1:dt??null,Yt=Q??(isProvided(dt)?dt+1:null),ae=z??(jt?jt.rotate:null),ce=reactExports.useMemo(()=>{if(!jt)return null;let M=1;const T=St??defaultScale;if(wt||x){const C=jt.getViewport({scale:1,rotation:ae});wt?M=wt/C.width:x&&(M=x/C.height)}return T*M},[x,jt,ae,St,wt]);reactExports.useEffect(function(){return()=>{isProvided(Ft)&&s&&Tt&&Tt(Ft)}},[s,Z,Ft,Tt]);function ge(){if(K){if(!jt||!ce)return;K(makePageCallback(jt,ce))}if(s&&it){if(!isProvided(Ft)||!Me.current)return;it(Ft,Me.current)}}function Ye(){ue&&(warning(!1,ue.toString()),H&&H(ue))}reactExports.useEffect(function(){Xt({type:"RESET"})},[Xt,Z,Ft]),reactExports.useEffect(function(){if(!Z||!Yt)return;const T=makeCancellablePromise(Z.getPage(Yt)),C=T;return T.promise.then(k=>{Xt({type:"RESOLVE",value:k})}).catch(k=>{Xt({type:"REJECT",error:k})}),()=>cancelRunningTask(C)},[Xt,Z,Yt]),reactExports.useEffect(()=>{if(jt!==void 0){if(jt===!1){Ye();return}ge()}},[jt,ce]);const Un=reactExports.useMemo(()=>isProvided(Ft)&&Yt&&isProvided(ae)&&isProvided(ce)?{_className:i,canvasBackground:a,customTextRenderer:f,devicePixelRatio:g,onGetAnnotationsError:w,onGetAnnotationsSuccess:L,onGetStructTreeError:P,onGetStructTreeSuccess:V,onGetTextError:B,onGetTextSuccess:F,onRenderAnnotationLayerError:J,onRenderAnnotationLayerSuccess:G,onRenderError:et,onRenderSuccess:ut,onRenderTextLayerError:Et,onRenderTextLayerSuccess:ot,page:jt,pageIndex:Ft,pageNumber:Yt,renderForms:I,renderTextLayer:pt,rotate:ae,scale:ce}:null,[i,a,f,g,w,L,P,V,B,F,J,G,et,ut,Et,ot,jt,Ft,Yt,I,pt,ae,ce]),zn=reactExports.useMemo(()=>makeEventProps(Lt,()=>jt&&(ce?makePageCallback(jt,ce):void 0)),[Lt,jt,ce]),Ke=`${Ft}@${ce}/${ae}`;function Xe(){switch(at){case"custom":return invariant(d),jsxRuntimeExports.jsx(d,{},`${Ke}_custom`);case"none":return null;case"canvas":default:return jsxRuntimeExports.jsx(Canvas,{canvasRef:o},`${Ke}_canvas`)}}function Zn(){return pt?jsxRuntimeExports.jsx(TextLayer,{},`${Ke}_text`):null}function Fi(){return Ct?jsxRuntimeExports.jsx(AnnotationLayer,{},`${Ke}_annotations`):null}function _(){function M(C){return!!(C!=null&&C.page)}if(!M(Un))throw new Error("page is undefined");const T=typeof u=="function"?u(Un):u;return jsxRuntimeExports.jsxs(pageContext.Provider,{value:Un,children:[Xe(),Zn(),Fi(),T]})}function Y(){return Yt?Z===null||jt===void 0||jt===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof S=="function"?S():S}):Z===!1||jt===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof b=="function"?b():b}):_():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof R=="function"?R():R})}return jsxRuntimeExports.jsx("div",{className:clsx(i,h),"data-page-number":Yt,ref:mergeRefs(E,Me),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ce}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...zn,children:Y()})}displayWorkerWarning();GlobalWorkerOptions.workerSrc="pdf.worker.mjs";GlobalWorkerOptions.workerSrc="/pdf.worker.min.mjs";function PdfViewer({src:n,initialPage:t=1,title:e="PDF"}){const[i,s]=reactExports.useState(null),[a,o]=reactExports.useState(t),[u,h]=reactExports.useState(null),[d,f]=reactExports.useState(!0);if(!n)return null;const g=({numPages:x})=>{s(x),h(null),a>x&&o(1)},b=x=>{console.error("PDF load error:",x),h("Failed to load PDF file. The file may be inaccessible or corrupted.")};return jsxRuntimeExports.jsxs("div",{className:"pdf-viewer my-6 w-full",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>f(!d),className:"w-full flex items-center justify-between bg-indigo-50 hover:bg-indigo-100 border border-indigo-200 rounded px-4 py-3 text-left transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-800",children:e}),jsxRuntimeExports.jsx("span",{className:"text-indigo-600 text-lg",children:d?"":""})]}),!d&&jsxRuntimeExports.jsx("div",{className:"bg-white rounded-b shadow-md p-4 border border-t-0 border-indigo-200 mt-0",children:u?jsxRuntimeExports.jsx("div",{className:"text-red-600 text-sm p-2",children:u}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{maxHeight:"600px",overflowY:"auto",marginBottom:"1rem"},children:jsxRuntimeExports.jsx(Document,{file:n,onLoadSuccess:g,onError:b,children:jsxRuntimeExports.jsx(Page,{pageNumber:a,width:800,renderTextLayer:!1})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{children:["Page ",a,i?` / ${i}`:""]}),jsxRuntimeExports.jsxs("div",{className:"space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>o(x=>Math.max(1,x-1)),className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50",disabled:a<=1,children:"Prev"}),jsxRuntimeExports.jsx("button",{onClick:()=>o(x=>i?Math.min(i,x+1):x+1),className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50",disabled:i&&a>=i,children:"Next"})]})]})]})})]})}function ProjectSubpage(){const{slug:n}=useParams(),[t,e]=reactExports.useState(null),[i,s]=reactExports.useState(!0),[a,o]=reactExports.useState(null);if(reactExports.useEffect(()=>{(()=>{try{s(!0);const R=getProjectBySlug(n);if(!R){o("Project not found"),s(!1);return}e(R),s(!1)}catch(R){console.error("Error loading project:",R),o("Project not found"),s(!1)}})()},[n]),reactExports.useEffect(()=>{window.scrollTo(0,0)},[n]),i)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})});if(a)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-xl text-red-600",children:a})});const{frontmatter:u,markdownBody:h}=t,d=()=>jsxRuntimeExports.jsx("div",{className:"markdown-content",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],components:{h1:({node:S,...R})=>jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800 mt-8 mb-4",...R}),h2:({node:S,...R})=>jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-6 mb-3",...R}),h3:({node:S,...R})=>jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-4 mb-2",...R}),h4:({node:S,...R})=>jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold text-gray-800 mt-3 mb-2",...R}),p:({node:S,...R})=>jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",...R}),ul:({node:S,...R})=>jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-2",...R}),ol:({node:S,...R})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal list-inside text-gray-600 mb-4 space-y-2",...R}),li:({node:S,...R})=>jsxRuntimeExports.jsx("li",{className:"text-gray-600",...R}),a:({node:S,...R})=>jsxRuntimeExports.jsx("a",{className:"text-indigo-500 hover:text-indigo-600 underline",...R}),img:({node:S,src:R,...w})=>{const L=resolveImageSrc(R);return jsxRuntimeExports.jsx("img",{src:L,className:"w-full rounded-lg shadow-md my-4",...w})},video:({node:S,src:R,...w})=>{const L=resolveImageSrc(R);return jsxRuntimeExports.jsxs("video",{controls:!0,className:"w-full rounded-lg shadow-md my-4",...w,children:[jsxRuntimeExports.jsx("source",{src:L,type:"video/mp4"}),"Your browser doesn't support video playback."]})},code:({node:S,inline:R,className:w,children:L,...P})=>{if(R)return jsxRuntimeExports.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-sm font-mono",...P,children:L});const V=w?w.replace("language-",""):"",B=String(L).trim();if(V==="pdf"||V==="pdf-url"){const F=resolveImageSrc(B)||B;return jsxRuntimeExports.jsx("div",{className:"w-full my-4",children:jsxRuntimeExports.jsx(PdfViewer,{src:F})})}if(V==="youtube"||V==="youtube-url"){let F=B;const H=B.match(/(?:youtu\.be\/([A-Za-z0-9_-]{6,})|v=([A-Za-z0-9_-]{6,})|embed\/([A-Za-z0-9_-]{6,}))/);H&&(F=H[1]||H[2]||H[3]||F);const K=`https://www.youtube.com/embed/${F}`;return jsxRuntimeExports.jsx("div",{className:"w-full my-4",style:{position:"relative",paddingTop:"56.25%"},children:jsxRuntimeExports.jsx("iframe",{src:K,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})})}return jsxRuntimeExports.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm font-mono overflow-x-auto",children:jsxRuntimeExports.jsx("code",{...P,children:B})})}},children:h})}),f=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(d,{}),u.pdf&&jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(PdfViewer,{src:u.pdf})})]}),g=(S,R=!1)=>{if(!S)return null;const w=S.spreadX||(R?{min:10,max:90}:{min:0,max:100});return jsxRuntimeExports.jsx(AnimatedShapes,{shape:S.shape||"triangle",color:S.color||"red",count:S.count||12,orientation:S.orientation||(R?"vertical":"horizontal"),height:"100%",spreadX:w,spreadY:S.spreadY||{min:0,max:100}})},b=g(u.leftAnimation,!0),x=g(u.rightAnimation,!0),E=g(u.bannerBackground,!1);return jsxRuntimeExports.jsx(BaseSubpage,{title:u.title,galleryImages:u.galleryImages||[],customDescription:jsxRuntimeExports.jsx(f,{}),learnMoreLink:u.learnMoreLink,leftAnimation:b,rightAnimation:x,bannerBackground:E})}function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsxs(AnimatedLayout,{children:[jsxRuntimeExports.jsx(LandingPage,{}),jsxRuntimeExports.jsx(AboutSection,{id:"about"}),jsxRuntimeExports.jsx(Projects,{id:"projects"})]})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(AnimatedLayout,{children:jsxRuntimeExports.jsx(AboutSection,{})})}),jsxRuntimeExports.jsx(Route,{path:"/projects",element:jsxRuntimeExports.jsx(AnimatedLayout,{children:jsxRuntimeExports.jsx(Projects,{})})}),jsxRuntimeExports.jsx(Route,{path:"/projects/:slug",element:jsxRuntimeExports.jsx(AnimatedLayout,{children:jsxRuntimeExports.jsx(ProjectSubpage,{})})})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
